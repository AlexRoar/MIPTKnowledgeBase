(function(){
shadow$provide[532]=function(aa,O,Ea,z){var w=O(13);!function(y,A){"object"==typeof z&&"object"==typeof Ea?Ea.exports=A(O(3),O(12)):"function"==typeof define&&define.amd?define(["react","react-dom"],A):"object"==typeof z?z.Excalidraw=A(O(3),O(12)):y.Excalidraw=A(y.React,y.ReactDOM)}(self,function(y,A){return(()=>{function u(B){if(a[B])return a[B].exports;var r=a[B]={id:B,exports:{}};return v[B](r,r.exports,u),r.exports}var k,h,m,v={5374:B=>{function r(p,G,E,K,U,ba,P){try{var L=p[ba](P),M=L.value}catch(R){return void E(R)}L.done?
G(M):Promise.resolve(M).then(K,U)}B.exports=function(p){return function(){var G=this,E=arguments;return new Promise(function(K,U){function ba(M){r(L,K,U,ba,P,"next",M)}function P(M){r(L,K,U,ba,P,"throw",M)}var L=p.apply(G,E);ba(void 0)})}}},566:B=>{B.exports=function(r,p,G){return p in r?Object.defineProperty(r,p,{value:G,enumerable:!0,configurable:!0,writable:!0}):r[p]=G,r}},6950:B=>{function r(){return B.exports=r=Object.assign||function(p){for(var G=1;G<arguments.length;G++){var E=arguments[G],
K;for(K in E)Object.prototype.hasOwnProperty.call(E,K)&&(p[K]=E[K])}return p},r.apply(this,arguments)}B.exports=r},5474:(B,r,p)=>{var G=p(8387);B.exports=function(E,K){if(null==E)return{};var U,ba=G(E,K);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(E);for(U=0;U<P.length;U++){var L=P[U];0<=K.indexOf(L)||Object.prototype.propertyIsEnumerable.call(E,L)&&(ba[L]=E[L])}}return ba}},8387:B=>{B.exports=function(r,p){if(null==r)return{};var G,E={},K=Object.keys(r);for(G=0;G<K.length;G++){var U=
K[G];0<=p.indexOf(U)||(E[U]=r[U])}return E}},6009:(B,r,p)=>{r=p(487);p=p(8328);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},1395:(B,r,p)=>{r=p(487);p=p(6121);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},3211:(B,r,p)=>{r=p(487);p=p(2510);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||
{}},5574:(B,r,p)=>{r=p(487);p=p(7972);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},4518:(B,r,p)=>{r=p(487);p=p(190);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},3040:(B,r,p)=>{r=p(487);p=p(6718);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},8623:(B,r,p)=>{r=p(487);p=p(3623);
"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},4193:(B,r,p)=>{r=p(487);p=p(103);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},341:(B,r,p)=>{r=p(487);p=p(7061);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},9705:(B,r,p)=>{r=p(487);p=p(1498);"string"==typeof(p=p.__esModule?p.default:
p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},7143:(B,r,p)=>{r=p(487);p=p(666);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},7428:(B,r,p)=>{r=p(487);p=p(849);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},8465:(B,r,p)=>{r=p(487);p=p(6915);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",
singleton:!1});B.exports=p.locals||{}},8680:(B,r,p)=>{r=p(487);p=p(7030);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},205:(B,r,p)=>{r=p(487);p=p(3994);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},8416:(B,r,p)=>{r=p(487);p=p(700);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||
{}},2816:(B,r,p)=>{r=p(487);p=p(287);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},1575:(B,r,p)=>{r=p(487);p=p(5657);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},7287:(B,r,p)=>{r=p(487);p=p(7392);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},8518:(B,r,p)=>{r=p(487);p=p(6065);
"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},5849:(B,r,p)=>{r=p(487);p=p(83);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},9478:(B,r,p)=>{r=p(487);p=p(1554);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},2680:(B,r,p)=>{r=p(487);p=p(1970);"string"==typeof(p=p.__esModule?p.default:
p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},3142:(B,r,p)=>{r=p(487);p=p(961);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},8234:(B,r,p)=>{r=p(487);p=p(4878);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},4651:(B,r,p)=>{r=p(487);p=p(1988);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",
singleton:!1});B.exports=p.locals||{}},2189:(B,r,p)=>{r=p(487);p=p(3245);"string"==typeof(p=p.__esModule?p.default:p)&&(p=[[B.id,p,""]]);r(p,{insert:"head",singleton:!1});B.exports=p.locals||{}},487:(B,r,p)=>{function G(qa){for(var ka=-1,la=0;la<R.length;la++)if(R[la].identifier===qa){ka=la;break}return ka}function E(qa,ka){for(var la={},pa=[],sa=0;sa<qa.length;sa++){var J=qa[sa],V=ka.base?J[0]+ka.base:J[0],ha=la[V]||0,ja="".concat(V," ").concat(ha);la[V]=ha+1;V=G(ja);J={css:J[1],media:J[2],sourceMap:J[3]};
-1!==V?(R[V].references++,R[V].updater(J)):R.push({identifier:ja,updater:P(J,ka),references:1});pa.push(ja)}return pa}function K(qa){var ka=document.createElement("style"),la=qa.attributes||{};if(void 0===la.nonce){var pa=p.nc;pa&&(la.nonce=pa)}if(Object.keys(la).forEach(function(sa){ka.setAttribute(sa,la[sa])}),"function"==typeof qa.insert)qa.insert(ka);else{qa=M(qa.insert||"head");if(!qa)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
qa.appendChild(ka)}return ka}function U(qa,ka,la,pa){la=la?"":pa.media?"@media ".concat(pa.media," {").concat(pa.css,"}"):pa.css;qa.styleSheet?qa.styleSheet.cssText=za(ka,la):(la=document.createTextNode(la),pa=qa.childNodes,pa[ka]&&qa.removeChild(pa[ka]),pa.length?qa.insertBefore(la,pa[ka]):qa.appendChild(la))}function ba(qa,ka,la){ka=la.css;var pa=la.media;la=la.sourceMap;if(pa?qa.setAttribute("media",pa):qa.removeAttribute("media"),la&&"undefined"!=typeof btoa&&(ka+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(la)))),
" */")),qa.styleSheet)qa.styleSheet.cssText=ka;else{for(;qa.firstChild;)qa.removeChild(qa.firstChild);qa.appendChild(document.createTextNode(ka))}}function P(qa,ka){if(ka.singleton){var la=Aa++;var pa=ia||(ia=K(ka));var sa=U.bind(null,pa,la,!1);var J=U.bind(null,pa,la,!0)}else pa=K(ka),sa=ba.bind(null,pa,ka),J=function(){if(null===pa.parentNode)var V=!1;else pa.parentNode.removeChild(pa),V=void 0;!V};return sa(qa),function(V){V?(V.css!==qa.css||V.media!==qa.media||V.sourceMap!==qa.sourceMap)&&sa(qa=
V):J()}}var L,M=function(){var qa={};return function(ka){if(void 0===qa[ka]){var la=document.querySelector(ka);if(window.HTMLIFrameElement&&la instanceof window.HTMLIFrameElement)try{la=la.contentDocument.head}catch(pa){la=null}qa[ka]=la}return qa[ka]}}(),R=[],ra,za=(ra=[],function(qa,ka){return ra[qa]=ka,ra.filter(Boolean).join("\n")}),ia=null,Aa=0;B.exports=function(qa,ka){(ka=ka||{}).singleton||"boolean"==typeof ka.singleton||(ka.singleton=(void 0===L&&(L=!(!(window&&document&&document.all)||window.atob)),
L));var la=E(qa=qa||[],ka);return function(pa){if(pa=pa||[],"[object Array]"===Object.prototype.toString.call(pa)){for(var sa=0;sa<la.length;sa++){var J=G(la[sa]);R[J].references--}pa=E(pa,ka);for(sa=0;sa<la.length;sa++)J=G(la[sa]),0===R[J].references&&(R[J].updater(),R.splice(J,1));la=pa}}}},2829:B=>{B.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:B=>{B.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(B,r,p)=>{function G(K){if(!p.o(E,K))return Promise.resolve().then(()=>
{var P=Error("Cannot find module '"+K+"'");throw P.code="MODULE_NOT_FOUND",P;});var U=E[K],ba=U[0];return Promise.all(U.slice(1).map(p.e)).then(()=>p.t(ba,3))}var E={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};G.keys=()=>Object.keys(E);G.id=788;B.exports=G},7154:B=>{function r(){return B.exports=r=Object.assign||function(p){for(var G=1;G<arguments.length;G++){var E=arguments[G],K;for(K in E)Object.prototype.hasOwnProperty.call(E,K)&&(p[K]=E[K])}return p},r.apply(this,arguments)}B.exports=r},6479:(B,r,p)=>{var G=p(7316);B.exports=function(E,K){if(null==E)return{};var U,ba=G(E,K);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(E);
for(U=0;U<P.length;U++){var L=P[U];0<=K.indexOf(L)||Object.prototype.propertyIsEnumerable.call(E,L)&&(ba[L]=E[L])}}return ba}},7316:B=>{B.exports=function(r,p){if(null==r)return{};var G,E={},K=Object.keys(r);for(G=0;G<K.length;G++){var U=K[G];0<=p.indexOf(U)||(E[U]=r[U])}return E}},8328:(B,r,p)=>{p.r(r);p.d(r,{default:()=>K});r=p(3645);var G=p.n(r);r=p(1667);r=p.n(r);var E=p(7464);p=p(9638);G=G()(function(U){return U[1]});E=r()(E.Z);p=r()(p.Z);G.push([B.id,'@font-face{font-family:"Virgil";src:url('+
E+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+p+");font-display:swap}",""]);const K=G},6121:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const G=p},2510:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const G=p},7972:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const G=p},190:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const G=p},6718:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const G=p},3623:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const G=p},103:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const G=p},7061:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);
p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const G=p},1498:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const G=p},666:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const G=p},849:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const G=p},6915:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});
r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const G=p},7030:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const G=p},3994:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const G=p},700:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const G=p},287:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const G=p},5657:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const G=p},7392:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const G=p},6065:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const G=p},83:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const G=p},1554:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const G=p},1970:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const G=p},961:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const G=p},4878:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const G=p},1988:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const G=p},3245:(B,r,p)=>{p.r(r);p.d(r,{default:()=>G});r=p(3645);p=p.n(r)()(function(E){return E[1]});p.push([B.id,"",""]);p.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const G=p},3645:B=>{B.exports=function(r){var p=[];return p.toString=function(){return this.map(function(G){var E=r(G);return G[2]?"@media ".concat(G[2]," {").concat(E,"}"):E}).join("")},p.i=function(G,E,K){"string"==typeof G&&(G=[[null,
G,""]]);var U={};if(K)for(var ba=0;ba<this.length;ba++){var P=this[ba][0];null!=P&&(U[P]=!0)}for(ba=0;ba<G.length;ba++)P=[].concat(G[ba]),K&&U[P[0]]||(E&&(P[2]?P[2]="".concat(E," and ").concat(P[2]):P[2]=E),p.push(P))},p}},1667:B=>{B.exports=function(r,p){return p||(p={}),"string"!=typeof(r=r&&r.__esModule?r.default:r)?r:(/^['"].*['"]$/.test(r)&&(r=r.slice(1,-1)),p.hash&&(r+=p.hash),/["'() \t\n]/.test(r)||p.needQuotes?'"'.concat(r.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):r)}},9638:(B,r,p)=>{p.d(r,
{Z:()=>G});const G=p.p+"excalidraw-assets/Cascadia.woff2"},7464:(B,r,p)=>{p.d(r,{Z:()=>G});const G=p.p+"excalidraw-assets/Virgil.woff2"},8288:(B,r,p)=>{p.d(r,{iC:()=>E,f:()=>K,qx:()=>U,Iw:()=>ba,$e:()=>P,wZ:()=>L,ay:()=>M,oc:()=>R,Oh:()=>ra,Ks:()=>G,Vi:()=>za,$C:()=>ia,ut:()=>Aa,_D:()=>qa,n5:()=>ka,rk:()=>la,Hg:()=>pa,hs:()=>sa,eQ:()=>J,k:()=>V,LO:()=>ha,I:()=>ja,Gj:()=>va,nM:()=>Va,Lg:()=>Ka,HM:()=>ab,V4:()=>pb,EH:()=>Kb,Gi:()=>Mb});var G;B=p(2189);p=p.n(B);var E="Excalidraw",K=10,U=8,ba=5,P=1,L=
30,M=Math.PI/12,R={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},ra={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(kb){kb.COPY="copy";kb.PASTE="paste";kb.CUT="cut";kb.KEYDOWN="keydown";kb.KEYUP="keyup";kb.MOUSE_MOVE="mousemove";kb.RESIZE="resize";kb.UNLOAD="unload";kb.BLUR="blur";kb.DRAG_OVER="dragover";kb.DROP="drop";kb.GESTURE_END="gestureend";kb.BEFORE_UNLOAD="beforeunload";kb.GESTURE_START="gesturestart";kb.GESTURE_CHANGE="gesturechange";kb.POINTER_MOVE=
"pointermove";kb.POINTER_UP="pointerup";kb.STATE_CHANGE="statechange";kb.WHEEL="wheel";kb.TOUCH_START="touchstart";kb.TOUCH_END="touchend";kb.HASHCHANGE="hashchange";kb.VISIBILITY_CHANGE="visibilitychange";kb.SCROLL="scroll"}(G||(G={}));var za={TEST:"test",DEVELOPMENT:"development"},ia={SHAPE_ACTIONS_MENU:"App-menu__left"},Aa={1:"Virgil",2:"Helvetica",3:"Cascadia"},qa="Segoe UI Emoji",ka=20,la=1,pa="left",sa="top",J="{version}",V=20,ha={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
ja={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},va=300,Va=500,Ka=5E3,ab=100,pb=.1,Kb={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Mb=p().appearanceFilter},3956:(B,r,p)=>{function G(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function E(e,t,x){return[e[0]+(t[0]-e[0])*x,e[1]+(t[1]-e[1])*x]}function K(e,t,x,H){H=H||[];var W=e[t+0],ca=e[t+1],ya=e[t+2];const ua=e[t+3];var Ga=3*ca[0]-2*W[0]-ua[0];Ga*=Ga;ca=3*ca[1]-2*W[1]-ua[1];ca*=ca;let Ua=3*ya[0]-2*ua[0]-W[0];Ua*=Ua;W=3*ya[1]-2*ua[1]-W[1];
(W*=W,Ga<Ua&&(Ga=Ua),ca<W&&(ca=W),Ga+ca)<x?(x=e[t+0],H.length?1<(Na=H[H.length-1],ob=x,Math.sqrt(G(Na,ob)))&&H.push(x):H.push(x),H.push(e[t+3])):(Na=e[t+0],Ga=e[t+1],ob=e[t+2],e=e[t+3],t=E(Na,Ga,.5),W=E(Ga,ob,.5),ob=E(ob,e,.5),Ga=E(t,W,.5),W=E(W,ob,.5),ya=E(Ga,W,.5),K([Na,t,Ga,ya],0,x,H),K([ya,W,ob,e],0,x,H));var Na,ob;return H}function U(e,t){return ba(e,0,e.length,t)}function ba(e,t,x,H,W){W=W||[];const ca=e[t],ya=e[x-1];let ua=0,Ga=1;for(let wb=t+1;wb<x-1;++wb){var Ua=e[wb];var Na=ca,ob=ya,vb=
G(Na,ob);0===vb?Ua=G(Ua,Na):(vb=((Ua[0]-Na[0])*(ob[0]-Na[0])+(Ua[1]-Na[1])*(ob[1]-Na[1]))/vb,Ua=(vb=Math.max(0,Math.min(1,vb)),G(Ua,E(Na,ob,vb))));Ua>ua&&(ua=Ua,Ga=wb)}return Math.sqrt(ua)>H?(ba(e,t,Ga+1,H,W),ba(e,Ga,x,H,W)):(W.length||W.push(ca),W.push(ya)),W}function P(e,t=.15,x){const H=[],W=(e.length-1)/3;for(let ca=0;ca<W;ca++)K(e,3*ca,t,H);return x&&0<x?ba(H,0,H.length,x):H}function L(e,t,x){if(e&&e.length){const [H,W]=t;t=Math.PI/180*x;const ca=Math.cos(t),ya=Math.sin(t);e.forEach(ua=>{const [Ga,
Ua]=ua;ua[0]=(Ga-H)*ca-(Ua-W)*ya+H;ua[1]=(Ga-H)*ya+(Ua-W)*ca+W})}}function M(e){const t=e[0];e=e[1];return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function R(e,t,x,H){const W=t[1]-e[1];t=e[0]-t[0];e=W*e[0]+t*e[1];const ca=H[1]-x[1];H=x[0]-H[0];x=ca*x[0]+H*x[1];const ya=W*H-ca*t;return ya?[(H*e-t*x)/ya,(W*x-ca*e)/ya]:null}function ra(e,t,x){const H=e.length;if(3>H)return!1;const W=[Number.MAX_SAFE_INTEGER,x];t=[t,x];x=0;for(let ca=0;ca<H;ca++){const ya=e[ca],ua=e[(ca+1)%H];if(Aa(ya,
ua,t,W)){if(0===ia(ya,t,ua))return za(ya,t,ua);x++}}return 1==x%2}function za(e,t,x){return t[0]<=Math.max(e[0],x[0])&&t[0]>=Math.min(e[0],x[0])&&t[1]<=Math.max(e[1],x[1])&&t[1]>=Math.min(e[1],x[1])}function ia(e,t,x){e=(t[1]-e[1])*(x[0]-t[0])-(t[0]-e[0])*(x[1]-t[1]);return 0===e?0:0<e?1:2}function Aa(e,t,x,H){const W=ia(e,t,x),ca=ia(e,t,H),ya=ia(x,H,e),ua=ia(x,H,t);return W!==ca&&ya!==ua||!(0!==W||!za(e,x,t))||!(0!==ca||!za(e,H,t))||!(0!==ya||!za(x,e,H))||!(0!==ua||!za(x,t,H))}function qa(e,t){const x=
[0,0],H=Math.round(t.hachureAngle+90);H&&L(e,x,H);t=function(W,ca){var ya=[...W];ya[0].join(",")!==ya[ya.length-1].join(",")&&ya.push([ya[0][0],ya[0][1]]);W=[];if(ya&&2<ya.length){let Ga=ca.hachureGap;0>Ga&&(Ga=4*ca.strokeWidth);Ga=Math.max(Ga,.1);ca=[];for(var ua=0;ua<ya.length-1;ua++){const ob=ya[ua],vb=ya[ua+1];if(ob[1]!==vb[1]){const wb=Math.min(ob[1],vb[1]);ca.push({ymin:wb,ymax:Math.max(ob[1],vb[1]),x:wb===ob[1]?ob[0]:vb[0],islope:(vb[0]-ob[0])/(vb[1]-ob[1])})}}if(ca.sort((ob,vb)=>ob.ymin<vb.ymin?
-1:ob.ymin>vb.ymin?1:ob.x<vb.x?-1:ob.x>vb.x?1:ob.ymax===vb.ymax?0:(ob.ymax-vb.ymax)/Math.abs(ob.ymax-vb.ymax)),!ca.length)return W;let Ua=[],Na=ca[0].ymin;for(;Ua.length||ca.length;){if(ca.length){ya=-1;for(ua=0;ua<ca.length&&!(ca[ua].ymin>Na);ua++)ya=ua;ca.splice(0,ya+1).forEach(ob=>{Ua.push({s:Na,edge:ob})})}if(Ua=Ua.filter(ob=>!(ob.edge.ymax<=Na)),Ua.sort((ob,vb)=>ob.edge.x===vb.edge.x?0:(ob.edge.x-vb.edge.x)/Math.abs(ob.edge.x-vb.edge.x)),1<Ua.length)for(ya=0;ya<Ua.length;ya+=2){ua=ya+1;if(ua>=
Ua.length)break;W.push([[Math.round(Ua[ya].edge.x),Na],[Math.round(Ua[ua].edge.x),Na]])}Na+=Ga;Ua.forEach(ob=>{ob.edge.x+=Ga*ob.edge.islope})}}return W}(e,t);return H&&(L(e,x,-H),function(W,ca,ya){const ua=[];W.forEach(Ga=>ua.push(...Ga));L(ua,ca,ya)}(t,x,-H)),t}function ka(e){const t=[];a:{var x=e;for(var H=[];""!==x;){if(!x.match(/^([ \t\r\n,]+)/))if(x.match(/^([aAcChHlLmMqQsStTvVzZ])/))H[H.length]={type:0,text:RegExp.$1};else{if(!x.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){x=
[];break a}H[H.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}x=x.substr(RegExp.$1.length)}x=(H[H.length]={type:2,text:""},H)}H="BOD";let W=0;for(var ca=x[W];2!==ca.type;){let ya=0;const ua=[];if("BOD"===H){if("M"!==ca.text&&"m"!==ca.text)return ka("M0,0"+e);W++;ya=fh[ca.text];H=ca.text}else 1===ca.type?ya=fh[H]:(W++,ya=fh[ca.text],H=ca.text);if(!(W+ya<x.length))throw Error("Path data ended short");for(ca=W;ca<W+ya;ca++){const Ga=x[ca];if(1!==Ga.type)throw Error("Param not a number: "+H+","+Ga.text);
ua[ua.length]=+Ga.text}if("number"!=typeof fh[H])throw Error("Bad segment: "+H);t.push({key:H,data:ua});W+=ya;ca=x[W];"M"===H&&(H="L");"m"===H&&(H="l")}return t}function la(e){let t=0,x=0,H=0,W=0;const ca=[];for(const {key:ya,data:ua}of e)switch(ya){case "M":ca.push({key:"M",data:[...ua]});[t,x]=ua;[H,W]=ua;break;case "m":t+=ua[0];x+=ua[1];ca.push({key:"M",data:[t,x]});H=t;W=x;break;case "L":ca.push({key:"L",data:[...ua]});[t,x]=ua;break;case "l":t+=ua[0];x+=ua[1];ca.push({key:"L",data:[t,x]});break;
case "C":ca.push({key:"C",data:[...ua]});t=ua[4];x=ua[5];break;case "c":e=ua.map((Ga,Ua)=>Ua%2?Ga+x:Ga+t);ca.push({key:"C",data:e});t=e[4];x=e[5];break;case "Q":ca.push({key:"Q",data:[...ua]});t=ua[2];x=ua[3];break;case "q":e=ua.map((Ga,Ua)=>Ua%2?Ga+x:Ga+t);ca.push({key:"Q",data:e});t=e[2];x=e[3];break;case "A":ca.push({key:"A",data:[...ua]});t=ua[5];x=ua[6];break;case "a":t+=ua[5];x+=ua[6];ca.push({key:"A",data:[ua[0],ua[1],ua[2],ua[3],ua[4],t,x]});break;case "H":ca.push({key:"H",data:[...ua]});
t=ua[0];break;case "h":t+=ua[0];ca.push({key:"H",data:[t]});break;case "V":ca.push({key:"V",data:[...ua]});x=ua[0];break;case "v":x+=ua[0];ca.push({key:"V",data:[x]});break;case "S":ca.push({key:"S",data:[...ua]});t=ua[2];x=ua[3];break;case "s":e=ua.map((Ga,Ua)=>Ua%2?Ga+x:Ga+t);ca.push({key:"S",data:e});t=e[2];x=e[3];break;case "T":ca.push({key:"T",data:[...ua]});t=ua[0];x=ua[1];break;case "t":t+=ua[0];x+=ua[1];ca.push({key:"T",data:[t,x]});break;case "Z":case "z":ca.push({key:"Z",data:[]}),t=H,x=
W}return ca}function pa(e){const t=[];var x="";let H=0,W=0,ca=0,ya=0,ua=0,Ga=0;for(const {key:Na,data:ob}of e){switch(Na){case "M":t.push({key:"M",data:[...ob]});[H,W]=ob;[ca,ya]=ob;break;case "C":t.push({key:"C",data:[...ob]});H=ob[4];W=ob[5];ua=ob[2];Ga=ob[3];break;case "L":t.push({key:"L",data:[...ob]});[H,W]=ob;break;case "H":H=ob[0];t.push({key:"L",data:[H,W]});break;case "V":W=ob[0];t.push({key:"L",data:[H,W]});break;case "S":var Ua=e=0;"C"===x||"S"===x?(e=H+(H-ua),Ua=W+(W-Ga)):(e=H,Ua=W);t.push({key:"C",
data:[e,Ua,...ob]});ua=ob[0];Ga=ob[1];H=ob[2];W=ob[3];break;case "T":const [vb,wb]=ob;Ua=e=0;"Q"===x||"T"===x?(e=H+(H-ua),Ua=W+(W-Ga)):(e=H,Ua=W);t.push({key:"C",data:[H+2*(e-H)/3,W+2*(Ua-W)/3,vb+2*(e-vb)/3,wb+2*(Ua-wb)/3,vb,wb]});ua=e;Ga=Ua;H=vb;W=wb;break;case "Q":const [jc,fc,Fc,nd]=ob;t.push({key:"C",data:[H+2*(jc-H)/3,W+2*(fc-W)/3,Fc+2*(jc-Fc)/3,nd+2*(fc-nd)/3,Fc,nd]});ua=jc;Ga=fc;H=Fc;W=nd;break;case "A":x=Math.abs(ob[0]);e=Math.abs(ob[1]);Ua=ob[2];const td=ob[3],Dd=ob[4],xe=ob[5],te=ob[6];
if(0===x||0===e)t.push({key:"C",data:[H,W,xe,te,xe,te]}),H=xe,W=te;else if(H!==xe||W!==te)J(H,W,xe,te,x,e,Ua,td,Dd).forEach(function(We){t.push({key:"C",data:We})}),H=xe,W=te;break;case "Z":t.push({key:"Z",data:[]}),H=ca,W=ya}x=Na}return t}function sa(e,t,x){return[e*Math.cos(x)-t*Math.sin(x),e*Math.sin(x)+t*Math.cos(x)]}function J(e,t,x,H,W,ca,ya,ua,Ga,Ua){const Na=(ob=ya,Math.PI*ob/180);var ob;ob=[];if(Ua)[ua,vb,wb,jc]=Ua;else{[e,t]=sa(e,t,-Na);[x,H]=sa(x,H,-Na);var vb=(e-x)/2;var wb=(t-H)/2;var jc=
vb*vb/(W*W)+wb*wb/(ca*ca);1<jc&&(jc=Math.sqrt(jc),W*=jc,ca*=jc);jc=W*W;var fc=ca*ca;ua=(ua===Ga?-1:1)*Math.sqrt(Math.abs((jc*fc-jc*wb*wb-fc*vb*vb)/(jc*wb*wb+fc*vb*vb)));wb=ua*W*wb/ca+(e+x)/2;jc=ua*-ca*vb/W+(t+H)/2;ua=Math.asin(parseFloat(((t-jc)/ca).toFixed(9)));vb=Math.asin(parseFloat(((H-jc)/ca).toFixed(9)));e<wb&&(ua=Math.PI-ua);x<wb&&(vb=Math.PI-vb);0>ua&&(ua=2*Math.PI+ua);0>vb&&(vb=2*Math.PI+vb);Ga&&ua>vb&&(ua-=2*Math.PI);!Ga&&vb>ua&&(vb-=2*Math.PI)}if(Math.abs(vb-ua)>120*Math.PI/180){ob=vb;
fc=x;const Fc=H;vb=Ga&&vb>ua?ua+120*Math.PI/180:ua+120*Math.PI/180*-1;ob=J(x=wb+W*Math.cos(vb),H=jc+ca*Math.sin(vb),fc,Fc,W,ca,ya,0,Ga,[vb,ob,wb,jc])}ya=Math.tan((vb-ua)/4);W=4/3*W*ya;ya*=4/3*ca;ca=[e,t];e=[e+W*Math.sin(ua),t-ya*Math.cos(ua)];t=[x+W*Math.sin(vb),H-ya*Math.cos(vb)];x=[x,H];if(e[0]=2*ca[0]-e[0],e[1]=2*ca[1]-e[1],Ua)return[e,t,x].concat(ob);ob=[e,t,x].concat(ob);Ua=[];for(x=0;x<ob.length;x+=3)H=sa(ob[x][0],ob[x][1],Na),e=sa(ob[x+1][0],ob[x+1][1],Na),t=sa(ob[x+2][0],ob[x+2][1],Na),Ua.push([H[0],
H[1],e[0],e[1],t[0],t[1]]);return Ua}function V(e,t,x){const H=(e||[]).length;if(2<H){const W=[];for(let ca=0;ca<H-1;ca++)W.push(...kb(e[ca][0],e[ca][1],e[ca+1][0],e[ca+1][1],x));return t&&W.push(...kb(e[H-1][0],e[H-1][1],e[0][0],e[0][1],x)),{type:"path",ops:W}}return 2===H?{type:"path",ops:kb(e[0][0],e[0][1],e[1][0],e[1][1],x)}:{type:"path",ops:[]}}function ha(e,t){let x=pc(e,1+.2*t.roughness,t);if(!t.disableMultiStroke){var H=1.5*(1+.22*t.roughness);const W=Object.assign({},t);W.randomizer=void 0;
t.seed&&(W.seed=t.seed+1);e=pc(e,H,W);x=x.concat(e)}return{type:"path",ops:x}}function ja(e,t,x){const H=2*Math.PI/Math.max(x.curveStepCount,x.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)));e=Math.abs(e/2);t=Math.abs(t/2);const W=1-x.curveFitting;return e+=Mb(e*W,x),t+=Mb(t*W,x),{increment:H,rx:e,ry:t}}function va(e,t,x,H){const [W,ca]=Pc(H.increment,e,t,H.rx,H.ry,1,H.increment*Kb(.1,Kb(.4,1,x),x),x);let ya=yc(W,null,x);x.disableMultiStroke||([e]=
Pc(H.increment,e,t,H.rx,H.ry,1.5,0,x),x=yc(e,null,x),ya=ya.concat(x));return{estimatedPoints:ca,opset:{type:"path",ops:ya}}}function Va(e,t,x,H,W,ca,ya,ua,Ga){x=Math.abs(x/2);H=Math.abs(H/2);x+=Mb(.01*x,Ga);for(H+=Mb(.01*H,Ga);0>W;)W+=2*Math.PI,ca+=2*Math.PI;ca-W>2*Math.PI&&(W=0,ca=2*Math.PI);var Ua=Math.min(2*Math.PI/Ga.curveStepCount/2,(ca-W)/2);const Na=Zc(Ua,e,t,x,H,W,ca,1,Ga);Ga.disableMultiStroke||(Ua=Zc(Ua,e,t,x,H,W,ca,1.5,Ga),Na.push(...Ua));return ya&&(ua?Na.push(...kb(e,t,e+x*Math.cos(W),
t+H*Math.sin(W),Ga),...kb(e,t,e+x*Math.cos(ca),t+H*Math.sin(ca),Ga)):Na.push({op:"lineTo",data:[e,t]},{op:"lineTo",data:[e+x*Math.cos(W),t+H*Math.sin(W)]})),{type:"path",ops:Na}}function Ka(e,t){const x=[];if(e.length){const H=t.maxRandomnessOffset||0,W=e.length;if(2<W){x.push({op:"move",data:[e[0][0]+Mb(H,t),e[0][1]+Mb(H,t)]});for(let ca=1;ca<W;ca++)x.push({op:"lineTo",data:[e[ca][0]+Mb(H,t),e[ca][1]+Mb(H,t)]})}}return{type:"fillPath",ops:x}}function ab(e,t){var x=Ld;let H=t.fillStyle||"hachure";
if(!cg[H])switch(H){case "zigzag":cg[H]||(cg[H]=new Kf(x));break;case "cross-hatch":cg[H]||(cg[H]=new hg(x));break;case "dots":cg[H]||(cg[H]=new rh(x));break;case "dashed":cg[H]||(cg[H]=new ej(x));break;case "zigzag-line":cg[H]||(cg[H]=new yf(x));break;default:H="hachure",cg[H]||(cg[H]=new Pd(x))}return cg[H].fillPolygon(e,t)}function pb(e){return e.randomizer||(e.randomizer=new ze(e.seed||0)),e.randomizer.next()}function Kb(e,t,x,H=1){return x.roughness*H*(pb(x)*(t-e)+e)}function Mb(e,t,x=1){return Kb(-e,
e,t,x)}function kb(e,t,x,H,W,ca=!1){const ya=ca?W.disableMultiStrokeFill:W.disableMultiStroke;ca=sc(e,t,x,H,W,!0,!1);if(ya)return ca;e=sc(e,t,x,H,W,!0,!0);return ca.concat(e)}function sc(e,t,x,H,W,ca,ya){var ua=Math.pow(e-x,2)+Math.pow(t-H,2),Ga=Math.sqrt(ua);let Ua;Ua=200>Ga?1:500<Ga?.4:-.0016668*Ga+1.233334;let Na=W.maxRandomnessOffset||0;Na*Na*100>ua&&(Na=Ga/10);ua=Na/2;Ga=.2+.2*pb(W);let ob=W.bowing*W.maxRandomnessOffset*(H-t)/200,vb=W.bowing*W.maxRandomnessOffset*(e-x)/200;ob=Mb(ob,W,Ua);vb=
Mb(vb,W,Ua);const wb=[];return ca&&(ya?wb.push({op:"move",data:[e+Mb(ua,W,Ua),t+Mb(ua,W,Ua)]}):wb.push({op:"move",data:[e+Mb(Na,W,Ua),t+Mb(Na,W,Ua)]})),ya?wb.push({op:"bcurveTo",data:[ob+e+(x-e)*Ga+Mb(ua,W,Ua),vb+t+(H-t)*Ga+Mb(ua,W,Ua),ob+e+2*(x-e)*Ga+Mb(ua,W,Ua),vb+t+2*(H-t)*Ga+Mb(ua,W,Ua),x+Mb(ua,W,Ua),H+Mb(ua,W,Ua)]}):wb.push({op:"bcurveTo",data:[ob+e+(x-e)*Ga+Mb(Na,W,Ua),vb+t+(H-t)*Ga+Mb(Na,W,Ua),ob+e+2*(x-e)*Ga+Mb(Na,W,Ua),vb+t+2*(H-t)*Ga+Mb(Na,W,Ua),x+Mb(Na,W,Ua),H+Mb(Na,W,Ua)]}),wb}function pc(e,
t,x){const H=[];H.push([e[0][0]+Mb(t,x),e[0][1]+Mb(t,x)]);H.push([e[0][0]+Mb(t,x),e[0][1]+Mb(t,x)]);for(let W=1;W<e.length;W++)H.push([e[W][0]+Mb(t,x),e[W][1]+Mb(t,x)]),W===e.length-1&&H.push([e[W][0]+Mb(t,x),e[W][1]+Mb(t,x)]);return yc(H,null,x)}function yc(e,t,x){const H=e.length,W=[];if(3<H){const ca=[],ya=1-x.curveTightness;W.push({op:"move",data:[e[1][0],e[1][1]]});for(let ua=1;ua+2<H;ua++){const Ga=e[ua];ca[0]=[Ga[0],Ga[1]];ca[1]=[Ga[0]+(ya*e[ua+1][0]-ya*e[ua-1][0])/6,Ga[1]+(ya*e[ua+1][1]-ya*
e[ua-1][1])/6];ca[2]=[e[ua+1][0]+(ya*e[ua][0]-ya*e[ua+2][0])/6,e[ua+1][1]+(ya*e[ua][1]-ya*e[ua+2][1])/6];ca[3]=[e[ua+1][0],e[ua+1][1]];W.push({op:"bcurveTo",data:[ca[1][0],ca[1][1],ca[2][0],ca[2][1],ca[3][0],ca[3][1]]})}t&&2===t.length&&(e=x.maxRandomnessOffset,W.push({op:"lineTo",data:[t[0]+Mb(e,x),t[1]+Mb(e,x)]}))}else 3===H?(W.push({op:"move",data:[e[1][0],e[1][1]]}),W.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===H&&W.push(...kb(e[0][0],e[0][1],e[1][0],e[1][1],
x));return W}function Pc(e,t,x,H,W,ca,ya,ua){const Ga=[],Ua=[],Na=Mb(.5,ua)-Math.PI/2;Ua.push([Mb(ca,ua)+t+.9*H*Math.cos(Na-e),Mb(ca,ua)+x+.9*W*Math.sin(Na-e)]);for(let ob=Na;ob<2*Math.PI+Na-.01;ob+=e){const vb=[Mb(ca,ua)+t+H*Math.cos(ob),Mb(ca,ua)+x+W*Math.sin(ob)];Ga.push(vb);Ua.push(vb)}return Ua.push([Mb(ca,ua)+t+H*Math.cos(Na+2*Math.PI+.5*ya),Mb(ca,ua)+x+W*Math.sin(Na+2*Math.PI+.5*ya)]),Ua.push([Mb(ca,ua)+t+.98*H*Math.cos(Na+ya),Mb(ca,ua)+x+.98*W*Math.sin(Na+ya)]),Ua.push([Mb(ca,ua)+t+.9*H*Math.cos(Na+
.5*ya),Mb(ca,ua)+x+.9*W*Math.sin(Na+.5*ya)]),[Ua,Ga]}function Zc(e,t,x,H,W,ca,ya,ua,Ga){var Ua=ca+Mb(.1,Ga);ca=[];for(ca.push([Mb(ua,Ga)+t+.9*H*Math.cos(Ua-e),Mb(ua,Ga)+x+.9*W*Math.sin(Ua-e)]);Ua<=ya;Ua+=e)ca.push([Mb(ua,Ga)+t+H*Math.cos(Ua),Mb(ua,Ga)+x+W*Math.sin(Ua)]);return ca.push([t+H*Math.cos(ya),x+W*Math.sin(ya)]),ca.push([t+H*Math.cos(ya),x+W*Math.sin(ya)]),yc(ca,null,Ga)}function zc(e,t,x,H,W,ca,ya,ua){const Ga=[],Ua=[ua.maxRandomnessOffset||1,(ua.maxRandomnessOffset||1)+.3];let Na;const ob=
ua.disableMultiStroke?1:2;for(let vb=0;vb<ob;vb++)0===vb?Ga.push({op:"move",data:[ya[0],ya[1]]}):Ga.push({op:"move",data:[ya[0]+Mb(Ua[0],ua),ya[1]+Mb(Ua[0],ua)]}),Na=[W+Mb(Ua[vb],ua),ca+Mb(Ua[vb],ua)],Ga.push({op:"bcurveTo",data:[e+Mb(Ua[vb],ua),t+Mb(Ua[vb],ua),x+Mb(Ua[vb],ua),H+Mb(Ua[vb],ua),Na[0],Na[1]]});return Ga}function Sc(e){var t,x,H="";if("string"==typeof e||"number"==typeof e)H+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(x=Sc(e[t]))&&(H&&(H+=" "),H+=x);
else for(t in e)e[t]&&(H&&(H+=" "),H+=t);return H}function ad(){for(var e,t,x=0,H="";x<arguments.length;)(e=arguments[x++])&&(t=Sc(e))&&(H&&(H+=" "),H+=t);return H}function Gd(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Vb(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Gd(Object(x),!0).forEach(function(H){Me()(e,
H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Gd(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Ec(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function nb(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?
arguments[t]:{};t%2?Ec(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Ec(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Oa(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Wa(e){for(var t=
1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Oa(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Ra(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,
W).enumerable}));x.push.apply(x,H)}return x}function Ia(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Ra(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Ya(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);
t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function jb(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Ya(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Yb(e,t){var x=Object.keys(e);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function $b(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Dc(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(x),
!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):$b(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Uc(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Nc(e){for(var t=1;t<arguments.length;t++){var x=
null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Uc(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Kc(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,
H)}return x}function vd(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Kc(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Wd(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,
W).enumerable}));x.push.apply(x,H)}return x}function pd(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Wd(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Wd(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Ke(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);
t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Yd(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Ke(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function sd(e){var t=e.options,x=e.value,
H=e.label,W=e.onChange,ca=e.onClose,ya=Z().useRef(),ua=Z().useRef(),Ga=Z().useRef(null);Z().useEffect(function(){ua.current?ua.current.focus():Ga.current&&Ga.current.focus()},[]);return Z().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":H,onKeyDown:function(Ua){var Na=t.find(function(jc){return jc.keyBinding===Ua.key.toLowerCase()});if(Ua.metaKey||Ua.altKey||Ua.ctrlKey||!Na)if("Tab"===Ua.key)setTimeout(function(){ua.current!==document.activeElement&&ca()},0);
else if(zf(Ua.key)){Na=xf.rtl;if(-1!==(wb=Array.prototype.indexOf.call(Ga.current.children,document.activeElement))){var ob=t.length,vb=wb;switch(Ua.key){case Na?"ArrowLeft":"ArrowRight":case "ArrowDown":vb=(wb+1)%ob;break;case Na?"ArrowRight":"ArrowLeft":case "ArrowUp":vb=(ob+wb-1)%ob}Ga.current.children[vb].focus()}Ua.preventDefault()}else"Escape"!==Ua.key&&"Enter"!==Ua.key||(Ua.preventDefault(),ca());else{var wb=t.indexOf(Na);Ga.current.children[wb].focus();Ua.preventDefault()}Ua.nativeEvent.stopImmediatePropagation()}},
Z().createElement("div",{className:"picker-content",ref:Ga},t.map(function(Ua,Na){return Z().createElement("button",{className:"picker-option",onClick:function(ob){ob.currentTarget.focus();W(Ua.value)},title:"".concat(Ua.text," — ").concat(Ua.keyBinding.toUpperCase()),"aria-label":Ua.text||"none","aria-keyshortcuts":Ua.keyBinding,key:Ua.text,ref:function(ob){ob&&0===Na&&(ya.current=ob);ob&&Ua.value===x&&(ua.current=ob)},onFocus:function(){W(Ua.value)}},Ua.icon,Z().createElement("span",{className:"picker-keybinding"},
Ua.keyBinding))})))}function Ad(e){var t,x=e.value,H=e.label,W=e.options,ca=e.onChange;e=e.group;e=void 0===e?"":e;var ya=Z().useState(!1),ua=ya[0],Ga=ya[1],Ua=Z().useRef(null);ya=xf.rtl;return Z().createElement("label",{className:"picker-container"},Z().createElement("button",{name:e,className:ua?"active":"","aria-label":H,onClick:function(){return Ga(!ua)},ref:Ua},null===(t=W.find(function(Na){return Na.value===x}))||void 0===t?void 0:t.icon),Z().createElement(Z().Suspense,{fallback:""},ua?Z().createElement(Z().Fragment,
null,Z().createElement(fb,Od()({onCloseRequest:function(Na){return Na.target!==Ua.current&&Ga(!1)}},ya?{right:5.5}:{left:-5.5}),Z().createElement(sd,{options:W,value:x,label:H,onChange:ca,onClose:function(){var Na;Ga(!1);null===(Na=Ua.current)||void 0===Na||Na.focus()}})),Z().createElement("div",{className:"picker-triangle"})):null))}function cf(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,
W).enumerable}));x.push.apply(x,H)}return x}function Ee(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?cf(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):cf(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Xe(){return(0,fa.useContext)(uf)}function Af(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=
Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function pf(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Af(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Af(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Gf(e,
t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function bg(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Gf(Object(x)).forEach(function(H){Object.defineProperty(e,
H,Object.getOwnPropertyDescriptor(x,H))})}return e}async function qi(...e){return(await Dm).default(...e)}async function ah(...e){return(await Rf).default(...e)}function df(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Pe(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?df(Object(x),!0).forEach(function(H){Me()(e,
H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):df(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Mf(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Se(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?
arguments[t]:{};t%2?Mf(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Mf(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function ub(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Fb(e){for(var t=
1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):ub(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function qb(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,
W).enumerable}));x.push.apply(x,H)}return x}function bb(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?qb(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):qb(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function lb(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);
t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function tb(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):lb(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Xb(e,t){var x=Object.keys(e);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function vc(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Xb(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Xb(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,
H))})}return e}function oc(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Lc(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):oc(Object(x)).forEach(function(H){Object.defineProperty(e,
H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Rc(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function gd(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):
Rc(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function xd(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Ac(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):xd(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function ac(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function me(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(x),
!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):ac(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Wf(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function Wc(e){for(var t=1;t<arguments.length;t++){var x=
null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Wf(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function ge(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,
H)}return x}function Eb(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):ge(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function cb(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,
W).enumerable}));x.push.apply(x,H)}return x}function bc(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?cb(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):cb(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Qc(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);
t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function ud(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Qc(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Hd(e,t){var x=Object.keys(e);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function re(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Hd(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Hd(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,
H))})}return e}function Jc(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function ed(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Jc(Object(x)).forEach(function(H){Object.defineProperty(e,
H,Object.getOwnPropertyDescriptor(x,H))})}return e}function rc(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function yb(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):
rc(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Id(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function tf(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,
W).enumerable}));x.push.apply(x,H)}return x}function $d(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function rg(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?$d(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):
$d(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}function Ha(e,t){var x=Object.keys(e);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(e);t&&(H=H.filter(function(W){return Object.getOwnPropertyDescriptor(e,W).enumerable}));x.push.apply(x,H)}return x}function $a(e){for(var t=1;t<arguments.length;t++){var x=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(x),!0).forEach(function(H){Me()(e,H,x[H])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(e,Object.getOwnPropertyDescriptors(x)):Ha(Object(x)).forEach(function(H){Object.defineProperty(e,H,Object.getOwnPropertyDescriptor(x,H))})}return e}p.r(r);p.d(r,{default:()=>Xt,defaultLang:()=>ae,getElementMap:()=>mj,getSceneVersion:()=>al,getSyncableElements:()=>Jk,languages:()=>hd,restore:()=>ln,restoreAppState:()=>kn,restoreElements:()=>Vi});var Za=p(7154),Da=p.n(Za),ta=p(6479),S=p.n(ta),fa=p(4698),Z=p.n(fa),Xa=p(8288);const mb=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');
"production"!==Xa.Vi.TEST&&(p.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(mb.u2,"@").concat(mb.i8,"/dist/"));var Pb=p(5374),Lb=p.n(Pb),Oc=p(2829),Td=p(2051),rd=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=
Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=
0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},ae={code:"en",label:"English"},hd=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},
{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},
{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([ae]).sort(function(e,t){return e.label>t.label?1:-1}).filter(function(e){return 85<=
Td[e.code]});"production"===Xa.Vi.DEVELOPMENT&&hd.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var Re,xf=ae,Mg={},Ve=function(){var e=Lb()(function(t){return rd(this,function(x){switch(x.label){case 0:return xf=t,document.documentElement.dir=xf.rtl?"rtl":"ltr",document.documentElement.lang=xf.code,t.code.startsWith("__test__")?(Mg={},[3,3]):[3,1];case 1:return[4,p(788)("./".concat(xf.code,".json"))];case 2:Mg=x.sent(),x.label=
3;case 3:return[2]}})});return function(t){return e.apply(this,arguments)}}(),wd=function(e,t){for(var x=0;x<t.length;++x){var H=t[x];if(void 0===e[H])return;e=e[H]}if("string"==typeof e)return e},Wb=function(e,t){if(xf.code.startsWith("__test__"))return e=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e,"‪[[".concat(e,"]]‬");var x=e.split(".");x=wd(Mg,x)||wd(Oc,x);if(void 0===x)throw Error("Can't find translation for ".concat(e));if(t)for(var H in t)x=x.replace("{{".concat(H,"}}"),
t[H]);return x},sg=function(){return Z().createElement("div",{className:"LoadingMessage"},Z().createElement("span",null,Wb("labels.loadingScene")))},tg=(Re=function(e,t){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,H){x.__proto__=H}||function(x,H){for(var W in H)Object.prototype.hasOwnProperty.call(H,W)&&(x[W]=H[W])})(e,t)},function(e,t){function x(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");
Re(e,t);e.prototype=null===t?Object.create(t):(x.prototype=t.prototype,new x)}),ug=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;
case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,
W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Kh=function(e){function t(){for(var x=[],H=0;H<arguments.length;H++)x[H]=arguments[H];var W;H=this;return W=H=e.apply(this,x)||this,H.state={isLoading:!0},W}return tg(t,e),t.prototype.componentDidMount=function(){var x=this;return Lb()(function(){var H;return ug(this,function(W){switch(W.label){case 0:return H=
hd.find(function(ca){return ca.code===x.props.langCode})||ae,[4,Ve(H)];case 1:return W.sent(),x.setState({isLoading:!1}),[2]}})})()},t.prototype.render=function(){return this.state.isLoading?Z().createElement(sg,null):this.props.children},t}(Z().Component),hi=p(566),Me=p.n(hi);class Pd{constructor(e){this.helper=e}fillPolygon(e,t){return this._fillPolygon(e,t)}_fillPolygon(e,t,x=!1){let H=qa(e,t);x&&(e=this.connectingLines(e,H),H=H.concat(e));return{type:"fillSketch",ops:this.renderLines(H,t)}}renderLines(e,
t){const x=[];for(const H of e)x.push(...this.helper.doubleLineOps(H[0][0],H[0][1],H[1][0],H[1][1],t));return x}connectingLines(e,t){const x=[];if(1<t.length)for(let W=1;W<t.length;W++){var H=t[W-1];3>M(H)||(H=[t[W][0],H[1]],3<M(H)&&(H=this.splitOnIntersections(e,H),x.push(...H)))}return x}midPointInPolygon(e,t){return ra(e,(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2)}splitOnIntersections(e,t){var x=Math.max(5,.1*M(t)),H=[];for(var W=0;W<e.length;W++){var ca=e[W],ya=e[(W+1)%e.length];if(Aa(ca,ya,...t)&&
(ca=R(ca,ya,t[0],t[1]))){ya=M([ca,t[0]]);const ua=M([ca,t[1]]);ya>x&&ua>x&&H.push({point:ca,distance:ya})}}if(1<H.length){x=H.sort((ua,Ga)=>ua.distance-Ga.distance).map(ua=>ua.point);if(ra(e,...t[0])||x.shift(),ra(e,...t[1])||x.pop(),1>=x.length)return this.midPointInPolygon(e,t)?[t]:[];t=[t[0],...x,t[1]];x=[];for(H=0;H<t.length-1;H+=2)W=[t[H],t[H+1]],this.midPointInPolygon(e,W)&&x.push(W);return x}return this.midPointInPolygon(e,t)?[t]:[]}}class Kf extends Pd{fillPolygon(e,t){return this._fillPolygon(e,
t,!0)}}class hg extends Pd{fillPolygon(e,t){const x=this._fillPolygon(e,t);t=Object.assign({},t,{hachureAngle:t.hachureAngle+90});e=this._fillPolygon(e,t);return x.ops=x.ops.concat(e.ops),x}}class rh{constructor(e){this.helper=e}fillPolygon(e,t){e=qa(e,t=Object.assign({},t,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(e,t)}dotsOnLines(e,t){const x=[];let H=t.hachureGap;0>H&&(H=4*t.strokeWidth);H=Math.max(H,.1);let W=t.fillWeight;0>W&&(W=t.strokeWidth/2);const ca=H/4;for(const Ua of e){var ya=
M(Ua);e=Math.ceil(ya/H)-1;ya-=e*H;const Na=(Ua[0][0]+Ua[1][0])/2-H/4,ob=Math.min(Ua[0][1],Ua[1][1]);for(let vb=0;vb<e;vb++){var ua=ob+ya+vb*H,Ga=this.helper.randOffsetWithRange(Na-ca,Na+ca,t);ua=this.helper.randOffsetWithRange(ua-ca,ua+ca,t);Ga=this.helper.ellipse(Ga,ua,W,W,t);x.push(...Ga.ops)}}return{type:"fillSketch",ops:x}}}class ej{constructor(e){this.helper=e}fillPolygon(e,t){e=qa(e,t);return{type:"fillSketch",ops:this.dashedLine(e,t)}}dashedLine(e,t){const x=0>t.dashOffset?0>t.hachureGap?4*
t.strokeWidth:t.hachureGap:t.dashOffset,H=0>t.dashGap?0>t.hachureGap?4*t.strokeWidth:t.hachureGap:t.dashGap,W=[];return e.forEach(ca=>{var ya=M(ca);const ua=Math.floor(ya/(x+H));ya=(ya+H-ua*(x+H))/2;let Ga=ca[0];var Ua=ca[1];Ga[0]>Ua[0]&&(Ga=ca[1],Ua=ca[0]);ca=Math.atan((Ua[1]-Ga[1])/(Ua[0]-Ga[0]));for(Ua=0;Ua<ua;Ua++){var Na=Ua*(x+H),ob=Na+x;Na=[Ga[0]+Na*Math.cos(ca)+ya*Math.cos(ca),Ga[1]+Na*Math.sin(ca)+ya*Math.sin(ca)];ob=[Ga[0]+ob*Math.cos(ca)+ya*Math.cos(ca),Ga[1]+ob*Math.sin(ca)+ya*Math.sin(ca)];
W.push(...this.helper.doubleLineOps(Na[0],Na[1],ob[0],ob[1],t))}}),W}}class yf{constructor(e){this.helper=e}fillPolygon(e,t){const x=0>t.hachureGap?4*t.strokeWidth:t.hachureGap,H=0>t.zigzagOffset?x:t.zigzagOffset;e=qa(e,t=Object.assign({},t,{hachureGap:x+H}));return{type:"fillSketch",ops:this.zigzagLines(e,H,t)}}zigzagLines(e,t,x){const H=[];return e.forEach(W=>{var ca=M(W);ca=Math.round(ca/(2*t));let ya=W[0];var ua=W[1];ya[0]>ua[0]&&(ya=W[1],ua=W[0]);W=Math.atan((ua[1]-ya[1])/(ua[0]-ya[0]));for(ua=
0;ua<ca;ua++){var Ga=2*ua*t,Ua=2*(ua+1)*t,Na=Math.sqrt(2*Math.pow(t,2));Ga=[ya[0]+Ga*Math.cos(W),ya[1]+Ga*Math.sin(W)];Ua=[ya[0]+Ua*Math.cos(W),ya[1]+Ua*Math.sin(W)];Na=[Ga[0]+Na*Math.cos(W+Math.PI/4),Ga[1]+Na*Math.sin(W+Math.PI/4)];H.push(...this.helper.doubleLineOps(Ga[0],Ga[1],Na[0],Na[1],x),...this.helper.doubleLineOps(Na[0],Na[1],Ua[0],Ua[1],x))}}),H}}const cg={};class ze{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}
const fh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Ld={randOffset:function(e,t){return Mb(e,t)},randOffsetWithRange:function(e,t,x){return Kb(e,t,x)},ellipse:function(e,t,x,H,W){x=ja(x,H,W);return va(e,t,W,x).opset},doubleLineOps:function(e,t,x,H,W){return kb(e,t,x,H,W,!0)}};class gh{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",
fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=e||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,x){return{shape:e,sets:t||[],options:x||this.defaultOptions}}line(e,t,x,H,W){W=this._o(W);return this._d("line",
[{type:"path",ops:kb(e,t,x,H,W)}],W)}rectangle(e,t,x,H,W){W=this._o(W);const ca=[];var ya=V([[e,t],[e+x,t],[e+x,t+H],[e,t+H]],!0,W);W.fill&&(e=[[e,t],[e+x,t],[e+x,t+H],[e,t+H]],"solid"===W.fillStyle?ca.push(Ka(e,W)):ca.push(ab(e,W)));return"none"!==W.stroke&&ca.push(ya),this._d("rectangle",ca,W)}ellipse(e,t,x,H,W){W=this._o(W);const ca=[];H=ja(x,H,W);x=va(e,t,W,H);W.fill&&("solid"===W.fillStyle?(e=va(e,t,W,H).opset,e.type="fillPath",ca.push(e)):ca.push(ab(x.estimatedPoints,W)));return"none"!==W.stroke&&
ca.push(x.opset),this._d("ellipse",ca,W)}circle(e,t,x,H){e=this.ellipse(e,t,x,x,H);return e.shape="circle",e}linearPath(e,t){t=this._o(t);return this._d("linearPath",[V(e,!1,t)],t)}arc(e,t,x,H,W,ca,ya=!1,ua){ua=this._o(ua);const Ga=[],Ua=Va(e,t,x,H,W,ca,ya,!0,ua);if(ya&&ua.fill)if("solid"===ua.fillStyle)e=Va(e,t,x,H,W,ca,!0,!1,ua),e.type="fillPath",Ga.push(e);else{ya=Ga.push;x=Math.abs(x/2);H=Math.abs(H/2);x+=Mb(.01*x,ua);for(H+=Mb(.01*H,ua);0>W;)W+=2*Math.PI,ca+=2*Math.PI;ca-W>2*Math.PI&&(W=0,ca=
2*Math.PI);const Na=(ca-W)/ua.curveStepCount,ob=[];for(;W<=ca;W+=Na)ob.push([e+x*Math.cos(W),t+H*Math.sin(W)]);e=(ob.push([e+x*Math.cos(ca),t+H*Math.sin(ca)]),ob.push([e,t]),ab(ob,ua));ya.call(Ga,e)}return"none"!==ua.stroke&&Ga.push(Ua),this._d("arc",Ga,ua)}curve(e,t){t=this._o(t);const x=[],H=ha(e,t);t.fill&&"none"!==t.fill&&3<=e.length&&(e=P(function(W,ca=0){var ya=W.length;if(3>ya)throw Error("A curve must have at least three points.");const ua=[];if(3===ya)ua.push([...W[0]],[...W[1]],[...W[2]],
[...W[2]]);else{ya=[];ya.push(W[0],W[0]);for(var Ga=1;Ga<W.length;Ga++)ya.push(W[Ga]),Ga===W.length-1&&ya.push(W[Ga]);W=[];ca=1-ca;ua.push([...ya[0]]);for(Ga=1;Ga+2<ya.length;Ga++){const Ua=ya[Ga];W[0]=[Ua[0],Ua[1]];W[1]=[Ua[0]+(ca*ya[Ga+1][0]-ca*ya[Ga-1][0])/6,Ua[1]+(ca*ya[Ga+1][1]-ca*ya[Ga-1][1])/6];W[2]=[ya[Ga+1][0]+(ca*ya[Ga][0]-ca*ya[Ga+2][0])/6,ya[Ga+1][1]+(ca*ya[Ga][1]-ca*ya[Ga+2][1])/6];W[3]=[ya[Ga+1][0],ya[Ga+1][1]];ua.push(W[1],W[2],W[3])}}return ua}(e),10,(1+t.roughness)/2),"solid"===t.fillStyle?
x.push(Ka(e,t)):x.push(ab(e,t)));return"none"!==t.stroke&&x.push(H),this._d("curve",x,t)}polygon(e,t){t=this._o(t);const x=[],H=V(e,!0,t);return t.fill&&("solid"===t.fillStyle?x.push(Ka(e,t)):x.push(ab(e,t))),"none"!==t.stroke&&x.push(H),this._d("polygon",x,t)}path(e,t){const x=this._o(t),H=[];if(!e)return this._d("path",H,x);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");t=x.fill&&"transparent"!==x.fill&&"none"!==x.fill;const W="none"!==x.stroke,ca=!!(x.simplification&&
1>x.simplification),ya=function(ua,Ga,Ua){var Na=pa(la(ka(ua)));ua=[];let ob=[];var vb=[0,0];let wb=[];const jc=()=>{4<=wb.length&&ob.push(...P(wb,Ga));wb=[]};for(const {key:fc,data:Fc}of Na)switch(fc){case "M":jc();ob.length&&(ua.push(ob),ob=[]);vb=[Fc[0],Fc[1]];ob.push(vb);break;case "L":jc();ob.push([Fc[0],Fc[1]]);break;case "C":wb.length||(Na=ob.length?ob[ob.length-1]:vb,wb.push([Na[0],Na[1]]));wb.push([Fc[0],Fc[1]]);wb.push([Fc[2],Fc[3]]);wb.push([Fc[4],Fc[5]]);break;case "Z":jc(),ob.push([vb[0],
vb[1]])}jc();ob.length&&(ua.push(ob),ob=[]);if(!Ua)return ua;vb=[];for(const fc of ua)ua=U(fc,Ua),ua.length&&vb.push(ua);return vb}(e,1,ca?4-4*x.simplification:(1+x.roughness)/2);if(t)if(x.combineNestedSvgPaths){const ua=[];ya.forEach(Ga=>ua.push(...Ga));"solid"===x.fillStyle?H.push(Ka(ua,x)):H.push(ab(ua,x))}else ya.forEach(ua=>{"solid"===x.fillStyle?H.push(Ka(ua,x)):H.push(ab(ua,x))});return W&&(ca?ya.forEach(ua=>{H.push(V(ua,!1,x))}):H.push(function(ua,Ga){ua=pa(la(ka(ua)));const Ua=[];let Na=
[0,0],ob=[0,0];for(const {key:vb,data:wb}of ua)switch(vb){case "M":const jc=1*(Ga.maxRandomnessOffset||0);Ua.push({op:"move",data:wb.map(te=>te+Mb(jc,Ga))});ob=[wb[0],wb[1]];Na=[wb[0],wb[1]];break;case "L":Ua.push(...kb(ob[0],ob[1],wb[0],wb[1],Ga));ob=[wb[0],wb[1]];break;case "C":const [fc,Fc,nd,td,Dd,xe]=wb;Ua.push(...zc(fc,Fc,nd,td,Dd,xe,ob,Ga));ob=[Dd,xe];break;case "Z":Ua.push(...kb(ob[0],ob[1],Na[0],Na[1],Ga)),ob=[Na[0],Na[1]]}return{type:"path",ops:Ua}}(e,x))),this._d("path",H,x)}opsToPath(e){let t=
"";for(const x of e.ops)switch(e=x.data,x.op){case "move":t+=`M${e[0]} ${e[1]} `;break;case "bcurveTo":t+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case "lineTo":t+=`L${e[0]} ${e[1]} `}return t.trim()}toPaths(e){var t=e.sets||[];e=e.options||this.defaultOptions;const x=[];for(const H of t){t=null;switch(H.type){case "path":t={d:this.opsToPath(H),stroke:e.stroke,strokeWidth:e.strokeWidth,fill:"none"};break;case "fillPath":t={d:this.opsToPath(H),stroke:"none",strokeWidth:0,fill:e.fill||
"none"};break;case "fillSketch":t=this.fillSketch(H,e)}t&&x.push(t)}return x}fillSketch(e,t){let x=t.fillWeight;return 0>x&&(x=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||"none",strokeWidth:x,fill:"none"}}}class Ch{constructor(e,t){this.canvas=e;this.ctx=this.canvas.getContext("2d");this.gen=new gh(t)}draw(e){const t=e.sets||[],x=e.options||this.getDefaultOptions(),H=this.ctx;for(const W of t)switch(W.type){case "path":H.save();H.strokeStyle="none"===x.stroke?"transparent":x.stroke;H.lineWidth=
x.strokeWidth;x.strokeLineDash&&H.setLineDash(x.strokeLineDash);x.strokeLineDashOffset&&(H.lineDashOffset=x.strokeLineDashOffset);this._drawToContext(H,W);H.restore();break;case "fillPath":H.save();H.fillStyle=x.fill||"";this._drawToContext(H,W,"curve"===e.shape||"polygon"===e.shape?"evenodd":"nonzero");H.restore();break;case "fillSketch":this.fillSketch(H,W,x)}}fillSketch(e,t,x){let H=x.fillWeight;0>H&&(H=x.strokeWidth/2);e.save();x.fillLineDash&&e.setLineDash(x.fillLineDash);x.fillLineDashOffset&&
(e.lineDashOffset=x.fillLineDashOffset);e.strokeStyle=x.fill||"";e.lineWidth=H;this._drawToContext(e,t);e.restore()}_drawToContext(e,t,x="nonzero"){e.beginPath();for(const H of t.ops){const W=H.data;switch(H.op){case "move":e.moveTo(W[0],W[1]);break;case "bcurveTo":e.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5]);break;case "lineTo":e.lineTo(W[0],W[1])}}"fillPath"===t.type?e.fill(x):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,x,H,W){e=this.gen.line(e,
t,x,H,W);return this.draw(e),e}rectangle(e,t,x,H,W){e=this.gen.rectangle(e,t,x,H,W);return this.draw(e),e}ellipse(e,t,x,H,W){e=this.gen.ellipse(e,t,x,H,W);return this.draw(e),e}circle(e,t,x,H){e=this.gen.circle(e,t,x,H);return this.draw(e),e}linearPath(e,t){e=this.gen.linearPath(e,t);return this.draw(e),e}polygon(e,t){e=this.gen.polygon(e,t);return this.draw(e),e}arc(e,t,x,H,W,ca,ya=!1,ua){e=this.gen.arc(e,t,x,H,W,ca,ya,ua);return this.draw(e),e}curve(e,t){e=this.gen.curve(e,t);return this.draw(e),
e}path(e,t){e=this.gen.path(e,t);return this.draw(e),e}}class Rj{constructor(e,t){this.svg=e;this.gen=new gh(t)}draw(e){var t=e.sets||[];const x=e.options||this.getDefaultOptions(),H=this.svg.ownerDocument||window.document,W=H.createElementNS("http://www.w3.org/2000/svg","g");for(const ca of t){t=null;switch(ca.type){case "path":t=H.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.opsToPath(ca));t.setAttribute("stroke",x.stroke);t.setAttribute("stroke-width",x.strokeWidth+
"");t.setAttribute("fill","none");x.strokeLineDash&&t.setAttribute("stroke-dasharray",x.strokeLineDash.join(" ").trim());x.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${x.strokeLineDashOffset}`);break;case "fillPath":t=H.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.opsToPath(ca));t.setAttribute("stroke","none");t.setAttribute("stroke-width","0");t.setAttribute("fill",x.fill||"");"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");
break;case "fillSketch":t=this.fillSketch(H,ca,x)}t&&W.appendChild(t)}return W}fillSketch(e,t,x){let H=x.fillWeight;0>H&&(H=x.strokeWidth/2);e=e.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",this.opsToPath(t)),e.setAttribute("stroke",x.fill||""),e.setAttribute("stroke-width",H+""),e.setAttribute("fill","none"),x.fillLineDash&&e.setAttribute("stroke-dasharray",x.fillLineDash.join(" ").trim()),x.fillLineDashOffset&&e.setAttribute("stroke-dashoffset",`${x.fillLineDashOffset}`),
e}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e){return this.gen.opsToPath(e)}line(e,t,x,H,W){e=this.gen.line(e,t,x,H,W);return this.draw(e)}rectangle(e,t,x,H,W){e=this.gen.rectangle(e,t,x,H,W);return this.draw(e)}ellipse(e,t,x,H,W){e=this.gen.ellipse(e,t,x,H,W);return this.draw(e)}circle(e,t,x,H){e=this.gen.circle(e,t,x,H);return this.draw(e)}linearPath(e,t){e=this.gen.linearPath(e,t);return this.draw(e)}polygon(e,t){e=this.gen.polygon(e,t);return this.draw(e)}arc(e,
t,x,H,W,ca,ya=!1,ua){e=this.gen.arc(e,t,x,H,W,ca,ya,ua);return this.draw(e)}curve(e,t){e=this.gen.curve(e,t);return this.draw(e)}path(e,t){e=this.gen.path(e,t);return this.draw(e)}}const Vh={canvas:(e,t)=>new Ch(e,t),svg:(e,t)=>new Rj(e,t),generator:e=>new gh(e),newSeed:()=>gh.newSeed()};var le=function(e){return null!=e&&"text"===e.type},ff=function(e){return null!=e&&rj(e.type)},rj=function(e){return"arrow"===e||"line"===e||"draw"===e},vg=function(e){return null!=e&&"arrow"===e.type},gk=function(e){return null!=
e&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"text"===e.type)},Pf=function(e,t,x,H,W){return[(e-x)*Math.cos(W)-(t-H)*Math.sin(W)+x,(e-x)*Math.sin(W)+(t-H)*Math.cos(W)+H]},ji=function(e,t,x){return Pf(e[0],e[1],t[0],t[1],x)},kg=function(e,t,x,H,W,ca,ya,ua){var Ga=Math.cos(H);H=Math.sin(H);return e.e&&e.w?t+=W+ya:e.e?(t+=W*(1+Ga),x+=W*H,t+=ya*(1-Ga),x+=ya*-H):e.w&&(t+=W*(1-Ga),x+=W*-H,t+=ya*(1+Ga),x+=ya*H),e.n&&e.s?x+=ca+ua:e.n?(t+=ca*H,x+=ca*(1-Ga),t+=ua*-H,x+=ua*(1+Ga)):e.s&&
(t+=ca*-H,x+=ca*(1+Ga),t+=ua*H,x+=ua*(1-Ga)),[t,x]},si=function(e,t){if(void 0===t&&(t=1),3<=e.length){var x=[e[0],e[e.length-1]];e=x[0];x=x[1];return Math.hypot(x[0]-e[0],x[1]-e[1])<=Xa.qx/t}return!1},Ig=function(e,t,x){var H=e.length;if(3>H)return!1;var W=[Number.MAX_SAFE_INTEGER,x];t=[t,x];for(var ca=x=0;ca<H;ca++){var ya=e[ca],ua=e[(ca+1)%H],Ga=ya,Ua=ua,Na=t,ob=W,vb=fj(Ga,Ua,Na),wb=fj(Ga,Ua,ob),jc=fj(Na,ob,Ga),fc=fj(Na,ob,Ua);if(vb!==wb&&jc!==fc||0===vb&&Sj(Ga,Na,Ua)||0===wb&&Sj(Ga,ob,Ua)||0===
jc&&Sj(Na,Ga,ob)||0===fc&&Sj(Na,Ua,ob)){if(0===fj(ya,t,ua))return Sj(ya,t,ua);x++}}return 1==x%2},Sj=function(e,t,x){return t[0]<=Math.max(e[0],x[0])&&t[0]>=Math.min(e[0],x[0])&&t[1]<=Math.max(e[1],x[1])&&t[1]>=Math.min(e[1],x[1])},fj=function(e,t,x){e=(t[1]-e[1])*(x[0]-t[0])-(t[0]-e[0])*(x[1]-t[1]);return 0===e?0:0<e?1:2},sh=function(e,t,x){return x?[Math.round(e/x)*x,Math.round(t/x)*x]:[e,t]},ti=function(e,t,x){var H=x.map(function(Ga){return Ga[e]}),W=Math.max.apply(Math,H);H=Math.min.apply(Math,
H);W-=H;var ca=0===W?1:t/W,ya=1/0;t=x.map(function(Ga){return Ga.map(function(Ua,Na){if(Na!==e)return Ua;Ua*=ca;return ya=Math.min(Ua,ya),Ua})});if(2===t.length)return t;var ua=H-ya;return t.map(function(Ga){return Ga.map(function(Ua,Na){return Na===e?Ua+ua:Ua})})},wg=function(e){return ff(e)?sj(e):[e.x,e.y,e.x+e.width,e.y+e.height]},ui=function(e){for(var t=0,x=e.sets;t<x.length;t++){var H=x[t];if("path"===H.type)return H.ops}return e.sets[0].ops},ik=function(e,t){var x=[0,0];e=e.reduce(function(H,
W){var ca,ya=W.op;W=W.data;if("move"===ya)x=W;else if("bcurveTo"===ya){var ua=[W[0],W[1]],Ga=[W[2],W[3]],Ua=[W[4],W[5]],Na=x;x=Ua;ya=function(wb,jc){return Math.pow(1-wb,3)*Ua[jc]+3*wb*Math.pow(1-wb,2)*Ga[jc]+3*Math.pow(wb,2)*(1-wb)*ua[jc]+Na[jc]*Math.pow(wb,3)};for(W=0;1>=W;){var ob=ya(W,0),vb=ya(W,1);t&&(ob=(ca=t(ob,vb))[0],vb=ca[1]);H.minY=Math.min(H.minY,vb);H.minX=Math.min(H.minX,ob);H.maxX=Math.max(H.maxX,ob);H.maxY=Math.max(H.maxY,vb);W+=.1}}return H},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});
return[e.minX,e.minY,e.maxX,e.maxY]},sj=function(e){if(2>e.points.length||!bi.get(e)){var t=e.points.reduce(function(x,H){var W=H[0];H=H[1];return x.minY=Math.min(x.minY,H),x.minX=Math.min(x.minX,W),x.maxX=Math.max(x.maxX,W),x.maxY=Math.max(x.maxY,H),x},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[t.minX+e.x,t.minY+e.y,t.maxX+e.x,t.maxY+e.y]}t=bi.get(e);t=ui(t[0]);t=ik(t);return[t[0]+e.x,t[1]+e.y,t[2]+e.x,t[3]+e.y]},vi=function(e){var t=wg(e),x=t[0],H=t[1],W=t[2],ca=t[3];t=(x+W)/2;var ya=(H+ca)/
2;if(ff(e))return function(ob,vb,wb){if(2>ob.points.length||!bi.get(ob)){var jc=ob.points.reduce(function(fc,Fc){var nd,td=Fc[0];Fc=Fc[1];return td=(nd=Pf(ob.x+td,ob.y+Fc,vb,wb,ob.angle))[0],Fc=nd[1],fc.minY=Math.min(fc.minY,Fc),fc.minX=Math.min(fc.minX,td),fc.maxX=Math.max(fc.maxX,td),fc.maxY=Math.max(fc.maxY,Fc),fc},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[jc.minX,jc.minY,jc.maxX,jc.maxY]}jc=bi.get(ob);jc=ui(jc[0]);return ik(jc,function(fc,Fc){return Pf(ob.x+fc,ob.y+Fc,vb,wb,ob.angle)})}(e,
t,ya);if("diamond"===e.type){H=Pf(t,H,t,ya,e.angle);var ua=H[0];H=H[1];ca=Pf(t,ca,t,ya,e.angle);var Ga=ca[0];ca=ca[1];var Ua=Pf(x,ya,t,ya,e.angle);x=Ua[0];Ua=Ua[1];ya=Pf(W,ya,t,ya,e.angle);t=ya[0];ya=ya[1];return[Math.min(ua,Ga,x,t),Math.min(H,ca,Ua,ya),Math.max(ua,Ga,x,t),Math.max(H,ca,Ua,ya)]}if("ellipse"===e.type)return W=(W-x)/2,ua=(ca-H)/2,H=Math.cos(e.angle),Ga=Math.sin(e.angle),e=Math.hypot(W*H,ua*Ga),W=Math.hypot(ua*H,W*Ga),[t-e,ya-W,t+e,ya+W];Ga=Pf(x,H,t,ya,e.angle);ua=Ga[0];Ga=Ga[1];Ua=
Pf(x,ca,t,ya,e.angle);x=Ua[0];Ua=Ua[1];var Na=Pf(W,ca,t,ya,e.angle);ca=Na[0];Na=Na[1];ya=Pf(W,H,t,ya,e.angle);t=ya[0];ya=ya[1];return[Math.min(ua,x,ca,t),Math.min(Ga,Ua,Na,ya),Math.max(ua,x,ca,t),Math.max(Ga,Ua,Na,ya)]},Ng=function(e){if(!e.length)return[0,0,0,0];var t=1/0,x=-1/0,H=1/0,W=-1/0;return e.forEach(function(ca){ca=vi(ca);var ya=ca[1],ua=ca[2],Ga=ca[3];t=Math.min(t,ca[0]);H=Math.min(H,ya);x=Math.max(x,ua);W=Math.max(W,Ga)}),[t,H,x,W]},hh=function(e,t,x){if(!ff(e))return[e.x,e.y,e.x+t,e.y+
x];t=ti(0,t,ti(1,x,e.points));x=Vh.generator();t="sharp"===e.strokeSharpness?x.linearPath(t,ci(e)):x.curve(t,ci(e));t=ui(t);t=ik(t);return[t[0]+e.x,t[1]+e.y,t[2]+e.x,t[3]+e.y]},He=function(e,t,x){var H=Vh.generator();t="sharp"===x?H.linearPath(t,ci(e)):H.curve(t,ci(e));t=ui(t);t=ik(t);return[t[0]+e.x,t[1]+e.y,t[2]+e.x,t[3]+e.y]};const Ie=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var Dh=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},Xg=function(e){return[Ie.Q6[e],Ie.iQ[e],Ie.pl[e],Ie.ht[e],Ie.QN[e],Ie.iN[e],Ie.sl[e],Ie.$C[e],Ie.ek[e],Ie.LR[e],Ie.er[e],Ie.$y[e]]};const mg={canvasBackground:Dh([Ie.ix,Ie.MA[0],Ie.MA[1]],Xg(0)),elementBackground:Dh(["transparent",Ie.MA[4],Ie.MA[6]],Xg(6)),elementStroke:Dh([Ie.Sn,Ie.MA[8],Ie.MA[7]],Xg(9))};var ig=p(6207),ch=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Fj=/^Win/.test(window.navigator.platform),
nf=ch?"metaKey":"ctrlKey",zf=function(e){return"ArrowLeft"===e||"ArrowRight"===e||"ArrowDown"===e||"ArrowUp"===e},tj=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Og=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},gj=function(e){var t=e.fontFamily;return"".concat(e.fontSize,"px ").concat("".concat(Xa.ut[t],", ").concat(Xa._D))},hj=function(e,
t){var x=document.createElement("div"),H=document.body;x.style.position="absolute";x.style.whiteSpace="pre";x.style.font=t;H.appendChild(x);x.innerText=e.split("\n").map(function(W){return W||" "}).join("\n");e=x.offsetWidth;t=x.offsetHeight;H=document.createElement("span");H.style.display="inline-block";H.style.overflow="hidden";H.style.width="1px";H.style.height="1px";x.appendChild(H);H=H.offsetTop+H.offsetHeight;return document.body.removeChild(x),{width:e,height:t,baseline:H}},ai=function(e,t){var x,
H=0,W=function(){for(var ca=[],ya=0;ya<arguments.length;ya++)ca[ya]=arguments[ya];x=ca;clearTimeout(H);H=window.setTimeout(function(){return e.apply(void 0,ca)},t)};return W.flush=function(){clearTimeout(H);x&&e.apply(void 0,x)},W.cancel=function(){clearTimeout(H)},W},Wi=function(e){e&&(e.style.cursor="")},Xi=function(e,t){e&&(e.style.cursor=t)},Hi=function(e,t){e&&("selection"===t?Wi(e):e.style.cursor=Xa.oc.CROSSHAIR)},ih=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===
e?void 0:e.nodeName)},he=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),ch?e.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl")},xg=function(e,t){var x=t.zoom,H=1/x.value;return{x:(e.clientX-x.translation.x-t.offsetLeft)*H-t.scrollX,y:(e.clientY-x.translation.y-t.offsetTop)*H-t.scrollY}},lh=function(e,t){var x=t.zoom;return{x:(e.sceneX+t.scrollX+t.offsetLeft)*
x.value+x.translation.x,y:(e.sceneY+t.scrollY+t.offsetTop)*x.value+x.translation.y}},ng=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},Eh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Pg=function(e){return{x:e[0],y:e[1]}},jk=function(e){if("AbortError"!==(null==e?void 0:e.name))throw e;},og=function(e){return function(t){(0,ig.unstable_batchedUpdates)(e,t)}},kl=function(e,t){var x,H=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(x=H.length-1;0<x&&!(e>=H[x].value);x--);return(e/H[x].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+H[x].symbol},Zf=function(){var e;return(null===(e=document.querySelector('meta[name\x3d"version"]'))||void 0===e?void 0:e.content)||Xa.eQ},Lh=function(){var e=new Map,t=Xa.rk,x=Xa.n5,H=Ie.Sn,W=Xa.Hg,ca=window.innerHeight,ya="".concat(Wb("labels.untitled"),"-"),ua=ya.concat;var Ga=new Date;var Ua=Ga.getFullYear();var Na="".concat(Ga.getMonth()+
1).padStart(2,"0"),ob="".concat(Ga.getDate()).padStart(2,"0"),vb="".concat(Ga.getHours()).padStart(2,"0");Ga="".concat(Ga.getMinutes()).padStart(2,"0");Ua="".concat(Ua,"-").concat(Na,"-").concat(ob,"-").concat(vb).concat(Ga);return{appearance:"light",collaborators:e,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:t,currentItemFontSize:x,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:H,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:W,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:ca,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:ua.call(ya,Ua),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Ie.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},nh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},xi=function(e,t){for(var x={},H=0,W=
Object.keys(e);H<W.length;H++){var ca=W[H],ya=nh[ca];null!=ya&&ya[t]&&(x[ca]=e[ca])}return x},Eg=Lh(),Nh=[12,8],Fk=[3,6],Oh=function(e,t,x){switch(x.globalAlpha=e.opacity/100,e.type){case "rectangle":case "diamond":case "ellipse":t.draw(bi.get(e));break;case "arrow":case "draw":case "line":bi.get(e).forEach(function(ob){t.draw(ob)});break;default:if(!le(e))throw Error("Unimplemented type ".concat(e.type));var H=Eh.test(e.text),W=H&&!x.canvas.isConnected;W&&document.body.appendChild(x.canvas);x.canvas.setAttribute("dir",
H?"rtl":"ltr");H=x.font;x.font=gj(e);var ca=x.fillStyle;x.fillStyle=e.strokeColor;var ya=x.textAlign;x.textAlign=e.textAlign;var ua=e.text.replace(/\r\n?/g,"\n").split("\n"),Ga=e.height/ua.length,Ua=e.height-e.baseline;e="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0;for(var Na=0;Na<ua.length;Na++)x.fillText(ua[Na],e,(Na+1)*Ga-Ua);x.fillStyle=ca;x.font=H;x.textAlign=ya;W&&x.canvas.remove()}x.globalAlpha=1},kk=new WeakMap,bi=new WeakMap,ci=function(e){var t={seed:e.seed,strokeLineDash:"dashed"===
e.strokeStyle?Nh:"dotted"===e.strokeStyle?Fk:void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor};switch(e.type){case "rectangle":case "diamond":case "ellipse":return t.fillStyle=e.fillStyle,t.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(t.curveFitting=1),t;case "line":case "draw":return si(e.points)&&
(t.fillStyle=e.fillStyle,t.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),t;case "arrow":return t;default:throw Error("Unimplemented type ".concat(e.type));}},Yi=function(e,t){var x=bi.get(e)||null;if(!x){switch(kk.delete(e),e.type){case "rectangle":if("round"===e.strokeSharpness){x=e.width;var H=e.height,W=.25*Math.min(x,H);x=t.path("M ".concat(W," 0 L ").concat(x-W," 0 Q ").concat(x," 0, ").concat(x," ").concat(W," L ").concat(x," ").concat(H-W," Q ").concat(x," ").concat(H,", ").concat(x-
W," ").concat(H," L ").concat(W," ").concat(H," Q 0 ").concat(H,", 0 ").concat(H-W," L 0 ").concat(W," Q 0 0, ").concat(W," 0"),ci(e))}else x=t.rectangle(0,0,e.width,e.height,ci(e));break;case "diamond":x=function(ya){var ua=Math.floor(ya.width/2)+1,Ga=Math.floor(ya.height/2)+1;return[ua,0,ya.width,Ga,ua,ya.height,0,Ga]}(e);x=t.polygon([[x[0],x[1]],[x[2],x[3]],[x[4],x[5]],[x[6],x[7]]],ci(e));break;case "ellipse":x=t.ellipse(e.width/2,e.height/2,e.width,e.height,ci(e));break;case "line":case "draw":case "arrow":var ca=
ci(e);x=e.points.length?e.points:[[0,0]];if(x="sharp"===e.strokeSharpness?ca.fill?[t.polygon(x,ca)]:[t.linearPath(x,ca)]:[t.curve(x,ca)],"arrow"===e.type){H=e.startArrowhead;H=void 0===H?null:H;W=e.endArrowhead;W=void 0===W?"arrow":W;function ya(ua,Ga,Ua,Na){Ga=function(jc,fc,Fc,nd){fc=ui(fc[0]);if(1>fc.length)return null;var td="start"===Fc?1:fc.length-1,Dd=fc[td].data,xe=[Dd[4],Dd[5]],te=[Dd[2],Dd[3]],We=[Dd[0],Dd[1]];fc=fc[td-1];var Ue=[0,0];"move"===fc.op?Ue=fc.data:"bcurveTo"===fc.op&&(Ue=[fc.data[4],
fc.data[5]]);td=function(Jd,je){return Math.pow(1-Jd,3)*xe[je]+3*Jd*Math.pow(1-Jd,2)*te[je]+3*Math.pow(Jd,2)*(1-Jd)*We[je]+Ue[je]*Math.pow(Jd,3)};fc="start"===Fc?Ue:xe;Fc=fc[0];fc=fc[1];Dd=[td(.3,0),td(.3,1)];td=Dd[0];Dd=Dd[1];var vf=Math.hypot(Fc-td,fc-Dd);td=(Fc-td)/vf;Dd=(fc-Dd)/vf;vf={arrow:30,bar:15,dot:15}[nd];jc=jc.points.reduce(function(Jd,je,se,lf){se=0<se?lf[se-1]:[0,0];return Jd+Math.hypot(je[0]-se[0],je[1]-se[1])},0);vf=Math.min(vf,jc/2);jc=Fc-td*vf;td=fc-Dd*vf;if("dot"===nd)return[Fc,
fc,Math.hypot(td-fc,jc-Fc)];Dd={arrow:20,bar:90}[nd];vf=Pf(jc,td,Fc,fc,-Dd*Math.PI/180);nd=vf[0];vf=vf[1];jc=Pf(jc,td,Fc,fc,Dd*Math.PI/180);return[Fc,fc,nd,vf,jc[0],jc[1]]}(ua,Ga,Ua,Na);if(null===Ga)return[];if("dot"===Na)return[t.circle(Ga[0],Ga[1],Ga[2],Vb(Vb({},ca),{},{fill:ua.strokeColor,fillStyle:"solid"}))];Na=Ga[0];Ua=Ga[1];var ob=Ga[2],vb=Ga[3],wb=Ga[4];Ga=Ga[5];return"dotted"===ua.strokeStyle?ca.strokeLineDash=[3,4]:delete ca.strokeLineDash,[t.line(ob,vb,Na,Ua,ca),t.line(wb,Ga,Na,Ua,ca)]}
null!==H&&(H=ya(e,x,"start",H),x.push.apply(x,H));null!==W&&(H=ya(e,x,"end",W),x.push.apply(x,H))}break;case "text":x=[]}bi.set(e,x)}},zm=function(e,t,x,H,W){var ca=t.generator;switch(e.type){case "selection":x.translate(e.x+W.scrollX,e.y+W.scrollY);t=x.fillStyle;x.fillStyle="rgba(0, 0, 255, 0.10)";x.fillRect(0,0,e.width,e.height);x.fillStyle=t;x.translate(-e.x-W.scrollX,-e.y-W.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Yi(e,ca),
H){t=W?W.zoom:Eg.zoom;ca=(H=kk.get(e))&&H.canvasZoom!==t.value&&!(null!=W&&W.shouldCacheIgnoreZoom);if(!H||ca){H=document.createElement("canvas");ca=H.getContext("2d");var ya=0,ua=0;if(ff(e)){ya=wg(e);var Ga=ya[0];ua=ya[1];var Ua=ya[3];H.width=Math.abs(Ga-ya[2])*window.devicePixelRatio*t.value+40*t.value;H.height=Math.abs(ua-Ua)*window.devicePixelRatio*t.value+40*t.value;ya=e.x>Ga?Math.floor(Math.abs(e.x-Ga))*window.devicePixelRatio*t.value:0;ua=e.y>ua?Math.floor(Math.abs(e.y-ua))*window.devicePixelRatio*
t.value:0;ca.translate(ya,ua)}else H.width=e.width*window.devicePixelRatio*t.value+40*t.value,H.height=e.height*window.devicePixelRatio*t.value+40*t.value;ca.translate(20*t.value,20*t.value);ca.scale(window.devicePixelRatio*t.value,window.devicePixelRatio*t.value);Ga=Vh.canvas(H);t=(Oh(e,Ga,ca),ca.translate(-20*t.value,-20*t.value),ca.scale(1/(window.devicePixelRatio*t.value),1/(window.devicePixelRatio*t.value)),{element:e,canvas:H,canvasZoom:t.value,canvasOffsetX:ya,canvasOffsetY:ua});e=(kk.set(e,
t),t)}else e=H;t=e.element;ya=wg(t);H=ya[0];ca=ya[1];ua=ya[2];ya=ya[3];Ga=((H+ua)/2+W.scrollX)*window.devicePixelRatio;W=((ca+ya)/2+W.scrollY)*window.devicePixelRatio;x.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);x.translate(Ga,W);x.rotate(t.angle);x.drawImage(e.canvas,-(ua-H)/2*window.devicePixelRatio-20*e.canvasZoom/e.canvasZoom,-(ya-ca)/2*window.devicePixelRatio-20*e.canvasZoom/e.canvasZoom,e.canvas.width/e.canvasZoom,e.canvas.height/e.canvasZoom);x.rotate(-t.angle);x.translate(-Ga,
-W);x.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else ca=wg(e),ua=ca[0],H=ca[1],ya=ca[2],Ga=ca[3],ca=(ua+ya)/2+W.scrollX,W=(H+Ga)/2+W.scrollY,ua=(ya-ua)/2-(e.x-ua),H=(Ga-H)/2-(e.y-H),x.translate(ca,W),x.rotate(e.angle),x.translate(-ua,-H),Oh(e,t,x),x.translate(ua,H),x.rotate(-e.angle),x.translate(-ca,-W);break;default:throw Error("Unimplemented type ".concat(e.type));}},Ph=function(){function e(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}
return e.mapElementToScene=function(t,x){"string"==typeof t?this.sceneMapById.set(t,x):this.sceneMapByElement.set(t,x)},e.getScene=function(t){return"string"==typeof t?this.sceneMapById.get(t)||null:this.sceneMapByElement.get(t)||null},e.prototype.getElementsIncludingDeleted=function(){return this.elements},e.prototype.getElements=function(){return this.nonDeletedElements},e.prototype.getElement=function(t){return this.elementsMap.get(t)||null},e.prototype.getNonDeletedElement=function(t){return(t=
this.getElement(t))&&!t.isDeleted?t:null},e.prototype.getNonDeletedElements=function(t){var x=this,H=[];return t.forEach(function(W){W=x.getNonDeletedElement(W);null!=W&&H.push(W)}),H},e.prototype.replaceAllElements=function(t){var x=this;this.elements=t;this.elementsMap.clear();t.forEach(function(H){x.elementsMap.set(H.id,H);e.mapElementToScene(H,x)});this.nonDeletedElements=ne(this.elements);this.informMutation()},e.prototype.informMutation=function(){for(var t=0,x=Array.from(this.callbacks);t<
x.length;t++)(0,x[t])()},e.prototype.addCallback=function(t){var x=this;if(this.callbacks.has(t))throw Error();return this.callbacks.add(t),function(){if(!x.callbacks.has(t))throw Error();x.callbacks.delete(t)}},e.prototype.destroy=function(){var t=this;e.sceneMapById.forEach(function(x,H){x===t&&e.sceneMapById.delete(H)});this.callbacks.clear()},e}();Ph.sceneMapByElement=new WeakMap;Ph.sceneMapById=new Map;var tl=new ze(Date.now()),lk=function(){return Math.floor(tl.next()*Math.pow(2,31))},di=function(){return((e=
21)=>{let t="",x=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let H=63&x[e];t+=36>H?H.toString(36):62>H?(H-26).toString(36).toUpperCase():63>H?"_":"-"}return t})()},of=function(e,t){var x,H=!1,W=t.points,ca;for(ca in void 0!==W&&(t=nb(nb({},function(wb){var jc=wb.map(function(fc){return fc[0]});wb=wb.map(function(fc){return fc[1]});return{width:Math.max.apply(Math,jc)-Math.min.apply(Math,jc),height:Math.max.apply(Math,wb)-Math.min.apply(Math,wb)}}(W)),t)),t){var ya=t[ca];if(void 0!==ya&&(e[ca]!==
ya||"object"==typeof ya&&null!==ya&&"groupIds"!==ca)){if("points"===ca){var ua=e[ca],Ga=ya;if(ua.length===Ga.length){for(var Ua=!1,Na=ua.length;--Na;){var ob=ua[Na],vb=Ga[Na];if(ob[0]!==vb[0]||ob[1]!==vb[1]){Ua=!0;break}}if(!Ua)continue}}e[ca]=ya;H=!0}}H&&(void 0===t.height&&void 0===t.width&&void 0===W||bi.delete(e),e.version++,e.versionNonce=lk(),null===(x=Ph.getScene(e))||void 0===x||x.informMutation())},Fg=function(e,t){return nb(nb(nb({},e),t),{},{version:e.version+1,versionNonce:lk()})},Mh=
function(e){return ff(e)?2>e.points.length:0===e.width&&0===e.height},Ze=function(e,t,x){var H=Math.abs(t),W=Math.abs(x);"line"===e||"arrow"===e||"draw"===e?(e=Math.round(Math.atan(W/H)/Xa.ay)*Xa.ay,0===e?x=0:e===Math.PI/2?t=0:x=Math.round(H*Math.tan(e))*Math.sign(x)||x):"selection"!==e&&(x=H*Math.sign(x));return{width:t,height:x}},ll=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(0>e.width){var x=Math.abs(e.width);t.width=x;t.x=e.x-x}0>e.height&&(x=Math.abs(e.height),t.height=x,
t.y=e.y-x);return t},dg=p(5474),li=p.n(dg),Yk=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},Uj=function(e,t,x){var H,W;x=x.filter(function(ca){return ca.groupIds.includes(e)});return 2>x.length?t.selectedGroupIds[e]||t.editingGroupId===e?Wa(Wa({},t),{},{selectedGroupIds:Wa(Wa({},t.selectedGroupIds),{},(H={},H[e]=!1,H)),editingGroupId:null}):t:Wa(Wa({},t),{},{selectedGroupIds:Wa(Wa({},t.selectedGroupIds),{},(W={},W[e]=!0,W)),selectedElementIds:Wa(Wa({},t.selectedElementIds),
Object.fromEntries(x.map(function(ca){return[ca.id,!0]})))})},Fh=function(e,t){return t.groupIds.filter(function(x){return x!==e.editingGroupId}).find(function(x){return e.selectedGroupIds[x]})},Ki=function(e){return Object.entries(e.selectedGroupIds).filter(function(t){t[0];return t[1]}).map(function(t){var x=t[0];t[1];return x})},ei=function(e,t){for(var x=Wa({},e),H=0,W=Lf(t,e);H<W.length;H++){var ca=W[H].groupIds;if(e.editingGroupId){var ya=ca.indexOf(e.editingGroupId);-1<ya&&(ca=ca.slice(0,ya))}0<
ca.length&&(x=Uj(ca[ca.length-1],x,t))}return x},Li=function(e,t){return e.filter(function(x){return x.groupIds.includes(t)})},Mi=function(e,t){var x,H,W=t.x,ca=t.y,ya=t.strokeColor,ua=t.backgroundColor,Ga=t.fillStyle,Ua=t.strokeWidth,Na=t.strokeStyle,ob=t.roughness,vb=t.opacity,wb=t.width;wb=void 0===wb?0:wb;var jc=t.height;jc=void 0===jc?0:jc;var fc=t.angle;fc=void 0===fc?0:fc;var Fc=t.groupIds;Fc=void 0===Fc?[]:Fc;var nd=t.strokeSharpness,td=t.boundElementIds;td=void 0===td?null:td;t=li()(t,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:t.id||di(),type:e,x:W,y:ca,width:wb,height:jc,angle:fc,strokeColor:ya,backgroundColor:ua,fillStyle:Ga,strokeWidth:Ua,strokeStyle:Na,roughness:ob,opacity:vb,groupIds:Fc,strokeSharpness:nd,seed:null!==(x=t.seed)&&void 0!==x?x:lk(),version:t.version||1,versionNonce:null!==(H=t.versionNonce)&&void 0!==H?H:0,isDeleted:!1,boundElementIds:td}},nl=function(e){return Mi(e.type,e)},mi=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?
t.height/2:0}},Hj=function(e){var t=hj(e.text,gj(e)),x=mi(e,t);return Fg(Ia(Ia({},Mi("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-x.x,y:e.y-x.y,width:t.width,height:t.height,baseline:t.baseline}),{})},$e=function(e){return Ia(Ia({},Mi(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},Vj=function(e,t){if(void 0===
t&&(t=0),null==e||"object"!=typeof e)return e;if("[object Object]"===Object.prototype.toString.call(e)){var x="function"==typeof e.constructor?Object.create(Object.getPrototypeOf(e)):{},H;for(H in e)e.hasOwnProperty(H)&&(0!==t||"shape"!==H&&"canvas"!==H)&&(x[H]=Vj(e[H],t+1));return x}if(Array.isArray(e)){x=e.length;for(H=Array(x);x--;)H[x]=Vj(e[x],t+1);return H}return e},yi=function(e,t,x,H){x=Vj(x);return x.id=di(),x.seed=lk(),x.groupIds=function(W,ca,ya){var ua=Yk([],W);ca=ca?W.indexOf(ca):-1;W=
-1<ca?ca:W.length;for(ca=0;ca<W;ca++)ua[ca]=ya(ua[ca]);return ua}(x.groupIds,e,function(W){return t.has(W)||t.set(W,di()),t.get(W)}),H&&(x=Object.assign(x,H)),x},Te={mouse:8,pen:16,touch:28},Zk={e:!0,s:!0,n:!0,w:!0},ol={e:!0,s:!0,n:!0,w:!0},Xh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},wj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},mh=function(e,t,x,H,W,ca,ya){e=Pf(e+x/2,t+H/2,W,ca,ya);return[e[0]-x/2,e[1]-H/2,x,H]},Tj=function(e,t,x,H,W){var ca=e[0],ya=e[1],ua=e[2];e=e[3];void 0===W&&(W={});var Ga=Te[H];H=Ga/x.value;
var Ua=Ga/x.value,Na=Ga/x.value,ob=Ga/x.value,vb=ua-ca,wb=e-ya,jc=(ca+ua)/2,fc=(ya+e)/2,Fc=4/x.value;Ga=(Ga-8)/(2*x.value);var nd={nw:W.nw?void 0:mh(ca-Fc-Na+Ga,ya-Fc-ob+Ga,H,Ua,jc,fc,t),ne:W.ne?void 0:mh(ua+Fc-Ga,ya-Fc-ob+Ga,H,Ua,jc,fc,t),sw:W.sw?void 0:mh(ca-Fc-Na+Ga,e+Fc-Ga,H,Ua,jc,fc,t),se:W.se?void 0:mh(ua+Fc-Ga,e+Fc-Ga,H,Ua,jc,fc,t),rotation:W.rotation?void 0:mh(ca+vb/2-H/2,ya-Fc-ob+Ga-16/x.value,H,Ua,jc,fc,t)};x=5*Te.mouse/x.value;return Math.abs(vb)>x&&(W.n||(nd.n=mh(ca+vb/2-H/2,ya-Fc-ob+
Ga,H,Ua,jc,fc,t)),W.s||(nd.s=mh(ca+vb/2-H/2,e+Fc-Ga,H,Ua,jc,fc,t))),Math.abs(wb)>x&&(W.w||(nd.w=mh(ca-Fc-Na+Ga,ya+wb/2-Ua/2,H,Ua,jc,fc,t)),W.e||(nd.e=mh(ua+Fc-Ga,ya+wb/2-Ua/2,H,Ua,jc,fc,t))),nd},Gj=function(e,t,x){void 0===x&&(x="mouse");var H={};if("arrow"===e.type||"line"===e.type||"draw"===e.type){if(2===e.points.length){var W=e.points[1];0===W[0]||0===W[1]?H=wj:0<W[0]&&0>W[1]?H=Xh:0<W[0]&&0<W[1]?H=wj:0>W[0]&&0<W[1]?H=Xh:0>W[0]&&0>W[1]&&(H=wj)}}else"text"===e.type&&(H=ol);return Tj(wg(e),e.angle,
t,x,H)},Ni=function(e,t){return[0,0,0,0,t,e,1,0]},oh=function(e,t){void 0===e&&(e=0);void 0===t&&(t=0);var x=[0,0,0,0,0,0,0,0];if(0>t||7<t)throw Error("Expected `index` betwen 0 and 7, got `".concat(t,"`"));return 0!==e&&(x[t]=e),x},Qh=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},ml=function(e,t){return"number"==typeof t?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},nk=function(e,t){return"number"==
typeof t?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6],t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*
e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},qk=function(e,t){return[Xj(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},Xj=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},lm=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},uj=function(e){var t=lm(e);return 0===t||
1===t?e:nk(e,(0>e[6]?-1:1)/t)},vl=(oh(1,1),oh(1,2),oh(1,3),oh(1,4),oh(1,5),oh(1,6),oh(1,7),function(e,t,x){return uj([0,x,e,t,0,0,0,0])}),ok=function(e,t){return x=e,[(H=t)[0]*x[0]+H[2]*x[2]+H[3]*x[3]-H[6]*x[6],H[1]*x[0]+H[0]*x[1]-H[4]*x[2]+H[5]*x[3]+H[2]*x[4]-H[3]*x[5]-H[7]*x[6]-H[6]*x[7],H[2]*x[0]+H[0]*x[2]-H[6]*x[3]+H[3]*x[6],H[3]*x[0]+H[6]*x[2]+H[0]*x[3]-H[2]*x[6],H[4]*x[0]+H[7]*x[3]+H[0]*x[4]+H[3]*x[7],H[5]*x[0]+H[7]*x[2]+H[0]*x[5]+H[2]*x[7],H[6]*x[0]+H[0]*x[6],H[7]*x[0]+H[0]*x[7]];var x,H},
pk=function(e){return[0,0,0,0,e[1],e[0],1,0]},Zh=function(e){return[e[5],e[4]]},xj=function(e,t){return x=nk(e,Math.sin(t/2)),H=Math.cos(t/2),"number"==typeof H?[x[0]+H,x[1],x[2],x[3],x[4],x[5],x[6],x[7]]:[x[0]+H[0],x[1]+H[1],x[2]+H[2],x[3]+H[3],x[4]+H[4],x[5]+H[5],x[6]+H[6],x[7]+H[7]];var x,H},aj=function(e,t){return uj(nk(nk(e,t),Qh(e)))},Ij=function(e,t,x,H){var W=10/t.zoom.value;return!Wj(e,t,[x,H])&&Yj(e,[x,H],W)},Wj=function(e,t,x){t=10/t.zoom.value;if("text"===e.type)var H=Hk;else"arrow"===
e.type?H=!1:(H="transparent"!==e.backgroundColor,H="line"===e.type||"draw"===e.type?H&&si(e.points):H),H=H?sk:$i;return lj({element:e,point:x,threshold:t,check:H})},Yj=function(e,t,x){var H=t[0],W=t[1],ca=wg(e);t=ca[0];var ya=ca[1],ua=ca[2];ca=ca[3];H=Pf(H,W,(t+ua)/2,(ya+ca)/2,-e.angle);e=H[0];H=H[1];return e>t-x&&e<ua+x&&H>ya-x&&H<ca+x},rk=function(e,t){var x=t.x;t=t.y;var H=Bg(e,e.width,e.height);return lj({element:e,point:[x,t],threshold:H,check:Em})},Bg=function(e,t,x){return Math.max(16,Math.min(.25*
("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,x),32))},lj=function(e){switch(e.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var t=Gk(e.element,e.point);return e.check(t,e.threshold);case "arrow":case "line":case "draw":return rn(e);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Gk=function(e,t){switch(e.type){case "rectangle":case "text":var x=wi(e,t),H=x[1],W=x[2];e=Math;t=e.max;x=vl(0,1,-x[3]);x=Xj(H,x);W=vl(1,
0,-W);H=Xj(H,W);return t.call(e,x,H);case "diamond":return H=wi(e,t),e=H[1],t=H[2],H=H[3],t=vl(H,t,-H*t),Xj(e,t);case "ellipse":return e=Yl(e,t),t=e[1],-Math.sign(t[1])*Xj(e[0],t)}},Hk=function(e,t){return 0>e},sk=function(e,t){return e<t},$i=function(e,t){return Math.abs(e)<t},Em=function(e,t){return 0<=e&&e<t},Yl=function(e,t){t=wi(e,t);e=t[1];var x=t[2],H=t[3];t=Zh(e);var W=t[0],ca=t[1],ya=.707,ua=.707;[0,1,2,3].forEach(function(Ga){Ga=(x*x-H*H)*Math.pow(ya,3)/x;var Ua=(H*H-x*x)*Math.pow(ua,3)/
H,Na=W-Ga,ob=ca-Ua,vb=Math.hypot(H*ua-Ua,x*ya-Ga),wb=Math.hypot(ob,Na);ya=Math.min(1,Math.max(0,(Na*vb/wb+Ga)/x));ua=Math.min(1,Math.max(0,(ob*vb/wb+Ua)/H));Ga=Math.hypot(ua,ya);ya/=Ga;ua/=Ga});t=Ni(x*ya,H*ua);return[e,ok(uj(qk(t,e)),t)]},rn=function(e){var t=e.element,x=e.threshold;if(!bi.get(t))return!1;var H=wi(e.element,e.point),W=H[0],ca=H[1],ya=H[2];H=vl(0,1,-H[3]);ya=vl(1,0,-ya);if(!sk(Xj(ca,H),x)||!sk(Xj(ca,ya),x))return!1;W=Zh(W);var ua=W[0],Ga=W[1];W=bi.get(t);return e.check===sk&&W.some(function(Ua){var Na=
t.strokeSharpness;var ob=[],vb=!1,wb=0;for(Ua=ui(Ua);wb<Ua.length;wb++){var jc=Ua[wb];"move"===jc.op?(vb=!vb)&&ob.push([jc.data[0],jc.data[1]]):"bcurveTo"===jc.op&&vb&&(ob.push([jc.data[0],jc.data[1]]),ob.push([jc.data[2],jc.data[3]]),ob.push([jc.data[4],jc.data[5]]))}4<=ob.length?"sharp"===Na?Na=Ig(ob,ua,Ga):(Na=P(ob,10,5),Na=Ig(Na,ua,Ga)):Na=!1;return Na})?!0:W.some(function(Ua){return Tk(Ua,ua,Ga,x)})},wi=function(e,t){var x,H=pk(t);t=wg(e);var W=Ik(t),ca=xj(W,e.angle);H=aj(ca,H);W=ml(H,[0,0,0,
0,W[4],W[5],0,0]);W=[0,0,0,0,Math.abs(W[4]),Math.abs(W[5]),1,0];e=(x=e.x,[0,0,0,0,e.y,x,0,0]);return[ml(H,e),W,(t[2]-t[0])/2,(t[3]-t[1])/2]},Ii=function(e){var t=wg(e);t=Ik(t);e=xj(t,e.angle);t=[0,0,0,0,t[4],t[5],0,0];t=Qh([1,0,0,0,-.5*t[5],.5*t[4],0,0]);return nk(t,e)},Ik=function(e){return Ni((e[0]+e[2])/2,(e[1]+e[3])/2)},Ek=function(e,t,x,H){switch(void 0===H&&(H=0),e.type){case "rectangle":case "text":case "diamond":var W=Tg(e);var ca=W.flatMap(function(ya,ua){ua=[ya,W[(ua+1)%4]];var Ga=H;ya=
ua[0];ua=ua[1];var Ua=[0,0,0,0,ua[4]-ya[4],ua[5]-ya[5],0,0];var Na=Math.sqrt(Math.abs(Ua[7]*Ua[7]-Ua[5]*Ua[5]-Ua[4]*Ua[4]+Ua[1]*Ua[1]));Ua=0===Na||1===Na?Ua:nk(Ua,1/Na);Ga*=.5;Ga=[1,0,0,0,Ga*Ua[4],Ga*Ua[5],0,0];ua=[aj(Ga,ya),aj(Ga,ua)];ya=ua[0];ua=ua[1];if(0<=Xj(ya,t)*Xj(ua,t))var ob=[];else{a:{ya=uj(qk(ua,ya));ya=uj((ob=t,[(vb=ya)[0]*ob[0],vb[1]*ob[0]+vb[0]*ob[1],vb[2]*ob[0]+vb[0]*ob[2],vb[3]*ob[0]+vb[0]*ob[3],vb[4]*ob[0]+vb[2]*ob[1]-vb[1]*ob[2]+vb[0]*ob[4],vb[5]*ob[0]-vb[3]*ob[1]+vb[1]*ob[3]+vb[0]*
ob[5],vb[6]*ob[0]+vb[3]*ob[2]-vb[2]*ob[3]+vb[0]*ob[6],vb[7]*ob[0]+vb[6]*ob[1]+vb[5]*ob[2]+vb[4]*ob[3]+vb[3]*ob[4]+vb[2]*ob[5]+vb[1]*ob[6]]));break a;var vb}ob=[ya]}return ob}).concat(W.flatMap(function(ya){var ua=H;if(0===ua)var Ga=0===Xj(t,ya)?[ya]:[];else{Ga=t[2];var Ua=t[3],Na=t[1],ob=Zh(ya);ya=ob[0];var vb=ob[1];ob=Ga*Ga+Ua*Ua;ua=ua*ua*ob-Math.pow(Ga*ya+Ua*vb+Na,2);if(0===ob||0>=ua)Ga=[];else{ua=Math.sqrt(ua);var wb=ya*Ua*Ua-vb*Ga*Ua-Ga*Na;Na=vb*Ga*Ga-ya*Ga*Ua-Ua*Na;Ga=[Ni((wb+Ua*ua)/ob,(Na-Ga*
ua)/ob),Ni((wb-Ua*ua)/ob,(Na+Ga*ua)/ob)]}}return Ga}));break;case "ellipse":ca=ki(e,H,t)}if(2>ca.length)return[];e=ca.sort(function(ya,ua){return lm(qk(ya,x))-lm(qk(ua,x))});return[e[0],e[e.length-1]]},Tg=function(e,t){void 0===t&&(t=1);var x=t*e.width/2;t=t*e.height/2;switch(e.type){case "rectangle":case "text":return[Ni(x,t),Ni(x,-t),Ni(-x,-t),Ni(-x,t)];case "diamond":return[Ni(0,t),Ni(x,0),Ni(0,-t),Ni(-x,0)]}},ki=function(e,t,x){var H=e.width/2+t;e=e.height/2+t;t=x[2];var W=x[3],ca=x[1];x=H*H*
t*t+e*e*W*W;var ya=x-ca*ca;if(0===x||0>=ya)return[];ya=Math.sqrt(ya);var ua=-H*H*t*ca;ca*=-e*e*W;return[Ni((ua+H*e*W*ya)/x,(ca-H*e*t*ya)/x),Ni((ua-H*e*W*ya)/x,(ca+H*e*t*ya)/x)]},Jg=function(e,t,x){var H=Math.sign(t),W=0,ca=null;return Tg(e,Math.abs(t)).forEach(function(ya){var ua=H*uj(qk(ya,x))[1];ua>W&&(W=ua,ca=ya)}),ca},Tk=function(e,t,x,H){var W=[0,0];return ui(e).some(function(ca,ya){ya=ca.op;var ua=ca.data;if("move"===ya)W=ua;else if("bcurveTo"===ya){ca=[ua[0],ua[1]];ya=[ua[2],ua[3]];ua=[ua[4],
ua[5]];var Ga=W;return W=ua,function(Ua,Na,ob,vb,wb,jc){var fc=wb[0];wb=wb[1];for(var Fc=function(xe,te){return Math.pow(1-xe,3)*vb[te]+3*xe*Math.pow(1-xe,2)*ob[te]+3*Math.pow(xe,2)*(1-xe)*Na[te]+Ua[te]*Math.pow(xe,3)},nd=0;1>=nd;){var td=Fc(nd,0),Dd=Fc(nd,1);if(Math.sqrt(Math.pow(td-fc,2)+Math.pow(Dd-wb,2))<jc)return!0;nd+=.01}return!1}(Ga,ca,ya,ua,[t,x],H)}return!1})},bh=function(e,t,x){return t>=e[0]&&t<=e[0]+e[2]&&x>=e[1]&&x<=e[1]+e[3]},Yg=function(e,t,x,H,W,ca){return e.reduce(function(ya,ua){return ya?
ya:(ya=function(Ga,Ua,Na,ob,vb,wb){if(!Ua.selectedElementIds[Ga.id])return!1;Ga=Gj(Ga,vb,wb);Ua=Ga.rotation;var jc=li()(Ga,["rotation"]);if(Ua&&bh(Ua,Na,ob))return"rotation";Ga=Object.keys(jc).filter(function(fc){fc=jc[fc];return!!fc&&bh(fc,Na,ob)});return 0<Ga.length&&Ga[0]}(ua,t,x,H,W,ca))?{element:ua,transformHandleType:ya}:null},null)},Ef=function(e,t,x,H,W){var ca=Tj([e[0],e[1],e[2],e[3]],0,H,W,Zk);return Object.keys(ca).find(function(ya){return(ya=ca[ya])&&bh(ya,t,x)})||!1},wh=["ns","nesw",
"ew","nwse"],Le=function(e){var t=e.element,x=t&&-1==Math.sign(t.height)*Math.sign(t.width),H=null;switch(e.transformHandleType){case "n":case "s":H="ns";break;case "w":case "e":H="ew";break;case "nw":case "se":H=x?"nesw":"nwse";break;case "ne":case "sw":H=x?"nwse":"nesw";break;case "rotation":return"grab"}H&&t&&(e=H,t=t.angle,x=wh.indexOf(e),0<=x&&(e=wh[(x+Math.round(t/(Math.PI/4)))%wh.length]),H=e);return H?"".concat(H,"-resize"):""},yj=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=
t[x];return e},yg=function(){function e(t,x){this.elementId=t.id;Ph.mapElementToScene(this.elementId,x);e.normalizePoints(t);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return e.getElement=function(t){var x;return(null===(x=Ph.getScene(t))||void 0===x?void 0:x.getNonDeletedElement(t))||null},e.handlePointDragging=function(t,x,H,W,ca){if(!t.editingLinearElement)return!1;var ya=t.editingLinearElement,
ua=ya.activePointIndex,Ga=ya.isDragging,Ua=e.getElement(ya.elementId);return Ua?null!=ua&&-1<ua?(!1===Ga&&x({editingLinearElement:jb(jb({},ya),{},{isDragging:!0})}),t=e.createPointAt(Ua,H-ya.pointerOffset.x,W-ya.pointerOffset.y,t.gridSize),e.movePoint(Ua,ua,t),vg(Ua)&&ca(Ua,0===ua?"start":"end"),!0):!1:!1},e.handlePointerUp=function(t,x,H){t=x.activePointIndex;var W=x.isDragging,ca=e.getElement(x.elementId);if(!ca)return x;var ya={};!W||0!==t&&t!==ca.points.length-1||(si(ca.points,H.zoom.value)&&
e.movePoint(ca,t,0===t?ca.points[ca.points.length-1]:ca.points[0]),W=H.isBindingEnabled?Hh(Pg(e.getPointAtIndexGlobalCoordinates(ca,t)),Ph.getScene(ca)):null,(H={})[0===t?"startBindingElement":"endBindingElement"]=W,ya=H);return jb(jb(jb({},x),ya),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},e.handlePointerDown=function(t,x,H,W,ca){var ya={didAddPoint:!1,hitElement:null};if(!x.editingLinearElement)return ya;var ua=e.getElement(x.editingLinearElement.elementId);if(!ua)return ya;if(t.altKey)return null==
x.editingLinearElement.lastUncommittedPoint&&of(ua,{points:yj(yj([],ua.points),[e.createPointAt(ua,ca.x,ca.y,x.gridSize)])}),W.resumeRecording(),H({editingLinearElement:jb(jb({},x.editingLinearElement),{},{activePointIndex:ua.points.length-1,lastUncommittedPoint:null,endBindingElement:Hh(ca,Ph.getScene(ua))})}),ya.didAddPoint=!0,ya;t=e.getPointIndexUnderCursor(ua,x.zoom,ca.x,ca.y);if(-1<t)ya.hitElement=ua;else{var Ga=x.editingLinearElement;W=Ga.startBindingElement;Ga=Ga.endBindingElement;x.isBindingEnabled&&
vg(ua)&&ag(ua,W,Ga)}Ga=wg(ua);W=(Ga[0]+Ga[2])/2;Ga=(Ga[1]+Ga[3])/2;ua=-1<t&&Pf(ua.x+ua.points[t][0],ua.y+ua.points[t][1],W,Ga,ua.angle);return H({editingLinearElement:jb(jb({},x.editingLinearElement),{},{activePointIndex:-1<t?t:null,pointerOffset:ua?{x:ca.x-ua[0],y:ca.y-ua[1]}:{x:0,y:0}})}),ya},e.handlePointerMove=function(t,x,H,W,ca){var ya=W.lastUncommittedPoint,ua=e.getElement(W.elementId);if(!ua)return W;var Ga=ua.points,Ua=Ga[Ga.length-1];if(!t.altKey)return Ua===ya&&e.movePoint(ua,Ga.length-
1,"delete"),jb(jb({},W),{},{lastUncommittedPoint:null});t=e.createPointAt(ua,x-W.pointerOffset.x,H-W.pointerOffset.y,ca);return Ua===ya?e.movePoint(ua,ua.points.length-1,t):e.movePoint(ua,"new",t),jb(jb({},W),{},{lastUncommittedPoint:ua.points[ua.points.length-1]})},e.getPointsGlobalCoordinates=function(t){var x=wg(t),H=(x[0]+x[2])/2,W=(x[1]+x[3])/2;return t.points.map(function(ca){var ya;return[(ya=Pf(t.x+ca[0],t.y+ca[1],H,W,t.angle))[0],ya[1]]})},e.getPointAtIndexGlobalCoordinates=function(t,x){var H=
0>x?t.points.length+x:x;x=wg(t);H=t.points[H];return Pf(t.x+H[0],t.y+H[1],(x[0]+x[2])/2,(x[1]+x[3])/2,t.angle)},e.pointFromAbsoluteCoords=function(t,x){var H=wg(t);x=Pf(x[0],x[1],(H[0]+H[2])/2,(H[1]+H[3])/2,-t.angle);return[x[0]-t.x,x[1]-t.y]},e.getPointIndexUnderCursor=function(t,x,H,W){t=this.getPointsGlobalCoordinates(t);for(var ca=t.length;-1<--ca;){var ya=t[ca];if(Math.hypot(ya[0]-H,ya[1]-W)*x.value<this.POINT_HANDLE_SIZE/2+1)return ca}return-1},e.createPointAt=function(t,x,H,W){x=sh(x,H,W);
H=wg(t);x=Pf(x[0],x[1],(H[0]+H[2])/2,(H[1]+H[3])/2,-t.angle);return[x[0]-t.x,x[1]-t.y]},e.normalizePoints=function(t){var x=t.points,H=x[0][0],W=x[0][1];of(t,{points:x.map(function(ca,ya){return[ca[0]-H,ca[1]-W]}),x:t.x+H,y:t.y+W})},e.movePointByOffset=function(t,x,H){var W=t.points[x];e.movePoint(t,x,[W[0]+H.x,W[1]+H.y])},e.movePoint=function(t,x,H,W){var ca=t.points,ya=0,ua=0;if("delete"===H){if("new"===x)throw Error("invalid args in movePoint");(H=ca.slice()).splice(x,1);0===x&&(ya=H[0][0],ua=
H[0][1],H=H.map(function(ob,vb){return 0===vb?[0,0]:[ob[0]-ya,ob[1]-ua]}))}else if("new"===x)H=yj(yj([],ca),[H]);else{var Ga=H[0]-ca[x][0],Ua=H[1]-ca[x][1];H=ca.map(function(ob,vb){return vb===x?0===vb?(ya=Ga,ua=Ua,ob):(ya=0,ua=0,[ob[0]+Ga,ob[1]+Ua]):ya||ua?[ob[0]-ya,ob[1]-ua]:ob})}var Na=He(t,H,t.strokeSharpness||"round");ca=He(t,ca,t.strokeSharpness||"round");ca=Pf(ya,ua,(ca[0]+ca[2])/2-(Na[0]+Na[2])/2,(ca[1]+ca[3])/2-(Na[1]+Na[3])/2,t.angle);of(t,jb(jb({},W),{},{points:H,x:t.x+ca[0],y:t.y+ca[1]}))},
e}();yg.POINT_HANDLE_SIZE=20;var mm=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},ag=function(e,t,x){var H=new Set,W=new Set;Ug(e,t,x,"start",H,W);Ug(e,x,t,"end",H,W);t=Array.from(W).filter(function(ca){return!H.has(ca)});Ph.getScene(e).getNonDeletedElements(t).forEach(function(ca){var ya;of(ca,{boundElementIds:null===(ya=ca.boundElementIds)||void 0===ya?void 0:ya.filter(function(ua){return ua!==e.id})})})},Ug=function(e,t,x,H,W,ca){if("keep"!==t)if(null!=t)null!=
x&&("keep"===x?If(e,t,H):"start"!==H&&x.id===t.id)||(Nj(e,t,H),W.add(t.id));else{var ya;t="start"===H?"startBinding":"endBinding";x=e[t];e=null==x?null:(of(e,((ya={})[t]=null,ya)),x.elementId);null!=e&&ca.add(e)}},zg=function(e){e.forEach(function(t){vg(t)?ag(t,dh(t,"start"),dh(t,"end")):gk(t)&&Pl(t)})},Pl=function(e){xh(e).forEach(function(t){var x=t[1];return ag(t[0],"end"===x?"keep":e,"start"===x?"keep":e)})},Jj=function(e,t,x,H){null!=t.startBoundElement&&Nj(e,t.startBoundElement,"start");t=Hh(H,
x);null==t||If(e,t,"end")||Nj(e,t,"end")},Nj=function(e,t,x){var H,W;of(e,((H={})["start"===x?"startBinding":"endBinding"]=function(ca){for(var ya=1;ya<arguments.length;ya++){var ua=null!=arguments[ya]?arguments[ya]:{};ya%2?Yb(Object(ua),!0).forEach(function(Ga){Me()(ca,Ga,ua[Ga])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ca,Object.getOwnPropertyDescriptors(ua)):Yb(Object(ua)).forEach(function(Ga){Object.defineProperty(ca,Ga,Object.getOwnPropertyDescriptor(ua,Ga))})}return ca}({elementId:t.id},
af(e,t,x)),H));of(t,{boundElementIds:Array.from(new Set(mm(mm([],null!==(W=t.boundElementIds)&&void 0!==W?W:[]),[e.id])))})},If=function(e,t,x){x=e["start"===x?"endBinding":"startBinding"];return(null==x?void 0:x.elementId)===t.id&&3>e.points.length},qh=function(e){e.forEach(function(t){vg(t)&&ag(t,null,null)})},Hh=function(e,t){return Fi(t.getElements(),function(x){return gk(x)&&rk(x,e)})},af=function(e,t,x){var H="start"===x?-1:1;x=-1===H?0:e.points.length-1;H=x-H;x=yg.getPointAtIndexGlobalCoordinates(e,
x);H=yg.getPointAtIndexGlobalCoordinates(e,H);a:{e=Ii(t);H=aj(e,pk(H));e=aj(e,pk(x));var W=uj(qk(e,H));e=t.height/t.width;H=t.width/2;var ca=t.height/2,ya=W[2],ua=W[3];W=W[1];var Ga=Math.abs(ua),Ua=Math.abs(ya);switch(t.type){case "rectangle":case "text":e=W/(H*(Ua+e*Ga));break a;case "diamond":e=Ga<Ua?W/(Ua*H):W/(Ga*ca);break a;case "ellipse":e=W/(H*Math.sqrt(Math.pow(ya,2)+Math.pow(e,2)*Math.pow(ua,2)));break a}e=void 0}return{focus:e,gap:Math.max(1,Gk(t,x))}},zi=function(e,t){var x,H=null!==(x=
e.boundElementIds)&&void 0!==x?x:[];if(0!==H.length){t=null!=t?t:{};var W=t.newSize,ca=Bj(t.simultaneouslyUpdated);Ph.getScene(e).getNonDeletedElements(H).forEach(function(ya){var ua,Ga;if((null===(ua=ya.startBinding)||void 0===ua?void 0:ua.elementId)===e.id||(null===(Ga=ya.endBinding)||void 0===Ga?void 0:Ga.elementId)===e.id)ua=Hf(e,ya.startBinding,W),Ga=Hf(e,ya.endBinding,W),ca.has(ya.id)?of(ya,{startBinding:ua,endBinding:Ga}):(vm(ya,"start",ua,e),vm(ya,"end",Ga,e))})}},Bj=function(e){return new Set((e||
[]).map(function(t){return t.id}))},vm=function(e,t,x,H){var W;if(!(null==x||x.elementId!==H.id&&2<e.points.length)){var ca=Ph.getScene(e).getElement(x.elementId);if(null!=ca){var ya="start"===t?-1:1;H=-1===ya?0:e.points.length-1;var ua=yg.getPointAtIndexGlobalCoordinates(e,H-ya);ya=function(Ga,Ua,Na){if(0===Ua){var ob=wg(Ga);ob=Ik(ob);return Zh(ob)}ob=Ii(Ga);Na=aj(ob,pk(Na));ob=Qh(ob);switch(Ga.type){case "rectangle":case "text":case "diamond":var vb=Jg(Ga,Ua,Na);break;case "ellipse":var wb=Math.abs(Ua);
vb=Ga.width*wb/2;Ga=Ga.height*wb/2;Ua=Math.sign(Ua);wb=Zh(Na);Na=wb[0];wb=wb[1];wb=0===wb?1E-4:wb;var jc=Math.pow(Na,2)*Math.pow(Ga,2)+Math.pow(wb,2)*Math.pow(vb,2);Ua=(-Na*Math.pow(Ga,2)+Ua*wb*Math.sqrt(Math.max(0,jc-Math.pow(vb,2)*Math.pow(Ga,2))))/jc;Na=(-Ua*Na-1)/wb;vb=-Math.pow(vb,2)*Ua/(Math.pow(Na,2)*Math.pow(Ga,2)+Math.pow(Ua,2)*Math.pow(vb,2));vb=Ni(vb,(-Ua*vb-1)/Na)}return Zh(aj(ob,vb))}(ca,x.focus,ua);0===x.gap?ca=ya:(ca=function(Ga,Ua,Na,ob){void 0===ob&&(ob=0);var vb=Ii(Ga);Ua=aj(vb,
pk(Ua));Na=aj(vb,pk(Na));Na=uj(qk(Na,Ua));var wb=Qh(vb);return Ek(Ga,Na,Ua,ob).map(function(jc){return Zh(aj(wb,jc))})}(ca,ua,ya,x.gap),ca=0===ca.length?ya:ca[0]);yg.movePoint(e,H,yg.pointFromAbsoluteCoords(e,ca),((W={})["start"===t?"startBinding":"endBinding"]=x,W))}}},Hf=function(e,t,x){if(null==t||null==x)return t;var H=t.gap,W=t.focus,ca=x.width;x=x.height;var ya=e.width,ua=e.height;return{elementId:t.elementId,gap:Math.max(1,Math.min(Bg(e,ca,x),H*(ca<x?ca/ya:x/ua))),focus:W}},xk=function(e){return[dh(e,
"start"),dh(e,"end")].filter(function(t){return null!=t})},dh=function(e,t){return Hh(Pg(yg.getPointAtIndexGlobalCoordinates(e,"start"===t?0:-1)),Ph.getScene(e))},xh=function(e){return Ph.getScene(e).getElements().map(function(t){if(!vg(t))return null;var x=pg(t,"start",e),H=pg(t,"end",e);return x||H?[t,x&&H?"both":x?"start":"end",e]:null}).filter(function(t){return null!=t})},pg=function(e,t,x){return null==e["start"===t?"startBinding":"endBinding"]&&!If(e,x,t)&&rk(x,Pg(yg.getPointAtIndexGlobalCoordinates(e,
"start"===t?0:-1)))},hk=function(e,t,x,H){var W=new Set,ca=new Set,ya="duplicatesServeAsOld"===H;t.forEach(function(ua){var Ga=ua.boundElementIds;if(null!=Ga&&0<Ga.length&&(Ga.forEach(function(Ua){ya&&!x.has(Ua)&&W.add(Ua)}),ca.add(x.get(ua.id))),vg(ua))null!=ua.startBinding&&(Ga=ua.startBinding.elementId,ya&&!x.has(Ga)&&ca.add(Ga)),null!=ua.endBinding&&(Ga=ua.endBinding.elementId,ya&&!x.has(Ga)&&ca.add(Ga)),null==ua.startBinding&&null==ua.endBinding||W.add(x.get(ua.id))});e.filter(function(ua){return W.has(ua.id)}).forEach(function(ua){var Ga=
ua.endBinding;of(ua,{startBinding:Ih(ua.startBinding,x),endBinding:Ih(Ga,x)})});e.filter(function(ua){return ca.has(ua.id)}).forEach(function(ua){var Ga=ua.boundElementIds;null!=Ga&&0<Ga.length&&of(ua,{boundElementIds:Ga.map(function(Ua){var Na;return null!==(Na=x.get(Ua))&&void 0!==Na?Na:Ua})})})},Ih=function(e,t){var x;if(null==e)return null;var H=e.elementId;return{focus:e.focus,gap:e.gap,elementId:null!==(x=t.get(H))&&void 0!==x?x:H}},Cj=function(e,t){var x=new Set(t.map(function(W){return W.id})),
H=new Set;t.forEach(function(W){var ca;gk(W)&&(null===(ca=W.boundElementIds)||void 0===ca||ca.forEach(function(ya){x.has(ya)||H.add(ya)}))});e.filter(function(W){return H.has(W.id)}).forEach(function(W){var ca=W.endBinding;of(W,{startBinding:fl(W.startBinding,x),endBinding:fl(ca,x)})})},fl=function(e,t){return null==e||t.has(e.elementId)?null:e},Dj=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},Vf=function(e){return e>=2*Math.PI?e-2*Math.PI:e},Oe=function(e,t,x){return ff(e)?
{points:ti(0,t,ti(1,x,e.points))}:{}},eh=function(e,t,x){t=t/e.width*e.fontSize;if(1>t)return null;e=hj(e.text,gj({fontSize:t,fontFamily:e.fontFamily}));return{size:t,baseline:e.baseline+(x-e.height)}},pj=function(e,t,x,H){var W=Ng(e),ca=W[0],ya=W[1],ua=W[2],Ga=W[3];switch(t){case "se":var Ua=Math.max((x-ca)/(ua-ca),(H-ya)/(Ga-ya));var Na=function(vb,wb,jc){var fc=wb[0];wb=wb[1];return{x:vb.x+(fc-ca)*(Ua-1)+fc-jc[0],y:vb.y+(wb-ya)*(Ua-1)+wb-jc[1]}};break;case "nw":Ua=Math.max((ua-x)/(ua-ca),(Ga-H)/
(Ga-ya));Na=function(vb,wb,jc){var fc=wb[2];wb=wb[3];return{x:vb.x-(ua-fc)*(Ua-1)+fc-jc[2],y:vb.y-(Ga-wb)*(Ua-1)+wb-jc[3]}};break;case "ne":Ua=Math.max((x-ca)/(ua-ca),(Ga-H)/(Ga-ya));Na=function(vb,wb,jc){var fc=wb[0];wb=wb[3];return{x:vb.x+(fc-ca)*(Ua-1)+fc-jc[0],y:vb.y-(Ga-wb)*(Ua-1)+wb-jc[3]}};break;case "sw":Ua=Math.max((ua-x)/(ua-ca),(H-ya)/(Ga-ya)),Na=function(vb,wb,jc){var fc=wb[1];wb=wb[2];return{x:vb.x-(ua-wb)*(Ua-1)+wb-jc[2],y:vb.y+(fc-ya)*(Ua-1)+fc-jc[1]}}}if(0<Ua){var ob=e.reduce(function(vb,
wb){if(!vb)return vb;var jc=wb.width*Ua,fc=wb.height*Ua,Fc={};if("text"===wb.type){Fc=eh(wb,jc,fc);if(null===Fc)return null;Fc={fontSize:Fc.size,baseline:Fc.baseline}}var nd=wg(wb),td=Oe(wb,jc,fc);zi(wb,{newSize:{width:jc,height:fc},simultaneouslyUpdated:e});var Dd=hh(Dc(Dc({},wb),td),jc,fc);nd=Na(wb,nd,Dd);wb=nd.x;nd=nd.y;return Dj(Dj([],vb),[Dc(Dc({width:jc,height:fc,x:wb,y:nd},td),Fc)])},[]);ob&&e.forEach(function(vb,wb){of(vb,ob[wb])})}},gl=function(e,t,x,H,W,ca,ya){var ua=5*Math.PI/2+Math.atan2(H-
ya,x-ca);W&&(ua+=Xa.ay/2,ua-=ua%Xa.ay);t.forEach(function(Ga,Ua){var Na,ob,vb=wg(Ga);Ua=(vb[0]+vb[2])/2;vb=(vb[1]+vb[3])/2;var wb=null!==(Na=null===(ob=e.originalElements.get(Ga.id))||void 0===ob?void 0:ob.angle)&&void 0!==Na?Na:Ga.angle;Na=Pf(Ua,vb,ca,ya,ua+wb-Ga.angle);of(Ga,{x:Ga.x+(Na[0]-Ua),y:Ga.y+(Na[1]-vb),angle:Vf(ua+wb)})})},Ei=function(e,t,x,H,W,ca,ya,ua,Ga,Ua){var Na;Ga&&(ya=(Na=Ze(t,ya,ca<H?-ua:ua)).width,0>(ua=Na.height)&&(ua=-ua));t=W<x?x-ya:x;ca=ca<H?H-ua:H;Ua&&(t=x-(ya+=ya)/2,ca=H-
(ua+=ua)/2);0!==ya&&0!==ua&&of(e,{x:t,y:ca,width:ya,height:ua})},Qk=function(e){return e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},yk=function(e){var t=hj(e.text,gj(e));of(e,{width:t.width,height:t.height,baseline:t.baseline})},Bh=function(e,t){return!(e.viewModeEnabled||!e.editingElement&&!Lf(t,e).length&&"selection"===e.elementType)},Jk=function(e){return e.filter(function(t){return t.isDeleted||!Mh(t)})},mj=function(e){return e.reduce(function(t,x){return t[x.id]=x,t},{})},al=function(e){return e.reduce(function(t,
x){return t+x.version},0)},ne=function(e){return e.filter(function(t){return!t.isDeleted})},Sf=function(e){return ne(e).map(function(t){return rj(t.type)?Nc(Nc({},t),{},{lastCommittedPoint:null}):t})},Di=function(e,t,x){var H=[e.horizontal,e.vertical].map(function(W){return null!=W&&W.x<=t&&t<=W.x+W.width&&W.y<=x&&x<=W.y+W.height});e=H[0];H=H[1];return{isOverEither:e||H,isOverHorizontal:e,isOverVertical:H}},Hg=function(e,t){return e.some(function(x){return t.selectedElementIds[x.id]})},Lf=function(e,
t){return e.filter(function(x){return t.selectedElementIds[x.id]})},tk=function(e,t){return t.editingElement?[t.editingElement]:Lf(e,t)},ij=function(e){var t=e.scenePoint,x=e.viewportDimensions;e=e.zoom;return{scrollX:x.width/2*(1/e.value)-t.x-1/e.value*e.translation.x,scrollY:x.height/2*(1/e.value)-t.y-1/e.value*e.translation.y}},$h=function(e,t,x){var H;if(!e.length)return{scrollX:0,scrollY:0};var W=Ng(e);x=W[0];var ca=W[1],ya=W[2];W=W[3];return function(ua,Ga,Ua){Ga=Ua[2];var Na=Ua[3],ob=lh({sceneX:Ua[0],
sceneY:Ua[1]},ua);Ua=ob.x;ob=ob.y;Ga=lh({sceneX:Ga,sceneY:Na},ua);Na=Ga.y;return Ga.x-Ua>ua.width||Na-ob>ua.height}(t,0,[x,ca,ya,W])&&(x=(H=function(ua,Ga){if(!ua.length)return[0,0,0,0];var Ua=1/0,Na=ua[0];return ua.forEach(function(ob){var vb=vi(ob);vb=Math.hypot(Ga.x-(vb[0]+vb[2])/2,Ga.y-(vb[1]+vb[3])/2);vb<Ua&&(Ua=vb,Na=ob)}),vi(Na)}(e,xg({clientX:t.scrollX,clientY:t.scrollY},t)))[0],ca=H[1],ya=H[2],W=H[3]),ij({scenePoint:{x:(x+ya)/2,y:(ca+W)/2},viewportDimensions:{width:t.width,height:t.height},
zoom:t.zoom})},Zj=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"draw"===e||"line"===e},jg=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"draw"===e||"line"===e},zk=function(e){return"rectangle"===e||"arrow"===e||"draw"===e||"line"===e},Fi=function(e,t){for(var x=null,H=e.length-1;0<=H;--H){var W=e[H];if(!W.isDeleted&&t(W)){x=W;break}}return x},oi=function(e,t,x,H){return void 0===H&&(H={x:0,y:0}),{value:e,translation:{x:H.x-x.left-e/t.value*(H.x-
x.left-t.translation.x),y:H.y-x.top-e/t.value*(H.y-x.top-t.translation.y)}}},ek=function(e){e=parseFloat(e.toFixed(2));return Math.max(.1,Math.min(e,10))},sf=(p(9478),Z().forwardRef(function(e,t){var x=Z().useRef(null);Z().useImperativeHandle(t,function(){return x.current});t="ToolIcon_size_".concat(e.size||"m");return"button"===e.type?Z().createElement("button",{className:ad("ToolIcon_type_button",t,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,
"ToolIcon--selected":e.selected}),hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:"button",onClick:e.onClick,ref:x},Z().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},e.icon||e.label,e.keyBindingLabel&&Z().createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)),e.showAriaLabel&&Z().createElement("div",{className:"ToolIcon__label"},e["aria-label"]),e.children):Z().createElement("label",{className:ad("ToolIcon",e.className),title:e.title},Z().createElement("input",
{className:"ToolIcon_type_radio ".concat(t),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:e.id,onChange:e.onChange,checked:e.checked,ref:x}),Z().createElement("div",{className:"ToolIcon__icon"},e.icon,e.keyBindingLabel&&Z().createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)))}));sf.defaultProps={visible:!0,className:""};var Ag=function(e){return"light"===e?Ie.$y[4]:Ie.$y[9]},Fe=function(e){return"light"===
e?Ie.Sn:Ie.MA[4]},Zg=function(e){return"light"===e?Ie.ix:"#1e1e1e"},ye=function(e,t){void 0===t&&(t=512);t="number"==typeof t?{width:t}:t;var x=t.width;x=void 0===x?512:x;var H=t.height;H=void 0===H?x:H;var W=t.mirror;t=t.style;return Z().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(x," ").concat(H),className:ad({"rtl-mirror":W}),style:t},"string"==typeof e?Z().createElement("path",{fill:"currentColor",d:e}):e)},qj=ye("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),Je=ye("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Rk=ye("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),Ll=ye("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),Bk=ye("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Si=ye("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Th=ye("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
vh=ye("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Gi=ye("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Oj=ye("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Ak=ye("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),pi=ye("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
Bd=ye("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Pj=ye("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),kd=ye("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),ke=(ye("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),ye("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),ye(Z().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),Ed=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,
null,Z().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Fe(e),stroke:Fe(e),strokeWidth:"2"}),Z().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(e),stroke:Ag(e),strokeWidth:"2"})),{width:24,mirror:!0})}),Sd=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,
null,Z().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(e),stroke:Ag(e),strokeWidth:"2"}),Z().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Fe(e),stroke:Fe(e),strokeWidth:"2"})),{width:24,mirror:!0})}),ri=Z().memo(function(e){e=e.appearance;
return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:Fe(e),stroke:Fe(e),strokeWidth:"2"}),Z().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(e),stroke:Ag(e),strokeWidth:"2"})),{width:24,mirror:!0})}),Cf=Z().memo(function(e){e=e.appearance;
return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(e),stroke:Ag(e),strokeLinejoin:"round",strokeWidth:"2"}),Z().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:Fe(e),stroke:Fe(e),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),
Rg=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M 2,5 H 22",fill:Fe(e),stroke:Fe(e),strokeWidth:"2",strokeLinecap:"round"}),Z().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:Ag(e),
stroke:Ag(e),strokeWidth:"2"})),{width:24,mirror:!0})}),bf=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M 2,19 H 22",fill:Fe(e),stroke:Fe(e),strokeWidth:"2",strokeLinecap:"round"}),Z().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Ag(e),stroke:Ag(e),strokeWidth:"2"})),{width:24,mirror:!0})}),zj=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M 5,2 V 22",fill:Fe(e),stroke:Fe(e),strokeWidth:"2",strokeLinecap:"round"}),Z().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Ag(e),stroke:Ag(e),strokeWidth:"2"})),{width:24})}),nm=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M 19,2 V 22",fill:Fe(e),stroke:Fe(e),strokeWidth:"2",strokeLinecap:"round"}),Z().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Ag(e),stroke:Ag(e),strokeWidth:"2"})),{width:24})}),$c=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M5 5V19Z",fill:"black"}),Z().createElement("path",{d:"M19 5V19M5 5V19",stroke:Fe(e),strokeWidth:"2",strokeLinecap:"round"}),Z().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(e),stroke:Ag(e),strokeWidth:"2"})),{width:24})}),Rd=Z().memo(function(e){e=
e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M5 5L19 5M5 19H19",fill:Fe(e),stroke:Fe(e),strokeWidth:"2",strokeLinecap:"round"}),Z().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(e),stroke:Ag(e),strokeWidth:"2"})),{width:24})}),Uh=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:Ag(e),stroke:Ag(e),strokeWidth:"2"}),Z().createElement("path",{d:"M 2,12 H 22",fill:Fe(e),stroke:Fe(e),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),ld=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:Ag(e),stroke:Ag(e),strokeWidth:"2"}),Z().createElement("path",{d:"M 12,2 V 22",fill:Fe(e),stroke:Fe(e),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),Ti=ye("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),gi=(ye("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ye("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ye("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),Ui=ye("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),qg=ye("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Sg=ye("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Xd=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M25 26H111V111H25",
fill:Fe(e)}),Z().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Fe(e),strokeWidth:"2"}),Z().createElement("path",{d:"M100 100H160V160H100",fill:Fe(e)}),Z().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:Fe(e),strokeWidth:"2"}),Z().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"}),Z().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"}),Z().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"}),Z().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),
Ai=Z().memo(function(e){e=e.appearance;return ye(Z().createElement(Z().Fragment,null,Z().createElement("path",{d:"M25 26H111V111H25",fill:Fe(e)}),Z().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:Fe(e),strokeWidth:"2"}),Z().createElement("path",{d:"M100 100H160V160H100",fill:Fe(e)}),Z().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:Fe(e),strokeWidth:"2"}),
Z().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"}),Z().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"}),Z().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"}),Z().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"}),Z().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",
fill:Zg(e),stroke:Fe(e),strokeWidth:"6"}),Z().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Zg(e),stroke:Fe(e),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),hm=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:Fe(e)}),{width:40,height:20})}),Pi=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("g",{fill:Fe(e),fillRule:"evenodd",clipRule:"evenodd"},Z().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),Z().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),ve=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",{d:"M2 2H38V18H2V2Z",fill:Fe(e)}),{width:40,height:20})}),Kk=Z().memo(function(e){var t=e.appearance;e=e.strokeWidth;return ye(Z().createElement("path",{d:"M6 10H34",stroke:Fe(t),strokeWidth:e,fill:"none"}),{width:40,height:20})}),Kg=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",{d:"M6 10H34",stroke:Fe(e),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Be=Z().memo(function(e){e=
e.appearance;return ye(Z().createElement("path",{d:"M6 10H34",stroke:Fe(e),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),Kj=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",{d:"M6 10H34",stroke:Fe(e),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Nf=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:Fe(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),$l=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:Fe(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Wl=Z().memo(function(e){e=
e.appearance;return ye(Z().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:Fe(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Lk=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",
{d:"M10 17L10 5L35 5",stroke:Fe(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),fk=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:Fe(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),yl=Z().memo(function(e){e=e.appearance;return ye(Z().createElement("path",{d:"M6 10H34",stroke:Fe(e),strokeWidth:2,fill:"none"}),{width:40,height:20})}),n=Z().memo(function(e){var t=e.appearance;e=e.flip;e=void 0!==e&&
e;return ye(Z().createElement("g",{transform:e?"translate(40, 0) scale(-1, 1)":"",stroke:Fe(t),strokeWidth:2,fill:"none"},Z().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),Z().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),d=Z().memo(function(e){var t=e.appearance;e=e.flip;e=void 0!==e&&e;return ye(Z().createElement("g",{stroke:Fe(t),fill:Fe(t),transform:e?"translate(40, 0) scale(-1, 1)":""},Z().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),Z().createElement("circle",
{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),f=Z().memo(function(e){var t=e.appearance;e=e.flip;e=void 0!==e&&e;return ye(Z().createElement("g",{transform:e?"translate(40, 0) scale(-1, 1)":""},Z().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:Fe(t),strokeWidth:2,fill:"none"})),{width:40,height:20})}),q=[],I=function(e){return q=q.concat(e),e},da=function(e,t){var x;return e.editingGroupId&&(t=Li(ne(t),e.editingGroupId),t.length)?vd(vd({},e),{},{selectedElementIds:(x=
{},x[t[0].id]=!0,x)}):e},wa=I({name:"deleteSelectedElements",perform:function(e,t){if(t.editingLinearElement){var x=t.editingLinearElement,H=x.activePointIndex,W=x.startBindingElement,ca=x.endBindingElement,ya=yg.getElement(x.elementId);if(!ya)return!1;if(null==H||-1===H||2>ya.points.length)return e=e.filter(function(ua){return ua.id!==ya.id}),{elements:e,appState:vd(vd({},da(t,e)),{},{editingLinearElement:null}),commitToHistory:!1};x={startBindingElement:0===H?null:W,endBindingElement:H===ya.points.length-
1?null:ca};return yg.movePoint(ya,H,"delete"),{elements:e,appState:vd(vd({},t),{},{editingLinearElement:vd(vd(vd({},t.editingLinearElement),x),{},{activePointIndex:0<H?H-1:0})}),commitToHistory:!0}}x=function(ua,Ga){return{elements:ua.map(function(Ua){return Ga.selectedElementIds[Ua.id]?Fg(Ua,{isDeleted:!0}):Ua}),appState:vd(vd({},Ga),{},{selectedElementIds:{}})}}(e,t);H=x.elements;x=x.appState;return Cj(H,e.filter(function(ua){return t.selectedElementIds[ua.id]})),{elements:H,appState:vd(vd({},x=
da(x,H)),{},{elementType:"selection",multiElement:null}),commitToHistory:Hg(ne(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e){return"Backspace"===e.key||"Delete"===e.key},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{type:"button",icon:Si,title:Wb("labels.delete"),"aria-label":Wb("labels.delete"),onClick:function(){return H(null)},visible:Hg(ne(t),x)})}}),Ja=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},
Sa=function(e,t){for(var x=[],H=[],W=null,ca=-1;++ca<e.length;)t.selectedElementIds[e[ca].id]?(H.length&&(x=x.concat(H),H=[]),x.push(ca),W=ca+1):e[ca].isDeleted&&W===ca?(W=ca+1,H.push(ca)):H=[];return x},hb=function(e,t,x,H){var W=t[x],ca=function(ya){return!ya.isDeleted&&(!e.editingGroupId||ya.groupIds.includes(e.editingGroupId))};x="left"===H?function(ya,ua,Ga){void 0===Ga&&(Ga=ya.length-1);0>Ga&&(Ga=ya.length+Ga);for(Ga=Math.min(ya.length-1,Math.max(Ga,0))+1;-1<--Ga;)if(ua(ya[Ga],Ga,ya))return Ga;
return-1}(t,ca,Math.max(0,x-1)):function(ya,ua,Ga){void 0===Ga&&(Ga=0);0>Ga&&(Ga=ya.length+Ga);for(Ga=Math.min(ya.length,Math.max(Ga,0))-1;++Ga<ya.length;)if(ua(ya[Ga],Ga,ya))return Ga;return-1}(t,ca,x+1);ca=t[x];if(!ca)return-1;if(e.editingGroupId){if((null==W?void 0:W.groupIds.join(""))===(null==ca?void 0:ca.groupIds.join("")))return x;if(null==ca||!ca.groupIds.includes(e.editingGroupId))return-1}if(!ca.groupIds.length)return x;W=e.editingGroupId?ca.groupIds[ca.groupIds.indexOf(e.editingGroupId)-
1]:ca.groupIds[ca.groupIds.length-1];W=Li(t,W);return W.length?"left"===H?t.indexOf(W[0]):t.indexOf(W[W.length-1]):x},Cb=function(e,t,x){var H,W=Sa(t,e),ca=(H=0,W.reduce(function(ya,ua,Ga){return 0<Ga&&W[Ga-1]!==ua-1&&(H=++H),(ya[H]||(ya[H]=[])).push(ua),ya},[]));return"right"===x&&(ca=ca.reverse()),ca.forEach(function(ya,ua){ua=ya[0];ya=ya[ya.length-1];var Ga="left"===x?ua:ya,Ua=hb(e,t,Ga,x);if(-1!==Ua&&Ga!==Ua){Ga="left"===x?t.slice(0,Ua):t.slice(0,ua);var Na=t.slice(ua,ya+1);ua="left"===x?t.slice(Ua,
ua):t.slice(ya+1,Ua+1);ya="left"===x?t.slice(ya+1):t.slice(Ua+1);t=Ja("left"===x?Ja(Ja(Ja([],Ga),Na),ua):Ja(Ja(Ja([],Ga),ua),Na),ya)}}),t},Jb=function(e,t,x){var H=Sa(e,t),W=[],ca=[];if("left"===x){if(t.editingGroupId){if(!(t=Li(e,t.editingGroupId)).length)return e;var ya=e.indexOf(t[0])}else ya=0;t=H[H.length-1]}else{if(t.editingGroupId){if(!(t=Li(e,t.editingGroupId)).length)return e;t=e.indexOf(t[t.length-1])}else t=e.length-1;ya=H[0]}for(var ua=ya;ua<t+1;ua++)H.includes(ua)?W.push(e[ua]):ca.push(e[ua]);
H=e.slice(0,ya);e=e.slice(t+1);return Ja("left"===x?Ja(Ja(Ja([],H),W),ca):Ja(Ja(Ja([],H),ca),W),e)},lc=I({name:"sendBackward",perform:function(e,t){return{elements:Cb(t,e.slice(),"left"),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[nf]&&!e.shiftKey&&"BracketLeft"===e.code},PanelComponent:function(e){var t=e.updateData;e=e.appState;return Z().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},
title:"".concat(Wb("labels.sendBackward")," — ").concat(he("CtrlOrCmd+["))},Z().createElement(Sd,{appearance:e.appearance}))}}),nc=I({name:"bringForward",perform:function(e,t){return{elements:Cb(t,e.slice(),"right"),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[nf]&&!e.shiftKey&&"BracketRight"===e.code},PanelComponent:function(e){var t=e.updateData;e=e.appState;return Z().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return t(null)},title:"".concat(Wb("labels.bringForward")," — ").concat(he("CtrlOrCmd+]"))},Z().createElement(Ed,{appearance:e.appearance}))}}),l=I({name:"sendToBack",perform:function(e,t){return{elements:Jb(e,t,"left"),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return ch?e[nf]&&e.altKey&&"BracketLeft"===e.code:e[nf]&&e.shiftKey&&"BracketLeft"===e.code},PanelComponent:function(e){var t=e.updateData;e=e.appState;return Z().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(Wb("labels.sendToBack")," — ").concat(he(ch?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},Z().createElement(Cf,{appearance:e.appearance}))}}),C=I({name:"bringToFront",perform:function(e,t){return{elements:Jb(e,t,"right"),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return ch?e[nf]&&e.altKey&&"BracketRight"===e.code:e[nf]&&e.shiftKey&&"BracketRight"===e.code},PanelComponent:function(e){var t=
e.updateData;e=e.appState;return Z().createElement("button",{type:"button",className:"zIndexButton",onClick:function(x){return t(null)},title:"".concat(Wb("labels.bringToFront")," — ").concat(he(ch?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},Z().createElement(ri,{appearance:e.appearance}))}}),Y=I({name:"selectAll",perform:function(e,t){return!t.editingLinearElement&&{appState:ei(pd(pd({},t),{},{editingGroupId:null,selectedElementIds:e.reduce(function(x,H){return H.isDeleted||(x[H.id]=!0),x},{})}),ne(e)),
commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[nf]&&"a"===e.key}}),X=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},ma=I({name:"duplicateSelection",perform:function(e,t){if(t.editingLinearElement){var x=t.editingLinearElement,H=x.activePointIndex;x=yg.getElement(x.elementId);if(!x||null===H)return!1;var W=x.points,ca=W[H],ya=W[H+1];return of(x,{points:X(X(X([],W.slice(0,H+1)),[ya?[(ca[0]+ya[0])/2,(ca[1]+ya[1])/2]:[ca[0]+30,ca[1]+
30]]),W.slice(H+1))}),{appState:Yd(Yd({},t),{},{editingLinearElement:Yd(Yd({},t.editingLinearElement),{},{activePointIndex:H+1})}),elements:e,commitToHistory:!0}}return Yd(Yd({},Ba(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[nf]&&"d"===e.key},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{type:"button",icon:qg,title:"".concat(Wb("labels.duplicateSelection")," — ").concat(he("CtrlOrCmd+D")),
"aria-label":Wb("labels.duplicateSelection"),onClick:function(){return H(null)},visible:Hg(ne(t),x)})}}),Ba=function(e,t){for(var x=new Map,H=[],W=[],ca=new Map,ya=function(ob){var vb=yi(t.editingGroupId,x,ob,{x:ob.x+Xa.k/2,y:ob.y+Xa.k/2});return ca.set(ob.id,vb.id),W.push(ob),H.push(vb),vb},ua=[],Ga=0;Ga<e.length;){var Ua=e[Ga];if(t.selectedElementIds[Ua.id]){if(Ua.groupIds.length){var Na=Fh(t,Ua);if(Na){Ua=Li(e,Na);ua.push.apply(ua,X(X([],Ua),Ua.map(function(ob){return ya(ob)})));Ga+=Ua.length;
continue}}ua.push(Ua,ya(Ua))}else ua.push(Ua);Ga++}return hk(ua,W,ca),{elements:ua,appState:ei(Yd(Yd({},t),{},{selectedGroupIds:{},selectedElementIds:H.reduce(function(ob,vb){return ob[vb.id]=!0,ob},{})}),ne(ua))}},Pa=function(e){var t=e.options,x=e.value,H=e.onChange,W=e.group;return Z().createElement("div",{className:"buttonList buttonListIcon"},t.map(function(ca){return Z().createElement("label",{key:ca.text,className:ad({active:x===ca.value}),title:ca.text},Z().createElement("input",{type:"radio",
name:W,onChange:function(){return H(ca.value)},checked:x===ca.value}),ca.icon)}))},Ma=function(e){var t=e.options,x=e.value,H=e.onChange,W=e.group;return Z().createElement("div",{className:"buttonList"},t.map(function(ca){return Z().createElement("label",{key:ca.text,className:ad({active:x===ca.value})},Z().createElement("input",{type:"radio",name:W,onChange:function(){return H(ca.value)},checked:x===ca.value}),ca.text)}))},fb=(p(2816),function(e){var t=e.children,x=e.left,H=e.top,W=e.onCloseRequest;
e=e.fitInViewport;var ca=void 0!==e&&e,ya=(0,fa.useRef)(null);return(0,fa.useLayoutEffect)(function(){if(ca&&ya.current){var ua=ya.current,Ga=ua.getBoundingClientRect(),Ua=Ga.y,Na=Ga.width,ob=Ga.height,vb=window.innerWidth;Ga.x+Na>vb&&(ua.style.left="".concat(vb-Na,"px"));Ga=window.innerHeight;Ua+ob>Ga&&(ua.style.top="".concat(Ga-ob,"px"))}},[ca]),(0,fa.useEffect)(function(){if(W){var ua=function(Ga){var Ua;null!==(Ua=ya.current)&&void 0!==Ua&&Ua.contains(Ga.target)||(0,ig.unstable_batchedUpdates)(function(){return W(Ga)})};
return document.addEventListener("pointerdown",ua,!1),function(){return document.removeEventListener("pointerdown",ua,!1)}}},[W]),Z().createElement("div",{className:"popover",style:{top:H,left:x},ref:ya},t)}),zb=(p(5574),function(e){var t=(new Option).style;return t.color=e,!!t.color}),Hb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Tb=function(e){var t=e.colors,x=e.color,H=e.onChange,W=e.onClose,ca=e.label,ya=e.showInput,ua=void 0===ya||ya;e=e.type;var Ga=Z().useRef(),
Ua=Z().useRef(),Na=Z().useRef(),ob=Z().useRef();Z().useEffect(function(){Ua.current?Ua.current.focus():ob.current?ob.current.focus():Na.current&&Na.current.focus()},[]);return Z().createElement("div",{className:"color-picker color-picker-type-".concat(e),role:"dialog","aria-modal":"true","aria-label":Wb("labels.colorPicker"),onKeyDown:function(vb){if("Tab"===vb.key){var wb,jc=document.activeElement;if(vb.shiftKey)jc===Ga.current&&(null===(wb=ob.current)||void 0===wb||wb.focus(),vb.preventDefault());
else if(jc===ob.current){var fc;null===(fc=Ga.current)||void 0===fc||fc.focus();vb.preventDefault()}}else zf(vb.key)?(jc=document.activeElement,wb=xf.rtl,-1!==(fc=Array.prototype.indexOf.call(Na.current.children,jc))&&(jc=Na.current.children.length-(ua?1:0),Na.current.children[vb.key===(wb?"ArrowLeft":"ArrowRight")?(fc+1)%jc:vb.key===(wb?"ArrowRight":"ArrowLeft")?(jc+fc-1)%jc:"ArrowDown"===vb.key?(fc+5)%jc:"ArrowUp"===vb.key?(jc+fc-5)%jc:fc].focus()),vb.preventDefault()):Hb.includes(vb.key.toLowerCase())&&
!Og(vb.target)?(fc=Hb.indexOf(vb.key.toLowerCase()),Na.current.children[fc].focus(),vb.preventDefault()):"Escape"!==vb.key&&"Enter"!==vb.key||(vb.preventDefault(),W());vb.nativeEvent.stopImmediatePropagation()}},Z().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),Z().createElement("div",{className:"color-picker-triangle"}),Z().createElement("div",{className:"color-picker-content",ref:function(vb){vb&&(Na.current=vb)},tabIndex:0},t.map(function(vb,wb){return Z().createElement("button",
{className:"color-picker-swatch",onClick:function(jc){jc.currentTarget.focus();H(vb)},title:"".concat(vb," — ").concat(Hb[wb].toUpperCase()),"aria-label":vb,"aria-keyshortcuts":Hb[wb],style:{color:vb},key:vb,ref:function(jc){jc&&0===wb&&(Ga.current=jc);jc&&vb===x&&(Ua.current=jc)},onFocus:function(){H(vb)}},"transparent"===vb?Z().createElement("div",{className:"color-picker-transparent"}):void 0,Z().createElement("span",{className:"color-picker-keybinding"},Hb[wb]))}),ua&&Z().createElement(qc,{color:x,
label:ca,onChange:function(vb){H(vb)},ref:ob})))},qc=Z().forwardRef(function(e,t){var x=e.color,H=e.onChange;e=e.label;var W=Z().useState(x),ca=W[0],ya=W[1],ua=Z().useRef(null);Z().useEffect(function(){ya(x)},[x]);Z().useImperativeHandle(t,function(){return ua.current});var Ga=Z().useCallback(function(Ua){Ua=Ua.toLowerCase();var Na;(Na="transparent"===Ua||zb(Ua)?Ua:zb("#".concat(Ua))?"#".concat(Ua):null)&&H(Na);ya(Ua)},[H]);return Z().createElement("label",{className:"color-input-container"},Z().createElement("div",
{className:"color-picker-hash"},"#"),Z().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":e,onChange:function(Ua){return Ga(Ua.target.value)},value:(ca||"").replace(/^#/,""),onBlur:function(){return ya(x)},ref:ua}))}),wc=function(e){var t=e.type,x=e.color,H=e.onChange;e=e.label;var W=Z().useState(!1),ca=W[0],ya=W[1],ua=Z().useRef(null);return Z().createElement("div",null,Z().createElement("div",{className:"color-picker-control-container"},Z().createElement("button",
{className:"color-picker-label-swatch","aria-label":e,style:x?{"--swatch-color":x}:void 0,onClick:function(){return ya(!ca)},ref:ua}),Z().createElement(qc,{color:x,label:e,onChange:function(Ga){H(Ga)}})),Z().createElement(Z().Suspense,{fallback:""},ca?Z().createElement(fb,{onCloseRequest:function(Ga){return Ga.target!==ua.current&&ya(!1)}},Z().createElement(Tb,{colors:mg[t],color:x||null,onChange:function(Ga){H(Ga)},onClose:function(){var Ga;ya(!1);null===(Ga=ua.current)||void 0===Ga||Ga.focus()},
label:e,showInput:!1,type:t})):null))},Cc=p(6950),Od=p.n(Cc);p(7143);var Ud=function(e,t,x){return e.map(function(H){var W;return t.selectedElementIds[H.id]||H.id===(null===(W=t.editingElement)||void 0===W?void 0:W.id)?x(H):H})},Ne=function(e,t,x,H){var W,ca,ya=t.editingElement;e=ne(e);return null!==(W=null!==(ca=ya&&x(ya))&&void 0!==ca?ca:Hg(e,t)?function(ua,Ga,Ua){ua=Array.from(new Set(Lf(ua,Ga).map(function(Na){return Ua(Na)})));return 1===ua.length?ua[0]:null}(e,t,x):H)&&void 0!==W?W:null},ce=
(I({name:"changeStrokeColor",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return Fg(H,{strokeColor:x})}),appState:Ee(Ee({},t),{},{currentItemStrokeColor:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState;e=e.updateData;return Z().createElement(Z().Fragment,null,Z().createElement("h3",{"aria-hidden":"true"},Wb("labels.stroke")),Z().createElement(wc,{type:"elementStroke",label:Wb("labels.stroke"),color:Ne(t,x,function(H){return H.strokeColor},x.currentItemStrokeColor),
onChange:e}))}}),I({name:"changeBackgroundColor",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return Fg(H,{backgroundColor:x})}),appState:Ee(Ee({},t),{},{currentItemBackgroundColor:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState;e=e.updateData;return Z().createElement(Z().Fragment,null,Z().createElement("h3",{"aria-hidden":"true"},Wb("labels.background")),Z().createElement(wc,{type:"elementBackground",label:Wb("labels.background"),color:Ne(t,x,function(H){return H.backgroundColor},
x.currentItemBackgroundColor),onChange:e}))}}),I({name:"changeFillStyle",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return Fg(H,{fillStyle:x})}),appState:Ee(Ee({},t),{},{currentItemFillStyle:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.fill")),Z().createElement(Pa,{options:[{value:"hachure",text:Wb("labels.hachure"),icon:Z().createElement(hm,{appearance:x.appearance})},
{value:"cross-hatch",text:Wb("labels.crossHatch"),icon:Z().createElement(Pi,{appearance:x.appearance})},{value:"solid",text:Wb("labels.solid"),icon:Z().createElement(ve,{appearance:x.appearance})}],group:"fill",value:Ne(t,x,function(W){return W.fillStyle},x.currentItemFillStyle),onChange:function(W){H(W)}}))}}),I({name:"changeStrokeWidth",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return Fg(H,{strokeWidth:x})}),appState:Ee(Ee({},t),{},{currentItemStrokeWidth:x}),commitToHistory:!0}},
PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.strokeWidth")),Z().createElement(Pa,{group:"stroke-width",options:[{value:1,text:Wb("labels.thin"),icon:Z().createElement(Kk,{appearance:x.appearance,strokeWidth:2})},{value:2,text:Wb("labels.bold"),icon:Z().createElement(Kk,{appearance:x.appearance,strokeWidth:6})},{value:4,text:Wb("labels.extraBold"),icon:Z().createElement(Kk,{appearance:x.appearance,
strokeWidth:10})}],value:Ne(t,x,function(W){return W.strokeWidth},x.currentItemStrokeWidth),onChange:function(W){return H(W)}}))}}),I({name:"changeSloppiness",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return Fg(H,{seed:lk(),roughness:x})}),appState:Ee(Ee({},t),{},{currentItemRoughness:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.sloppiness")),Z().createElement(Pa,
{group:"sloppiness",options:[{value:0,text:Wb("labels.architect"),icon:Z().createElement(Nf,{appearance:x.appearance})},{value:1,text:Wb("labels.artist"),icon:Z().createElement($l,{appearance:x.appearance})},{value:2,text:Wb("labels.cartoonist"),icon:Z().createElement(Wl,{appearance:x.appearance})}],value:Ne(t,x,function(W){return W.roughness},x.currentItemRoughness),onChange:function(W){return H(W)}}))}}),I({name:"changeStrokeStyle",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return Fg(H,
{strokeStyle:x})}),appState:Ee(Ee({},t),{},{currentItemStrokeStyle:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.strokeStyle")),Z().createElement(Pa,{group:"strokeStyle",options:[{value:"solid",text:Wb("labels.strokeStyle_solid"),icon:Z().createElement(Kg,{appearance:x.appearance})},{value:"dashed",text:Wb("labels.strokeStyle_dashed"),icon:Z().createElement(Be,{appearance:x.appearance})},
{value:"dotted",text:Wb("labels.strokeStyle_dotted"),icon:Z().createElement(Kj,{appearance:x.appearance})}],value:Ne(t,x,function(W){return W.strokeStyle},x.currentItemStrokeStyle),onChange:function(W){return H(W)}}))}}),I({name:"changeOpacity",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return Fg(H,{opacity:x})}),appState:Ee(Ee({},t),{},{currentItemOpacity:x}),commitToHistory:!0}},PanelComponent:function(e){var t,x=e.elements,H=e.appState,W=e.updateData;return Z().createElement("label",
{className:"control-label"},Wb("labels.opacity"),Z().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(ca){return W(+ca.target.value)},onWheel:function(ca){ca.stopPropagation();var ya=+ca.target.value;0>ca.deltaY&&100>ya?W(ya+10):0<ca.deltaY&&0<ya&&W(ya-10)},value:null!==(t=Ne(x,H,function(ca){return ca.opacity},H.currentItemOpacity))&&void 0!==t?t:void 0}))}}),I({name:"changeFontSize",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return le(H)?(H=Fg(H,
{fontSize:x}),yk(H),H):H}),appState:Ee(Ee({},t),{},{currentItemFontSize:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.fontSize")),Z().createElement(Ma,{group:"font-size",options:[{value:16,text:Wb("labels.small")},{value:20,text:Wb("labels.medium")},{value:28,text:Wb("labels.large")},{value:36,text:Wb("labels.veryLarge")}],value:Ne(t,x,function(W){return le(W)&&W.fontSize},
x.currentItemFontSize||Xa.n5),onChange:function(W){return H(W)}}))}}),I({name:"changeFontFamily",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return le(H)?(H=Fg(H,{fontFamily:x}),yk(H),H):H}),appState:Ee(Ee({},t),{},{currentItemFontFamily:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;e=[{value:1,text:Wb("labels.handDrawn")},{value:2,text:Wb("labels.normal")},{value:3,text:Wb("labels.code")}];return Z().createElement("fieldset",null,
Z().createElement("legend",null,Wb("labels.fontFamily")),Z().createElement(Ma,{group:"font-family",options:e,value:Ne(t,x,function(W){return le(W)&&W.fontFamily},x.currentItemFontFamily||Xa.rk),onChange:function(W){return H(W)}}))}}),I({name:"changeTextAlign",perform:function(e,t,x){return{elements:Ud(e,t,function(H){return le(H)?(H=Fg(H,{textAlign:x}),yk(H),H):H}),appState:Ee(Ee({},t),{},{currentItemTextAlign:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;
return Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.textAlign")),Z().createElement(Ma,{group:"text-align",options:[{value:"left",text:Wb("labels.left")},{value:"center",text:Wb("labels.center")},{value:"right",text:Wb("labels.right")}],value:Ne(t,x,function(W){return le(W)&&W.textAlign},x.currentItemTextAlign),onChange:function(W){return H(W)}}))}}),I({name:"changeSharpness",perform:function(e,t,x){var H=tk(ne(e),t),W=H.length?H.every(function(ca){return!ff(ca)}):!rj(t.elementType);
H=H.length?H.every(ff):rj(t.elementType);return{elements:Ud(e,t,function(ca){return Fg(ca,{strokeSharpness:x})}),appState:Ee(Ee({},t),{},{currentItemStrokeSharpness:W?x:t.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:H?x:t.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.edges")),Z().createElement(Pa,{group:"edges",options:[{value:"sharp",
text:Wb("labels.sharp"),icon:Z().createElement(Lk,{appearance:x.appearance})},{value:"round",text:Wb("labels.round"),icon:Z().createElement(fk,{appearance:x.appearance})}],value:Ne(t,x,function(W){return W.strokeSharpness},zk(x.elementType)&&(rj(x.elementType)?x.currentItemLinearStrokeSharpness:x.currentItemStrokeSharpness)||null),onChange:function(W){return H(W)}}))}}),I({name:"changeArrowhead",perform:function(e,t,x){var H;return{elements:Ud(e,t,function(W){if(ff(W)){var ca=x.position,ya=x.type;
if("start"===ca)return Fg(W,{startArrowhead:ya});if("end"===ca)return Fg(W,{endArrowhead:ya})}return W}),appState:Ee(Ee({},t),{},(H={},H["start"===x.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=x.type,H)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;e=xf.rtl;return Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.arrowheads")),Z().createElement("div",{className:"iconSelectList"},Z().createElement(Ad,{label:"arrowhead_start",
options:[{value:null,text:Wb("labels.arrowhead_none"),icon:Z().createElement(yl,{appearance:x.appearance}),keyBinding:"q"},{value:"arrow",text:Wb("labels.arrowhead_arrow"),icon:Z().createElement(n,{appearance:x.appearance,flip:!e}),keyBinding:"w"},{value:"bar",text:Wb("labels.arrowhead_bar"),icon:Z().createElement(f,{appearance:x.appearance,flip:!e}),keyBinding:"e"},{value:"dot",text:Wb("labels.arrowhead_dot"),icon:Z().createElement(d,{appearance:x.appearance,flip:!e}),keyBinding:"r"}],value:Ne(t,
x,function(W){return ff(W)&&"arrow"===W.type?W.startArrowhead:x.currentItemStartArrowhead},x.currentItemStartArrowhead),onChange:function(W){return H({position:"start",type:W})}}),Z().createElement(Ad,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Wb("labels.arrowhead_none"),keyBinding:"q",icon:Z().createElement(yl,{appearance:x.appearance})},{value:"arrow",text:Wb("labels.arrowhead_arrow"),keyBinding:"w",icon:Z().createElement(n,{appearance:x.appearance,flip:e})},{value:"bar",
text:Wb("labels.arrowhead_bar"),keyBinding:"e",icon:Z().createElement(f,{appearance:x.appearance,flip:e})},{value:"dot",text:Wb("labels.arrowhead_dot"),keyBinding:"r",icon:Z().createElement(d,{appearance:x.appearance,flip:e})}],value:Ne(t,x,function(W){return ff(W)&&"arrow"===W.type?W.endArrowhead:x.currentItemEndArrowhead},x.currentItemEndArrowhead),onChange:function(W){return H({position:"end",type:W})}})))}}),p(2189)),ue=p.n(ce),uf=Z().createContext(!1),Of=function(){return window.matchMedia?window.matchMedia(ue().isMobileQuery):
{matches:!1,addListener:function(){},removeListener:function(){}}},Bf=function(e){e=e.children;var t=(0,fa.useRef)();t.current||(t.current=Of());var x=(0,fa.useState)(t.current.matches),H=x[0],W=x[1];return(0,fa.useEffect)(function(){var ca=function(){return W(t.current.matches)};return t.current.addListener(ca),function(){return t.current.removeListener(ca)}},[]),Z().createElement(uf.Provider,{value:H},e)};I({name:"changeViewBackgroundColor",perform:function(e,t,x){return{appState:pf(pf({},t),{},
{viewBackgroundColor:x}),commitToHistory:!0}},PanelComponent:function(e){var t=e.appState,x=e.updateData;return Z().createElement("div",{style:{position:"relative"}},Z().createElement(wc,{label:Wb("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:function(H){return x(H)}}))}});I({name:"clearCanvas",perform:function(e,t){return{elements:e.map(function(x){return Fg(x,{isDeleted:!0})}),appState:pf(pf({},Lh()),{},{appearance:t.appearance,elementLocked:t.elementLocked,
exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,shouldAddWatermark:t.shouldAddWatermark,showStats:t.showStats,pasteDialog:t.pasteDialog}),commitToHistory:!0}},PanelComponent:function(e){var t=e.updateData;return Z().createElement(sf,{type:"button",icon:Si,title:Wb("buttons.clearReset"),"aria-label":Wb("buttons.clearReset"),showAriaLabel:Xe(),onClick:function(){window.confirm(Wb("alerts.clearReset"))&&t(null)}})}});I({name:"zoomIn",perform:function(e,t){e=
oi(ek(t.zoom.value+Xa.V4),t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2});return{appState:pf(pf({},t),{},{zoom:e}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return Z().createElement(sf,{type:"button",icon:Gi,title:"".concat(Wb("buttons.zoomIn")," — ").concat(he("CtrlOrCmd++")),"aria-label":Wb("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(e){return("Equal"===e.code||"NumpadAdd"===e.code)&&(e[nf]||e.shiftKey)}});I({name:"zoomOut",perform:function(e,
t){e=oi(ek(t.zoom.value-Xa.V4),t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2});return{appState:pf(pf({},t),{},{zoom:e}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return Z().createElement(sf,{type:"button",icon:Oj,title:"".concat(Wb("buttons.zoomOut")," — ").concat(he("CtrlOrCmd+-")),"aria-label":Wb("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(e){return("Minus"===e.code||"NumpadSubtract"===e.code)&&(e[nf]||e.shiftKey)}});I({name:"resetZoom",
perform:function(e,t){return{appState:pf(pf({},t),{},{zoom:oi(1,t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2})}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return Z().createElement(sf,{type:"button",icon:ke,title:Wb("buttons.resetZoom"),"aria-label":Wb("buttons.resetZoom"),onClick:function(){t(null)}})},keyTest:function(e){return("Digit0"===e.code||"Numpad0"===e.code)&&(e[nf]||e.shiftKey)}});var ef=function(e,t,x){e=ne(e);var H=Lf(e,t);H=x&&0<H.length?
Ng(H):Ng(e);x=oi(Math.min(Math.max(Math.floor(Math.min(t.width/(H[2]-H[0]),t.height/(H[3]-H[1]))/Xa.V4)*Xa.V4,Xa.V4),1),t.zoom,{left:t.offsetLeft,top:t.offsetTop});e=(H[0]+H[2])/2;H=(H[1]+H[3])/2;return{appState:pf(pf(pf({},t),ij({scenePoint:{x:e,y:H},viewportDimensions:{width:t.width,height:t.height},zoom:x})),{},{zoom:x}),commitToHistory:!1}};I({name:"zoomToSelection",perform:function(e,t){return ef(e,t,!0)},keyTest:function(e){return"Digit2"===e.code&&e.shiftKey&&!e.altKey&&!e[nf]}});I({name:"zoomToFit",
perform:function(e,t){return ef(e,t,!1)},keyTest:function(e){return"Digit1"===e.code&&e.shiftKey&&!e.altKey&&!e[nf]}});var jf,eg,Cg=I({name:"finalize",perform:function(e,t,x,H){var W,ca;x=H.canvas;if(t.editingLinearElement){H=t.editingLinearElement;var ya=H.startBindingElement,ua=H.endBindingElement,Ga=yg.getElement(H.elementId);if(Ga)return vg(Ga)&&ag(Ga,ya,ua),{elements:2>Ga.points.length||Mh(Ga)?e.filter(function(ob){return ob.id!==Ga.id}):void 0,appState:bg(bg({},t),{},{editingLinearElement:null}),
commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(H=t.multiElement?t.multiElement:"draw"===(null===(ca=t.editingElement)||void 0===ca?void 0:ca.type)?t.editingElement:null){"draw"!==H.type&&"touch"!==t.lastPointerDownWith&&(ca=H.points,(ya=H.lastCommittedPoint)&&ca[ca.length-1]===ya||of(H,{points:H.points.slice(0,-1)}));Mh(H)&&(e=e.slice(0,-1));ca=si(H.points,t.zoom.value);if(("line"===H.type||"draw"===H.type)&&ca){var Ua=H.points,Na=
Ua[0];of(H,{points:Ua.map(function(ob,vb){return vb===Ua.length-1?[Na[0],Na[1]]:ob})})}vg(H)&&!ca&&1<H.points.length&&(ya=yg.getPointAtIndexGlobalCoordinates(H,-1),ca=ya[0],ya=ya[1],Jj(H,t,Ph.getScene(H),{x:ca,y:ya}));t.elementLocked||"draw"===t.elementType||(t.selectedElementIds[H.id]=!0)}return(t.elementLocked||"draw"===t.elementType)&&H||Wi(x),{elements:e,appState:bg(bg({},t),{},{elementType:(t.elementLocked||"draw"===t.elementType)&&H?t.elementType:"selection",draggingElement:null,multiElement:null,
editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:H&&!t.elementLocked&&"draw"!==t.elementType?bg(bg({},t.selectedElementIds),{},(W={},W[H.id]=!0,W)):t.selectedElementIds}),commitToHistory:"draw"===t.elementType}},keyTest:function(e,t){return"Escape"===e.key&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||("Escape"===e.key||"Enter"===e.key)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState;e=e.updateData;return Z().createElement(sf,
{type:"button",icon:Ak,title:Wb("buttons.done"),"aria-label":Wb("buttons.done"),onClick:e,visible:null!=t.multiElement})}}),th="undefined"!=typeof w&&null!==(jf=w.env)&&void 0!==jf&&jf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(e,t,x,H){window.gtag("event",t,{event_category:e,event_label:x,value:H})}:("undefined"!=typeof w&&null!==(eg=w.env)&&void 0!==eg&&eg.JEST_WORKER_ID,function(e,t,x,H){}),Wh=(p(8518),function(){var e=function(t,x){return(e=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(H,W){H.__proto__=W}||function(H,W){for(var ca in W)Object.prototype.hasOwnProperty.call(W,ca)&&(H[ca]=W[ca])})(t,x)};return function(t,x){function H(){this.constructor=t}if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");e(t,x);t.prototype=null===x?Object.create(x):(H.prototype=x.prototype,new H)}}()),Jh=function(e){function t(){for(var x=[],H=0;H<arguments.length;H++)x[H]=arguments[H];var W,
ca;H=this;return H=e.apply(this,x)||this,W=ca=H,H.handleFocus=function(ya){ya=ya.currentTarget;var ua=window.getSelection();if(ua){var Ga=document.createRange();Ga.selectNodeContents(ya);ua.removeAllRanges();ua.addRange(Ga)}},H.handleBlur=function(ya){ya=ya.currentTarget.innerText.trim();ya!==ca.props.value&&ca.props.onChange(ya);(ya=window.getSelection())&&ya.removeAllRanges()},H.handleKeyDown=function(ya){"Enter"!==ya.key||(ya.preventDefault(),ya.nativeEvent.isComposing||229===ya.keyCode)||ya.currentTarget.blur()},
H.makeEditable=function(ya){if(ya)try{ya.contentEditable="plaintext-only"}catch(ua){ya.contentEditable="true"}},W}return Wh(t,e),t.prototype.render=function(){return Z().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},t}(fa.Component),Sk=(p(2680),function(e){var t=e.children,x=e.label,
H=e.position;H=void 0===H?"below":H;e=e.long;e=void 0!==e&&e;return Z().createElement("div",{className:"Tooltip"},Z().createElement("span",{className:"above"===H?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:e?"50ch":"10ch"}},x),t)}),$k=function(e){var t=e.title?e.title:"dark"===e.value?Wb("buttons.lightMode"):Wb("buttons.darkMode");return Z().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:t},Z().createElement("input",
{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(x){return e.onChange(x.target.checked?"dark":"light")},checked:"dark"===e.value,"aria-label":t}),Z().createElement("div",{className:"ToolIcon__icon"},"light"===e.value?Zl.MOON:Zl.SUN))},Zl={SUN:Z().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Z().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:Z().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Z().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const Ol="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",Dm=Ol?"chooseFileSystemEntries"===Ol?p.e(736).then(p.bind(p,9012)):p.e(736).then(p.bind(p,499)):p.e(736).then(p.bind(p,5034));Ol?"chooseFileSystemEntries"===Ol?p.e(736).then(p.bind(p,6980)):p.e(736).then(p.bind(p,868)):p.e(736).then(p.bind(p,3110));const Rf=Ol?"chooseFileSystemEntries"===Ol?p.e(736).then(p.bind(p,1170)):p.e(736).then(p.bind(p,7814)):p.e(736).then(p.bind(p,4001));var zl,Ej=function(e,t){if(null!=t&&t.collaborators&&
(t=t.collaborators.get(e),null!=t&&t.color))return t.color;e=e.split("").reduce(function(H,W){return H+W.charCodeAt(0)},0);t=mg.elementBackground.slice(1);var x=mg.elementStroke.slice(1);return{background:t[e%t.length],stroke:x[e%x.length]}};!function(e){e.ACTIVE="active";e.AWAY="away";e.IDLE="idle"}(zl||(zl={}));var Jm=function(){var e=document.createElement("canvas").getContext("2d");return e?(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\ud83d\ude00",0,0),0!==e.getImageData(12,
12,1,1).data[0]):!1}(),Ml=function(e,t,x,H,W,ca,ya,ua,Ga){void 0===Ga&&(Ga=!1);e.translate(ca,ya);e.rotate(ua);Ga&&e.fillRect(t-ca,x-ya,H,W);e.strokeRect(t-ca,x-ya,H,W);e.rotate(-ua);e.translate(-ca,-ya)},Km=function(e,t,x,H){e.beginPath();e.arc(t,x,H,0,2*Math.PI);e.fill();e.stroke()},hn=function(e,t,x,H,W,ca,ya,ua){var Ga=void 0===ua?{}:ua;ua=Ga.renderScrollbars;ua=void 0===ua||ua;var Ua=Ga.renderSelection,Na=void 0===Ua||Ua;Ua=Ga.renderOptimizations;var ob=void 0!==Ua&&Ua;Ga=Ga.renderGrid;var vb=
void 0===Ga||Ga;if(!ca)return{atLeastOneVisibleElement:!1};var wb=ca.getContext("2d");wb.scale(H,H);var jc=ca.width/H,fc=ca.height/H;(ya.exportWithDarkMode&&(wb.filter=Xa.Gi),"string"==typeof ya.viewBackgroundColor)?(("transparent"===ya.viewBackgroundColor||5===ya.viewBackgroundColor.length||9===ya.viewBackgroundColor.length||/(hsla|rgba)\(/.test(ya.viewBackgroundColor))&&wb.clearRect(0,0,jc,fc),Ga=wb.fillStyle,wb.fillStyle=ya.viewBackgroundColor,wb.fillRect(0,0,jc,fc),wb.fillStyle=Ga):wb.clearRect(0,
0,jc,fc);Ga=ya.zoom.translation.x;Ua=ya.zoom.translation.y;wb.translate(Ga,Ua);wb.scale(ya.zoom.value,ya.zoom.value);vb&&t.gridSize&&function(Jd,je,se,lf,ni,Qi){var vk=Jd.strokeStyle;Jd.strokeStyle="rgba(0,0,0,0.1)";Jd.beginPath();for(var Mj=se;Mj<se+ni+2*je;Mj+=je)Jd.moveTo(Mj,lf-je),Jd.lineTo(Mj,lf+Qi+2*je);for(Mj=lf;Mj<lf+Qi+2*je;Mj+=je)Jd.moveTo(se-je,Mj),Jd.lineTo(se+ni+2*je,Mj);Jd.stroke();Jd.strokeStyle=vk}(wb,t.gridSize,-Math.ceil(Ga/ya.zoom.value/t.gridSize)*t.gridSize+ya.scrollX%t.gridSize,
-Math.ceil(Ua/ya.zoom.value/t.gridSize)*t.gridSize+ya.scrollY%t.gridSize,jc/ya.zoom.value,fc/ya.zoom.value);ca=e.filter(function(Jd){var je={zoom:ya.zoom,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,scrollX:ya.scrollX,scrollY:ya.scrollY},se=vi(Jd);Jd=se[0];var lf=se[1],ni=se[2];se=se[3];var Qi=xg({clientX:je.offsetLeft,clientY:je.offsetTop},je);je=xg({clientX:je.offsetLeft+jc,clientY:je.offsetTop+fc},je);return Qi.x<=ni&&Qi.y<=se&&je.x>=Jd&&je.y>=lf});(ca.forEach(function(Jd){zm(Jd,W,wb,ob,ya)}),
t.editingLinearElement)&&(vb=yg.getElement(t.editingLinearElement.elementId))&&function(Jd,je,se,lf){Jd.translate(se.scrollX,se.scrollY);var ni=Jd.strokeStyle,Qi=Jd.lineWidth;Jd.lineWidth=1/se.zoom.value;yg.getPointsGlobalCoordinates(lf).forEach(function(vk,Mj){var bm;Jd.strokeStyle="red";Jd.setLineDash([]);Jd.fillStyle=(null===(bm=je.editingLinearElement)||void 0===bm?void 0:bm.activePointIndex)===Mj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Km(Jd,vk[0],vk[1],yg.POINT_HANDLE_SIZE/2/se.zoom.value)});
Jd.setLineDash([]);Jd.lineWidth=Qi;Jd.translate(-se.scrollX,-se.scrollY);Jd.strokeStyle=ni}(wb,t,ya,vb);if(x&&zm(x,W,wb,ob,ya),t.isBindingEnabled&&t.suggestedBindings.filter(function(Jd){return null!=Jd}).forEach(function(Jd){var je=wb.strokeStyle,se=wb.lineWidth,lf=Array.isArray(Jd)?Qj:im;wb.translate(ya.scrollX,ya.scrollY);lf(wb,Jd);wb.strokeStyle=je;wb.lineWidth=se;wb.translate(-ya.scrollX,-ya.scrollY)}),Na&&!t.multiElement&&!t.editingLinearElement){var Fc=e.reduce(function(Jd,je){var se=[];if(t.selectedElementIds[je.id]&&
null==Fh(t,je)&&se.push(Ie.Sn),ya.remoteSelectedElementIds[je.id]&&se.push.apply(se,ya.remoteSelectedElementIds[je.id].map(function(ni){return Ej(ni,t).background})),se.length){var lf=wg(je);Jd.push({angle:je.angle,elementX1:lf[0],elementY1:lf[1],elementX2:lf[2],elementY2:lf[3],selectionColors:se})}return Jd},[]);x=function(Jd){Jd=Li(e,Jd);Jd=Ng(Jd);Fc.push({angle:0,elementX1:Jd[0],elementX2:Jd[2],elementY1:Jd[1],elementY2:Jd[3],selectionColors:[Ie.Sn]})};Na=0;for(vb=Ki(t);Na<vb.length;Na++)x(vb[Na]);
t.editingGroupId&&x(t.editingGroupId);Fc.forEach(function(Jd){var je=Jd.angle,se=Jd.elementX1,lf=Jd.elementY1,ni=Jd.selectionColors,Qi=Jd.elementX2-se;Jd=Jd.elementY2-lf;var vk=wb.getLineDash(),Mj=wb.lineWidth,bm=wb.lineDashOffset,sn=wb.strokeStyle,om=4/ya.zoom.value,tn=8/ya.zoom.value,Um=4/ya.zoom.value;wb.lineWidth=1/ya.zoom.value;wb.translate(ya.scrollX,ya.scrollY);for(var eo=ni.length,Vm=0;Vm<eo;++Vm)wb.strokeStyle=ni[Vm],wb.setLineDash([tn,Um+(tn+Um)*(eo-1)]),wb.lineDashOffset=(tn+Um)*Vm,Ml(wb,
se-om,lf-om,Qi+2*om,Jd+2*om,se+Qi/2,lf+Jd/2,je);wb.lineDashOffset=bm;wb.strokeStyle=sn;wb.lineWidth=Mj;wb.setLineDash(vk);wb.translate(-ya.scrollX,-ya.scrollY)});Na=Lf(e,t);if(wb.translate(ya.scrollX,ya.scrollY),1===Na.length)wb.fillStyle=Ie.ix,x=Gj(Na[0],ya.zoom,"mouse"),t.viewModeEnabled||hl(wb,ya,x,Na[0].angle);else if(1<Na.length&&!t.isRotating){x=4/ya.zoom.value;wb.fillStyle=Ie.ix;var nd=Ng(Na);Na=nd[0];vb=nd[1];var td=nd[2];nd=nd[3];var Dd=wb.getLineDash();wb.setLineDash([2/ya.zoom.value]);
var xe=wb.lineWidth;wb.lineWidth=1/ya.zoom.value;Ml(wb,Na-x,vb-x,td-Na+2*x,nd-vb+2*x,(Na+td)/2,(vb+nd)/2,0);wb.lineWidth=xe;wb.setLineDash(Dd);x=Tj([Na,vb,td,nd],0,ya.zoom,"mouse",Zk);hl(wb,ya,x,0)}wb.translate(-ya.scrollX,-ya.scrollY)}for(var te in wb.scale(1/ya.zoom.value,1/ya.zoom.value),wb.translate(-Ga,-Ua),ya.remotePointerViewportCoords){Ga=ya.remotePointerViewportCoords[te];td=Ga.x;nd=Ga.y;td-=t.offsetLeft;nd-=t.offsetTop;Dd=0>td||td>jc-9||0>nd||nd>fc-14;td=Math.max(td,0);td=Math.min(td,jc-
9);nd=Math.max(nd,0);nd=Math.min(nd,fc-14);Ga=Ej(te,t);Ua=Ga.background;x=Ga.stroke;Na=wb.strokeStyle;vb=(Ga=wb.fillStyle,wb.globalAlpha);wb.strokeStyle=x;wb.fillStyle=Ua;xe=ya.remotePointerUserStates[te];(Dd||xe===zl.AWAY)&&(wb.globalAlpha=.48);ya.remotePointerButton&&"down"===ya.remotePointerButton[te]&&(wb.beginPath(),wb.arc(td,nd,15,0,2*Math.PI,!1),wb.lineWidth=3,wb.strokeStyle="#ffffff88",wb.stroke(),wb.closePath(),wb.beginPath(),wb.arc(td,nd,15,0,2*Math.PI,!1),wb.lineWidth=1,wb.strokeStyle=
x,wb.stroke(),wb.closePath());wb.beginPath();wb.moveTo(td,nd);wb.lineTo(td+1,nd+14);wb.lineTo(td+4,nd+9);wb.lineTo(td+9,nd+10);wb.lineTo(td,nd);wb.fill();wb.stroke();var We=ya.remotePointerUsernames[te],Ue="";xe===zl.AWAY?Ue=Jm?"⚫️":" (".concat(zl.AWAY,")"):xe===zl.IDLE?Ue=Jm?"\ud83d\udca4":" (".concat(zl.IDLE,")"):xe===zl.ACTIVE&&(Ue=Jm?"\ud83d\udfe2":"");xe="".concat(We?"".concat(We," "):"").concat(Ue);!Dd&&xe&&(td+=9,nd+=14,Dd=wb.measureText(xe),We=Dd.actualBoundingBoxDescent+Dd.actualBoundingBoxAscent,
wb.fillStyle=x,wb.fillRect(td-1,nd-1,Dd.width+8+2,We+8+2),wb.fillStyle=Ua,wb.fillRect(td,nd,Dd.width+8,We+8),wb.fillStyle=Ie.ix,wb.fillText(xe,td+4,nd+4+Dd.actualBoundingBoxAscent));wb.strokeStyle=Na;wb.fillStyle=Ga;wb.globalAlpha=vb;wb.closePath()}if(ua){var vf=function(Jd,je,se,lf){var ni=lf.scrollX,Qi=lf.scrollY,vk=lf.zoom;if(0===Jd.length)return{horizontal:null,vertical:null};lf=Ng(Jd);var Mj=lf[0],bm=lf[1];Jd=lf[2];lf=lf[3];var sn=je/vk.value,om=se/vk.value,tn=je-sn,Um=se-om;vk=parseInt(ng("sat"));
var eo=parseInt(ng("sab")),Vm=parseInt(ng("sal")),Ur=parseInt(ng("sar")),Tt=xf.rtl;ni=tn/2-ni+Vm;Qi=Um/2-Qi+vk;sn=ni+sn-Ur;om=Qi+om-eo;Mj=Math.min(Mj,ni);bm=Math.min(bm,Qi);Jd=Math.max(Jd,sn);lf=Math.max(lf,om);return{horizontal:ni===Mj&&sn===Jd?null:{x:Math.max(Vm,4)+(ni-Mj)/(Jd-Mj)*je,y:se-6-Math.max(4,eo),width:(sn-ni)/(Jd-Mj)*je-Math.max(8,Vm+Ur),height:6},vertical:Qi===bm&&om===lf?null:{x:Tt?Math.max(Vm,4):je-6-Math.max(Ur,4),y:(Qi-bm)/(lf-bm)*se+Math.max(vk,4),width:6,height:(om-Qi)/(lf-bm)*
se-Math.max(8,vk+eo)}}}(e,jc,fc,ya);Ga=wb.fillStyle;Na=wb.strokeStyle;wb.fillStyle="rgba(0,0,0,0.3)";wb.strokeStyle="rgba(255,255,255,0.8)";[vf.horizontal,vf.vertical].forEach(function(Jd){if(Jd){var je=Jd.x,se=Jd.y,lf=Jd.width;Jd=Jd.height;wb.beginPath();wb.moveTo(je+3,se);wb.lineTo(je+lf-3,se);wb.quadraticCurveTo(je+lf,se,je+lf,se+3);wb.lineTo(je+lf,se+Jd-3);wb.quadraticCurveTo(je+lf,se+Jd,je+lf-3,se+Jd);wb.lineTo(je+3,se+Jd);wb.quadraticCurveTo(je,se+Jd,je,se+Jd-3);wb.lineTo(je,se+3);wb.quadraticCurveTo(je,
se,je+3,se);wb.closePath();wb.fill();wb.stroke()}});wb.fillStyle=Ga;wb.strokeStyle=Na}return wb.scale(1/H,1/H),{atLeastOneVisibleElement:0<ca.length,scrollBars:vf}},hl=function(e,t,x,H){Object.keys(x).forEach(function(W){var ca=x[W];if(void 0!==ca){var ya=e.lineWidth;e.lineWidth=1/t.zoom.value;"rotation"===W?Km(e,ca[0]+ca[2]/2,ca[1]+ca[3]/2,ca[2]/2):Ml(e,ca[0],ca[1],ca[2],ca[3],ca[0]+ca[2]/2,ca[1]+ca[3]/2,H,!0);e.lineWidth=ya}})},im=function(e,t){var x=wg(t),H=x[0],W=x[1],ca=x[2]-H;x=x[3]-W;var ya=
Bg(t,ca,x);e.strokeStyle="rgba(0,0,0,.05)";e.lineWidth=ya-4;ya=2+ya/2;switch(t.type){case "rectangle":case "text":Ml(e,H-ya,W-ya,ca+2*ya,x+2*ya,H+ca/2,W+x/2,t.angle);break;case "diamond":var ua=Math.hypot(ca,x);!function(Ga,Ua,Na,ob,vb,wb){Ga.translate(ob,vb);Ga.rotate(wb);Ga.beginPath();Ga.moveTo(0,Na/2);Ga.lineTo(Ua/2,0);Ga.lineTo(0,-Na/2);Ga.lineTo(-Ua/2,0);Ga.closePath();Ga.stroke();Ga.rotate(-wb);Ga.translate(-ob,-vb)}(e,ca+ya*ua/x*2,x+ya*ua/ca*2,H+ca/2,W+x/2,t.angle);break;case "ellipse":!function(Ga,
Ua,Na,ob,vb,wb){Ga.beginPath();Ga.ellipse(ob,vb,Ua/2,Na/2,wb,0,2*Math.PI);Ga.stroke()}(e,ca+2*ya,x+2*ya,H+ca/2,W+x/2,t.angle)}},Qj=function(e,t){var x=t[0],H=t[1];t=t[2];var W=Bg(t,t.width,t.height);e.strokeStyle="rgba(0,0,0,0)";e.fillStyle="rgba(0,0,0,.05)";("both"===H?[0,-1]:"start"===H?[0]:[-1]).forEach(function(ca){ca=yg.getPointAtIndexGlobalCoordinates(x,ca);Km(e,ca[0],ca[1],W)})},Ck=function(e,t,x,H){H=void 0===H?{}:H;var W=H.offsetX,ca=void 0===W?0:W;H=H.offsetY;var ya=void 0===H?0:H;x&&e.forEach(function(ua){ua.isDeleted||
function(Ga,Ua,Na,ob,vb){var wb=wg(Ga),jc=wb[0],fc=wb[1],Fc=(wb[2]-jc)/2-(Ga.x-jc),nd=(wb[3]-fc)/2-(Ga.y-fc),td=180*Ga.angle/Math.PI;wb=Ua.generator;switch(Ga.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Yi(Ga,wb);wb=Ua.draw(bi.get(Ga));1!=(te=Ga.opacity/100)&&(wb.setAttribute("stroke-opacity","".concat(te)),wb.setAttribute("fill-opacity","".concat(te)));wb.setAttribute("transform","translate(".concat(ob||0," ").concat(vb||
0,") rotate(").concat(td," ").concat(Fc," ").concat(nd,")"));Na.appendChild(wb);break;case "line":case "draw":case "arrow":Yi(Ga,wb);var Dd=Na.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),xe=Ga.opacity/100;bi.get(Ga).forEach(function(se){se=Ua.draw(se);1!==xe&&(se.setAttribute("stroke-opacity","".concat(xe)),se.setAttribute("fill-opacity","".concat(xe)));se.setAttribute("transform","translate(".concat(ob||0," ").concat(vb||0,") rotate(").concat(td," ").concat(Fc," ").concat(nd,
")"));"line"!==Ga.type&&"draw"!==Ga.type||!si(Ga.points)||"transparent"===Ga.backgroundColor||se.setAttribute("fill-rule","evenodd");Dd.appendChild(se)});Na.appendChild(Dd);break;default:if(!le(Ga))throw Error("Unimplemented type ".concat(Ga.type));var te=Ga.opacity/100;wb=Na.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==te&&(wb.setAttribute("stroke-opacity","".concat(te)),wb.setAttribute("fill-opacity","".concat(te)));wb.setAttribute("transform","translate(".concat(ob||0," ").concat(vb||
0,") rotate(").concat(td," ").concat(Fc," ").concat(nd,")"));te=Ga.text.replace(/\r\n?/g,"\n").split("\n");jc=Ga.height/te.length;fc=Ga.height-Ga.baseline;for(var We="center"===Ga.textAlign?Ga.width/2:"right"===Ga.textAlign?Ga.width:0,Ue=Eh.test(Ga.text)?"rtl":"ltr",vf="center"===Ga.textAlign?"middle":"right"===Ga.textAlign||"rtl"===Ue?"end":"start",Jd=0;Jd<te.length;Jd++){var je=Na.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");je.textContent=te[Jd];je.setAttribute("x","".concat(We));
je.setAttribute("y","".concat((Jd+1)*jc-fc));je.setAttribute("font-family","".concat(Xa.ut[Ga.fontFamily],", ").concat(Xa._D));je.setAttribute("font-size","".concat(Ga.fontSize,"px"));je.setAttribute("fill",Ga.strokeColor);je.setAttribute("text-anchor",vf);je.setAttribute("style","white-space: pre;");je.setAttribute("direction",Ue);wb.appendChild(je)}Na.appendChild(wb)}}(ua,t,x,ua.x+ca,ua.y+ya)})},Nl=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},Bm=function(e,t,x,
H){var W=x.exportBackground,ca=x.exportPadding;ca=void 0===ca?10:ca;var ya=x.viewBackgroundColor,ua=x.scale,Ga=void 0===ua?1:ua;x=x.shouldAddWatermark;void 0===H&&(H=function(Na,ob){var vb=document.createElement("canvas");return vb.width=Na*Ga,vb.height=ob*Ga,{canvas:vb,scale:Ga}});e=Wn(e,x);var Ua=jn(e,ca,x);x=Ua[0];ua=Ua[1];Ua=H(Ua[2],Ua[3]);H=Ua.canvas;Ua=Ua.scale;return hn(e,t,null,void 0===Ua?Ga:Ua,Vh.canvas(H),H,{viewBackgroundColor:W?ya:null,exportWithDarkMode:t.exportWithDarkMode,scrollX:-x+
ca,scrollY:-ua+ca,zoom:Lh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),H},Xl=function(e,t){var x=t.exportBackground,H=t.exportPadding;H=void 0===H?10:H;var W=t.viewBackgroundColor,ca=t.exportWithDarkMode,ya=t.scale;ya=void 0===ya?1:ya;var ua=t.shouldAddWatermark;t=t.metadata;t=void 0===t?"":t;e=Wn(e,ua);var Ga=jn(e,H,ua);
ua=Ga[0];var Ua=Ga[1],Na=Ga[2],ob=Ga[3];Ga=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ga.setAttribute("version","1.1"),Ga.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ga.setAttribute("viewBox","0 0 ".concat(Na," ").concat(ob)),Ga.setAttribute("width","".concat(Na*ya)),Ga.setAttribute("height","".concat(ob*ya)),ca&&Ga.setAttribute("filter",Xa.Gi),Ga.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(t,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
x&&W)x=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),x.setAttribute("x","0"),x.setAttribute("y","0"),x.setAttribute("width","".concat(Na)),x.setAttribute("height","".concat(ob)),x.setAttribute("fill",W),Ga.appendChild(x);x=Vh.svg(Ga);return Ck(e,x,Ga,{offsetX:-ua+H,offsetY:-Ua+H}),Ga},Wn=function(e,t){var x=Nl([],e);t&&(t=Ng(e),e=t[2],t=t[3],x=Nl([],x),e=Hj({text:Wb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Xa.rk,textAlign:"right",verticalAlign:Xa.hs,x:e,y:t+16,strokeColor:Ie.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),x=Nl(x,[e]));return x},jn=function(e,t,x){e=Ng(e);var H=e[0],W=e[1];return[H,W,Math.abs(H-e[2])+2*t,Math.abs(W-e[3])+t+(x?0:t)]},Dk=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},pn=function(e){return(e=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(e))?parseFloat(e[1].replace(/,/g,"")):null},Lj=function(e,t){return e.slice(1).every(function(x){return null!==
pn(x[t])})},Hn=function(e){var t=e[0].length;if(2<t)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===t){if(!Lj(e,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};t=null===pn(e[0][0]);var x=(t?e.slice(1):e).map(function(ca){return pn(ca[0])});return 2>x.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:t?e[0][0]:null,labels:null,values:x}}}var H=Lj(e,0)?0:1;if(!Lj(e,H))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var W=(H+1)%2;x=(t=null===pn(e[0][H]))?e.slice(1):e;return 2>x.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:t?e[0][H]:null,labels:x.map(function(ca){return ca[W]}),values:x.map(function(ca){return pn(ca[H])})}}},Cn=mg.elementBackground.slice(2,mg.elementBackground.length),ii={fillStyle:"hachure",fontFamily:Xa.rk,fontSize:Xa.n5,opacity:100,roughness:1,strokeColor:mg.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Tn=function(e){return{chartWidth:44*e.values.length+12,chartHeight:280}},Lm=function(e,t,x,H,W,ca){var ya=Tn(e),ua=ya.chartWidth,Ga=ya.chartHeight;ya=e.title?Hj(Pe(Pe({backgroundColor:W,groupIds:[H]},ii),{},{text:e.title,x:t+ua/2,y:x-256-24-Xa.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;ca=ca?nl(Pe(Pe({backgroundColor:W,groupIds:[H]},ii),{},{type:"rectangle",x:t,y:x-Ga,width:ua,height:Ga,strokeColor:mg.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Dk(Dk(Dk(Dk(Dk([],ca?[ca]:[]),ya?[ya]:[]),function(Ua,Na,ob,vb,wb){var jc;return(null===(jc=Ua.labels)||void 0===jc?void 0:jc.map(function(fc,Fc){return Hj(Pe(Pe({groupIds:[vb],backgroundColor:wb},ii),{},{text:8<fc.length?"".concat(fc.slice(0,5),"..."):fc,x:Na+44*Fc+24,y:ob+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(e,t,x,H,W)),function(Ua,Na,ob,vb,wb){var jc=Hj(Pe(Pe({groupIds:[vb],backgroundColor:wb},ii),{},{x:Na-12,y:ob-12,text:"0",textAlign:"right"}));
return[jc,Hj(Pe(Pe({groupIds:[vb],backgroundColor:wb},ii),{},{x:Na-12,y:ob-256-jc.height/2,text:Math.max.apply(Math,Ua.values).toLocaleString(),textAlign:"right"}))]}(e,t,x,H,W)),function(Ua,Na,ob,vb,wb){var jc=Tn(Ua);Ua=jc.chartWidth;jc=jc.chartHeight;return[$e(Pe(Pe({backgroundColor:wb,groupIds:[vb]},ii),{},{type:"line",x:Na,y:ob,startArrowhead:null,endArrowhead:null,width:Ua,points:[[0,0],[Ua,0]]})),$e(Pe(Pe({backgroundColor:wb,groupIds:[vb]},ii),{},{type:"line",x:Na,y:ob,startArrowhead:null,endArrowhead:null,
height:jc,points:[[0,0],[0,-jc]]})),$e(Pe(Pe({backgroundColor:wb,groupIds:[vb]},ii),{},{type:"line",x:Na,y:ob-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Ua,opacity:50,points:[[0,0],[Ua,0]]}))]}(e,t,x,H,W))},Un=function(e,t,x,H){return"line"===e?function(W,ca,ya){for(var ua=Math.max.apply(Math,W.values),Ga=di(),Ua=Cn[Math.floor(Math.random()*Cn.length)],Na=0,ob=[],vb=0,wb=W.values;vb<wb.length;vb++)ob.push([44*Na,-wb[vb]/ua*256]),Na++;Na=Math.max.apply(Math,ob.map(function(fc){return fc[0]}));
vb=Math.max.apply(Math,ob.map(function(fc){return fc[1]}));wb=Math.min.apply(Math,ob.map(function(fc){return fc[0]}));var jc=Math.min.apply(Math,ob.map(function(fc){return fc[1]}));ob=$e(Pe(Pe({backgroundColor:Ua,groupIds:[Ga]},ii),{},{type:"line",x:ca+12+16,y:ya-12,startArrowhead:null,endArrowhead:null,height:vb-jc,width:Na-wb,strokeWidth:2,points:ob}));Na=W.values.map(function(fc,Fc){Fc=44*Fc+6;fc=-fc/ua*256+6;return nl(Pe(Pe({backgroundColor:Ua,groupIds:[Ga]},ii),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:ca+Fc+16,y:ya+fc-24,width:12,height:12}))});vb=W.values.map(function(fc,Fc){Fc=44*Fc+6;fc=fc/ua*256+18;return $e(Pe(Pe({backgroundColor:Ua,groupIds:[Ga]},ii),{},{type:"line",x:ca+Fc+16+6,y:ya-fc,startArrowhead:null,endArrowhead:null,height:fc,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,fc]]}))});return Dk(Dk(Dk(Dk([],Lm(W,ca,ya,Ga,Ua,"production"===Xa.Vi.DEVELOPMENT)),[ob]),vb),Na)}(t,x,H):function(W,ca,ya){var ua=Math.max.apply(Math,W.values),Ga=di(),Ua=Cn[Math.floor(Math.random()*
Cn.length)],Na=W.values.map(function(ob,vb){ob=ob/ua*256;return nl(Pe(Pe({backgroundColor:Ua,groupIds:[Ga]},ii),{},{type:"rectangle",x:ca+44*vb+12,y:ya-ob-12,width:32,height:ob}))});return Dk(Dk([],Na),Lm(W,ca,ya,Ga,Ua,"production"===Xa.Vi.DEVELOPMENT))}(t,x,H)},Vn=function(){var e=function(t,x){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,W){H.__proto__=W}||function(H,W){for(var ca in W)Object.prototype.hasOwnProperty.call(W,ca)&&(H[ca]=W[ca])})(t,x)};return function(t,
x){function H(){this.constructor=t}if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");e(t,x);t.prototype=null===x?Object.create(x):(H.prototype=x.prototype,new H)}}(),on=function(e){function t(x,H){void 0===x&&(x="Couldn't export canvas.");void 0===H&&(H="CANVAS_ERROR");var W=e.call(this)||this;return W.name=H,W.message=x,W}return Vn(t,e),t}(Error),ao=function(e,t){var x,H,W,ca,ya,ua,Ga,Ua;e={type:e.type,version:e.version||1,versionNonce:null!==
(x=e.versionNonce)&&void 0!==x?x:0,isDeleted:null!==(H=e.isDeleted)&&void 0!==H&&H,id:e.id||di(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(W=e.strokeStyle)&&void 0!==W?W:"solid",roughness:null!==(ca=e.roughness)&&void 0!==ca?ca:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:e.x||0,y:e.y||0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(ya=e.seed)&&void 0!==ya?ya:1,groupIds:null!==(ua=
e.groupIds)&&void 0!==ua?ua:[],strokeSharpness:null!==(Ga=e.strokeSharpness)&&void 0!==Ga?Ga:rj(e.type)?"round":"sharp",boundElementIds:null!==(Ua=e.boundElementIds)&&void 0!==Ua?Ua:[]};return Se(Se(Se({},e),ll(e)),t)},Vi=function(e){return(e||[]).reduce(function(t,x){if("selection"!==x.type&&!Mh(x)){a:{var H;switch(x.type){case "text":var W=x.fontSize,ca=x.fontFamily;if("font"in x){W=x.font.split(" ");ca=W[1];W=parseInt(W[0],10);b:{for(var ya=0,ua=Object.entries(Xa.ut);ya<ua.length;ya++){var Ga=
ua[ya],Ua=Ga[0];if(Ga[1].includes(ca)){ca=parseInt(Ua);break b}}ca=Xa.rk}}x=ao(x,{fontSize:W,fontFamily:ca,text:null!==(H=x.text)&&void 0!==H?H:"",baseline:x.baseline,textAlign:x.textAlign||Xa.Hg,verticalAlign:x.verticalAlign||Xa.hs});break a;case "draw":case "line":case "arrow":H=x.startArrowhead;H=void 0===H?null:H;W=x.endArrowhead;W=void 0===W?"arrow"===x.type?"arrow":null:W;x=ao(x,{startBinding:x.startBinding,endBinding:x.endBinding,points:!Array.isArray(x.points)||2>x.points.length?[[0,0],[x.width,
x.height]]:x.points,lastCommittedPoint:null,startArrowhead:H,endArrowhead:W});break a;case "ellipse":case "rectangle":case "diamond":x=ao(x,{});break a}x=void 0}x&&t.push(x)}return t},[])},kn=function(e,t){e=e||{};for(var x=Lh(),H={},W=0,ca=Object.entries(x);W<ca.length;W++){var ya=ca[W],ua=ya[0];ya=ya[1];var Ga=e[ua],Ua=t?t[ua]:void 0;H[ua]=void 0!==Ga?Ga:void 0!==Ua?Ua:ya}return Se(Se({},H),{},{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0,zoom:"number"==typeof e.zoom?{value:e.zoom,translation:x.zoom.translation}:
e.zoom||x.zoom})},ln=function(e,t){return{elements:Vi(null==e?void 0:e.elements),appState:kn(null==e?void 0:e.appState,t||null)}},co=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],
done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?
Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},kj=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},Yh=function(){function e(){}return e.importLibrary=function(t){return Lb()(function(){var x,H,W,ca;return co(this,function(ya){switch(ya.label){case 0:return[4,mp(t)];case 1:return(x=
ya.sent())&&x.library?(H=function(ua,Ga){return!ua.find(function(Ua){return Ua.length===Ga.length&&Ua.every(function(Na,ob){return Na.id===Ga[ob].id&&Na.versionNonce===Ga[ob].versionNonce})})},[4,e.loadLibrary()]):[2];case 2:return W=ya.sent(),ca=x.library.reduce(function(ua,Ga){Ga=ne(Vi(Ga));return H(W,Ga)&&ua.push(Ga),ua},[]),e.saveLibrary(kj(kj([],W),ca)),[2]}})})()},e}();Yh.libraryCache=null;Yh.resetLibrary=function(){Yh.libraryCache=null;localStorage.removeItem(Xa.I.LOCAL_STORAGE_LIBRARY)};Yh.loadLibrary=
function(){return new Promise(function(){var e=Lb()(function(t){var x,H;return co(this,function(W){if(Yh.libraryCache)return[2,t(JSON.parse(JSON.stringify(Yh.libraryCache)))];try{if(!(x=localStorage.getItem(Xa.I.LOCAL_STORAGE_LIBRARY)))return[2,t([])];H=JSON.parse(x).map(function(ca){return Vi(ca)});Yh.libraryCache=JSON.parse(JSON.stringify(H));t(H)}catch(ca){console.error(ca),t([])}return[2]})});return function(t){return e.apply(this,arguments)}}())};Yh.saveLibrary=function(e){var t=Yh.libraryCache;
try{var x=JSON.stringify(e);Yh.libraryCache=JSON.parse(x);localStorage.setItem(Xa.I.LOCAL_STORAGE_LIBRARY,x)}catch(H){Yh.libraryCache=t,console.error(H)}};var jm=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,
{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];
return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},wm=function(e,t){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Sf(e),appState:xi(t,"export")},null,2)},km=function(){var e=Lb()(function(t,x){var H;return jm(this,function(W){switch(W.label){case 0:return H=
wm(t,x),[4,ah(new Blob([H],{type:"application/json"}),{fileName:x.name,description:"Excalidraw file",extensions:[".excalidraw"]},x.fileHandle)];case 1:return[2,{fileHandle:W.sent()}]}})});return function(t,x){return e.apply(this,arguments)}}(),mn=function(){var e=Lb()(function(t){var x;return jm(this,function(H){switch(H.label){case 0:return[4,qi({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return x=
H.sent(),[2,Qm(x,t)]}})});return function(t){return e.apply(this,arguments)}}(),xm=function(){var e=Lb()(function(){var t,x;return jm(this,function(H){switch(H.label){case 0:return[4,Yh.loadLibrary()];case 1:return t=H.sent(),x=JSON.stringify({type:"excalidrawlib",version:1,library:t},null,2),"library.excalidrawlib",[4,ah(new Blob([x],{type:Xa.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return H.sent(),[2]}})});
return function(){return e.apply(this,arguments)}}(),lp=function(){var e=Lb()(function(){var t;return jm(this,function(x){switch(x.label){case 0:return[4,qi({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return t=x.sent(),Yh.importLibrary(t),[2]}})});return function(){return e.apply(this,arguments)}}(),Mm=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===
Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Dn=function(){var e=
Lb()(function(t){var x;return Mm(this,function(H){switch(H.label){case 0:if("image/png"!==t.type)return[3,6];H.label=1;case 1:return H.trys.push([1,4,,5]),[4,Promise.all([p.e(736),p.e(9)]).then(p.bind(p,8527))];case 2:return[4,H.sent().decodePngMetadata(t)];case 3:return[2,H.sent()];case 4:throw"INVALID"===H.sent().message?Error(Wb("alerts.imageDoesNotContainScene")):Error(Wb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,t.text()]:[3,8];case 7:return x=H.sent(),
[3,10];case 8:return[4,new Promise(function(W){var ca=new FileReader;ca.readAsText(t,"utf8");ca.onloadend=function(){ca.readyState===FileReader.DONE&&W(ca.result)}})];case 9:x=H.sent(),H.label=10;case 10:if("image/svg+xml"!==t.type)return[3,15];H.label=11;case 11:return H.trys.push([11,14,,15]),[4,Promise.all([p.e(736),p.e(9)]).then(p.bind(p,8527))];case 12:return[4,H.sent().decodeSvgMetadata({svg:x})];case 13:return[2,H.sent()];case 14:throw"INVALID"===H.sent().message?Error(Wb("alerts.imageDoesNotContainScene")):
Error(Wb("alerts.cannotRestoreFromImage"));case 15:return[2,x]}})});return function(t){return e.apply(this,arguments)}}(),Qm=function(){var e=Lb()(function(t,x){var H,W;return Mm(this,function(ca){switch(ca.label){case 0:return[4,Dn(t)];case 1:H=ca.sent();try{var ya=W=JSON.parse(H);if("excalidraw"!==(null==ya?void 0:ya.type)||ya.elements&&(!Array.isArray(ya.elements)||ya.appState&&"object"!=typeof ya.appState))throw Error(Wb("alerts.couldNotLoadInvalidFile"));var ua=Sf(W.elements||[]),Ga=null==x?
void 0:x.appearance,Ua;if(Ua=t.handle){var Na=["application/json",Xa.LO.excalidraw],ob=Na.includes;a:{if("string"==typeof t)var vb=t;else{if(t.type){var wb=t.type;break a}vb=t.name||""}wb=/\.(excalidraw|json)$/.test(vb)?"application/json":/\.png$/.test(vb)?"image/png":/\.jpe?g$/.test(vb)?"image/jpeg":/\.svg$/.test(vb)?"image/svg+xml":""}Ua=ob.call(Na,wb)}return[2,ln({elements:ua,appState:Fb(Fb({appearance:Ga,fileHandle:Ua?t.handle:null},xi(W.appState||{},"export")),x?$h(W.elements||[],x):{})},x)]}catch(jc){throw console.error(jc.message),
Error(Wb("alerts.couldNotLoadInvalidFile"));}}})});return function(t,x){return e.apply(this,arguments)}}(),mp=function(){var e=Lb()(function(t){var x,H;return Mm(this,function(W){switch(W.label){case 0:return[4,Dn(t)];case 1:if(x=W.sent(),"excalidrawlib"!==(H=JSON.parse(x)).type)throw Error(Wb("alerts.couldNotLoadInvalidFile"));return[2,H]}})});return function(t){return e.apply(this,arguments)}}(),Nm=function(){var e=Lb()(function(t){return Mm(this,function(x){return[2,new Promise(function(H,W){try{t.toBlob(function(ca){if(!ca)return W(new on(Wb("canvasError.canvasTooBig"),
"CANVAS_POSSIBLY_TOO_BIG"));H(ca)})}catch(ca){W(ca)}})]})});return function(t){return e.apply(this,arguments)}}(),Uk=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};
case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?
Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Pm="",Om=!1,Ji="clipboard"in navigator&&"readText"in navigator.clipboard,Vk="clipboard"in navigator&&"writeText"in navigator.clipboard,jl="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,
il=function(){var e=Lb()(function(t,x){var H,W,ca;return Uk(this,function(ya){switch(ya.label){case 0:H={type:"excalidraw/elements",created:Date.now(),elements:Lf(t,x)},Pm=W=JSON.stringify(H),ya.label=1;case 1:return ya.trys.push([1,3,,4]),Om=!1,[4,Ob(W)];case 2:return ya.sent(),[3,4];case 3:return ca=ya.sent(),Om=!0,console.error(ca),[3,4];case 4:return[2]}})});return function(t,x){return e.apply(this,arguments)}}(),N=function(){if(!Pm)return{};try{return JSON.parse(Pm)}catch(e){return console.error(e),
{}}},ea=function(e){e=function(t){var x=t.trim().split("\n").map(function(W){return W.trim().split("\t")});if(x.length&&2!==x[0].length&&(x=t.trim().split("\n").map(function(W){return W.trim().split(",")})),0===x.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var H=x[0].length;if(!x.every(function(W){return W.length===H}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};t=Hn(x);return"VALID_SPREADSHEET"!==t.type&&(x=Hn(function(W){for(var ca=[],ya=0;ya<
W[0].length;ya++){for(var ua=[],Ga=0;Ga<W.length;Ga++)ua.push(W[Ga][ya]);ca.push(ua)}return ca}(x)),"VALID_SPREADSHEET"===x.type)?x:t}(e);return"VALID_SPREADSHEET"===e.type?{spreadsheet:e.spreadsheet}:null},Fa=function(){var e=Lb()(function(t){var x,H,W;return Uk(this,function(ca){switch(ca.label){case 0:return ca.trys.push([0,5,,6]),t?(H=null===(x=t.clipboardData)||void 0===x?void 0:x.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(W=Ji)?[4,navigator.clipboard.readText()]:[3,3];case 2:W=
ca.sent(),ca.label=3;case 3:H=W,ca.label=4;case 4:return[2,H||""];case 5:return ca.sent(),[2,""];case 6:return[2]}})});return function(t){return e.apply(this,arguments)}}(),ib=function(){var e=Lb()(function(t){var x,H,W,ca;return Uk(this,function(ya){switch(ya.label){case 0:return[4,Fa(t)];case 1:if(!(x=ya.sent())||x.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,N()];if(H=ea(x))return[2,H];W=N();try{return ca=JSON.parse(x),"excalidraw/elements"===(null==(ua=ca)?void 0:ua.type)&&(null==
W||!W.created||W.created<ca.created)?[2,{elements:ca.elements}]:[2,W]}catch(Ga){return[2,Om&&W.elements?W:{text:x}]}}var ua})});return function(t){return e.apply(this,arguments)}}(),Bb=function(){var e=Lb()(function(t){var x;return Uk(this,function(H){switch(H.label){case 0:return[4,Nm(t)];case 1:return x=H.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":x})])];case 2:return H.sent(),[2]}})});return function(t){return e.apply(this,arguments)}}(),Ob=function(){var e=Lb()(function(t){var x,
H;return Uk(this,function(W){switch(W.label){case 0:if(x=!1,!Vk)return[3,4];W.label=1;case 1:return W.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(t||"")];case 2:return W.sent(),x=!0,[3,4];case 3:return H=W.sent(),console.error(H),[3,4];case 4:if(W=!x){var ca=t||" ",ya="rtl"===document.documentElement.getAttribute("dir");W=document.createElement("textarea");W.style.border="0";W.style.padding="0";W.style.margin="0";W.style.position="absolute";W.style[ya?"right":"left"]="-9999px";W.style.top=
"".concat(window.pageYOffset||document.documentElement.scrollTop,"px");W.style.fontSize="12pt";W.setAttribute("readonly","");W.value=ca;document.body.appendChild(W);ca=!1;try{W.select(),W.setSelectionRange(0,W.value.length),ca=document.execCommand("copy")}catch(ua){console.error(ua)}W=!(W.remove(),ca)}if(W)throw Error("couldn't copy");return[2]}})});return function(t){return e.apply(this,arguments)}}(),tc=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===
Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Gc=function(){var e=
Lb()(function(t,x,H,W,ca){var ya,ua,Ga,Ua,Na,ob,vb,wb,jc,fc=ca.exportBackground,Fc=ca.exportPadding,nd=void 0===Fc?10:Fc,td=ca.viewBackgroundColor,Dd=ca.name;Fc=ca.scale;var xe=void 0===Fc?1:Fc,te=ca.shouldAddWatermark;return tc(this,function(We){switch(We.label){case 0:if(0===x.length)throw Error(Wb("alerts.cannotExportEmptyCanvas"));return"svg"!==t&&"clipboard-svg"!==t?[3,7]:(ua=Xl,Ga=[x],Ua={exportBackground:fc,exportWithDarkMode:H.exportWithDarkMode,viewBackgroundColor:td,exportPadding:nd,scale:xe,
shouldAddWatermark:te},H.exportEmbedScene&&"svg"===t?[4,Promise.all([p.e(736),p.e(9)]).then(p.bind(p,8527))]:[3,3]);case 1:return[4,We.sent().encodeSvgMetadata({text:wm(x,H)})];case 2:return Na=We.sent(),[3,4];case 3:Na=void 0,We.label=4;case 4:return ya=ua.apply(void 0,Ga.concat([(Ua.metadata=Na,Ua)])),"svg"!==t?[3,6]:[4,ah(new Blob([ya.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(Dd,".svg"),extensions:[".svg"]})];case 5:return We.sent(),[2];case 6:if("clipboard-svg"===t)return Ob(ya.outerHTML),
[2];We.label=7;case 7:return(ob=Bm(x,H,{exportBackground:fc,viewBackgroundColor:td,exportPadding:nd,scale:xe,shouldAddWatermark:te})).style.display="none",document.body.appendChild(ob),"png"!==t?[3,13]:(vb="".concat(Dd,".png"),[4,Nm(ob)]);case 8:return wb=We.sent(),H.exportEmbedScene?[4,Promise.all([p.e(736),p.e(9)]).then(p.bind(p,8527))]:[3,11];case 9:return[4,We.sent().encodePngMetadata({blob:wb,metadata:wm(x,H)})];case 10:wb=We.sent(),We.label=11;case 11:return[4,ah(wb,{fileName:vb,extensions:[".png"]})];
case 12:return We.sent(),[3,17];case 13:if("clipboard"!==t)return[3,17];We.label=14;case 14:return We.trys.push([14,16,,17]),[4,Bb(ob)];case 15:return We.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(jc=We.sent()).name)throw jc;throw Error(Wb("alerts.couldNotCopyToClipboard"));case 17:return ob!==W&&ob.remove(),[2]}})});return function(t,x,H,W,ca){return e.apply(this,arguments)}}(),Vc=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===
Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},id,Cd,
fe;I({name:"changeProjectName",perform:function(e,t,x){return th("change","title"),{appState:bb(bb({},t),{},{name:x}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,x=e.updateData;return Z().createElement(Jh,{label:Wb("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(H){return x(H)}})}});I({name:"changeExportBackground",perform:function(e,t,x){return{appState:bb(bb({},t),{},{exportBackground:x}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,x=e.updateData;
return Z().createElement("label",null,Z().createElement("input",{type:"checkbox",checked:t.exportBackground,onChange:function(H){return x(H.target.checked)}})," ",Wb("labels.withBackground"))}});I({name:"changeExportEmbedScene",perform:function(e,t,x){return{appState:bb(bb({},t),{},{exportEmbedScene:x}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,x=e.updateData;return Z().createElement("label",{style:{display:"flex"}},Z().createElement("input",{type:"checkbox",checked:t.exportEmbedScene,
onChange:function(H){return x(H.target.checked)}})," ",Wb("labels.exportEmbedScene"),Z().createElement(Sk,{label:Wb("labels.exportEmbedScene_details"),position:"above",long:!0},Z().createElement("div",{className:"TooltipIcon"},kd)))}});I({name:"changeShouldAddWatermark",perform:function(e,t,x){return{appState:bb(bb({},t),{},{shouldAddWatermark:x}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,x=e.updateData;return Z().createElement("label",null,Z().createElement("input",{type:"checkbox",
checked:t.shouldAddWatermark,onChange:function(H){return x(H.target.checked)}})," ",Wb("labels.addWatermark"))}});I({name:"saveScene",perform:(id=Lb()(function(e,t,x){var H,W,ca;return Vc(this,function(ya){switch(ya.label){case 0:H=!!t.fileHandle,ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,km(e,t)];case 2:return W=ya.sent().fileHandle,[2,{commitToHistory:!1,appState:bb(bb({},t),{},{fileHandle:W,toastMessage:H?W.name?Wb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(W.name,'"')):
Wb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(ca=ya.sent())?void 0:ca.name)&&console.error(ca),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(e,t,x){return id.apply(this,arguments)}),keyTest:function(e){return"s"===e.key&&e[nf]&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData;return Z().createElement(sf,{type:"button",icon:Je,title:Wb("buttons.save"),"aria-label":Wb("buttons.save"),showAriaLabel:Xe(),onClick:function(){return t(null)}})}});I({name:"saveAsScene",
perform:(Cd=Lb()(function(e,t,x){var H,W;return Vc(this,function(ca){switch(ca.label){case 0:return ca.trys.push([0,2,,3]),[4,km(e,bb(bb({},t),{},{fileHandle:null}))];case 1:return H=ca.sent().fileHandle,[2,{commitToHistory:!1,appState:bb(bb({},t),{},{fileHandle:H})}];case 2:return"AbortError"!==(null==(W=ca.sent())?void 0:W.name)&&console.error(W),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(e,t,x){return Cd.apply(this,arguments)}),keyTest:function(e){return"s"===e.key&&e.shiftKey&&e[nf]},
PanelComponent:function(e){var t=e.updateData;return Z().createElement(sf,{type:"button",icon:Rk,title:Wb("buttons.saveAs"),"aria-label":Wb("buttons.saveAs"),showAriaLabel:Xe(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return t(null)}})}});I({name:"loadScene",perform:(fe=Lb()(function(e,t){var x,H,W,ca;return Vc(this,function(ya){switch(ya.label){case 0:return ya.trys.push([0,2,,3]),[4,mn(t)];case 1:return x=ya.sent(),H=x.elements,W=x.appState,
[2,{elements:H,appState:W,commitToHistory:!0}];case 2:return"AbortError"===(null==(ca=ya.sent())?void 0:ca.name)?[2,!1]:[2,{elements:e,appState:bb(bb({},t),{},{errorMessage:ca.message}),commitToHistory:!1}];case 3:return[2]}})}),function(e,t){return fe.apply(this,arguments)}),keyTest:function(e){return e[nf]&&"o"===e.key},PanelComponent:function(e){var t=e.updateData;e.appState;return Z().createElement(sf,{type:"button",icon:Ll,title:Wb("buttons.load"),"aria-label":Wb("buttons.load"),showAriaLabel:Xe(),
onClick:t})}});I({name:"exportWithDarkMode",perform:function(e,t,x){return{appState:bb(bb({},t),{},{exportWithDarkMode:x}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,x=e.updateData;return Z().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},Z().createElement($k,{value:t.exportWithDarkMode?"dark":"light",onChange:function(H){x("dark"===H)},title:Wb("labels.toggleExportColorScheme")}))}});var pe="{}",Qf=I({name:"copyStyles",
perform:function(e,t){e=e.find(function(x){return t.selectedElementIds[x.id]});return e&&(pe=JSON.stringify(e)),{appState:tb(tb({},t),{},{toastMessage:Wb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[nf]&&e.altKey&&"KeyC"===e.code}}),Df=I({name:"pasteStyles",perform:function(e,t){var x=JSON.parse(pe);return"text"!==(null==x?void 0:x.type)&&"diamond"!==(null==x?void 0:x.type)&&"rectangle"!==(null==x?void 0:x.type)&&"ellipse"!==(null==x?
void 0:x.type)&&"arrow"!==(null==x?void 0:x.type)&&"draw"!==(null==x?void 0:x.type)&&"line"!==(null==x?void 0:x.type)?{elements:e,commitToHistory:!1}:{elements:e.map(function(H){return t.selectedElementIds[H.id]?(H=Fg(H,{backgroundColor:null==x?void 0:x.backgroundColor,strokeWidth:null==x?void 0:x.strokeWidth,strokeColor:null==x?void 0:x.strokeColor,strokeStyle:null==x?void 0:x.strokeStyle,fillStyle:null==x?void 0:x.fillStyle,opacity:null==x?void 0:x.opacity,roughness:null==x?void 0:x.roughness}),
le(H)&&(of(H,{fontSize:(null==x?void 0:x.fontSize)||Xa.n5,fontFamily:(null==x?void 0:x.fontFamily)||Xa.rk,textAlign:(null==x?void 0:x.textAlign)||Xa.Hg}),yk(H)),H):H}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[nf]&&e.altKey&&"KeyV"===e.code}}),Zi=function(e){return Z().createElement("label",{title:"".concat(e.title," — ?"),className:"help-icon"},Z().createElement("div",{onClick:e.onClick},kd))};I({name:"toggleCanvasMenu",perform:function(e,t){return{appState:vc(vc({},
t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState;e=e.updateData;return Z().createElement(sf,{type:"button",icon:pi,"aria-label":Wb("buttons.menu"),onClick:e,selected:"canvas"===t.openMenu})}});I({name:"toggleEditMenu",perform:function(e,t){return{appState:vc(vc({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,x=e.appState;e=e.updateData;return Z().createElement(sf,
{visible:Bh(x,ne(t)),type:"button",icon:Th,"aria-label":Wb("buttons.edit"),onClick:e,selected:"shape"===x.openMenu})}});I({name:"toggleFullScreen",perform:function(){return ih()||document.documentElement.requestFullscreen(),ih()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(e){return"KeyF"===e.code&&!e[nf]}});I({name:"toggleShortcuts",perform:function(e,t){return{appState:vc(vc({},t),{},{showHelpDialog:!t.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(e){e=e.updateData;
return Z().createElement(Zi,{title:Wb("helpDialog.title"),onClick:e})},keyTest:function(e){return"?"===e.key}});var ul=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},Xk=function(e,t){e=Lf(ne(e),t);return 2<=e.length&&!function(x){if(2<=x.length)for(var H=function(ua){if(x.reduce(function(Ga,Ua){return Ga&&Ua.groupIds.includes(ua)},!0))return{value:!0}},W=0,ca=x[0].groupIds;W<ca.length;W++){var ya=H(ca[W]);if("object"==typeof ya)return ya.value}return!1}(e)},Gg=I({name:"group",
perform:function(e,t){var x=Lf(ne(e),t);if(2>x.length)return{appState:t,elements:e,commitToHistory:!1};var H=Ki(t);if(1===H.length&&(H=new Set(Li(e,H[0]).map(function(ya){return ya.id})),x=new Set(x.map(function(ya){return ya.id})),(new Set(ul(ul([],Array.from(H)),Array.from(x)))).size===H.size))return{appState:t,elements:e,commitToHistory:!1};var W=di();H=e.map(function(ya){if(t.selectedElementIds[ya.id]){var ua=t.editingGroupId;var Ga=Yk([],ya.groupIds);ua=ua?Ga.indexOf(ua):-1;Ga=(Ga.splice(-1<
ua?ua:Ga.length,0,W),Ga);ya=Fg(ya,{groupIds:Ga})}return ya});e=Li(H,W);var ca=H.lastIndexOf(e[e.length-1]);x=H.slice(ca+1);H=H.slice(0,ca).filter(function(ya){return!ya.groupIds.includes(W)});e=ul(ul(ul([],H),e),x);return{appState:Uj(W,Lc(Lc({},t),{},{selectedGroupIds:{}}),ne(e)),elements:e,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,t){return Xk(e,t)},keyTest:function(e){return!e.shiftKey&&e[nf]&&"KeyG"===e.code},PanelComponent:function(e){var t=e.elements,
x=e.appState,H=e.updateData;return Z().createElement(sf,{hidden:!Xk(t,x),type:"button",icon:Z().createElement(Xd,{appearance:x.appearance}),onClick:function(){return H(null)},title:"".concat(Wb("labels.group")," — ").concat(he("CtrlOrCmd+G")),"aria-label":Wb("labels.group"),visible:Hg(ne(t),x)})}}),jj=I({name:"ungroup",perform:function(e,t){if(0===Ki(t).length)return{appState:t,elements:e,commitToHistory:!1};e=e.map(function(x){var H=function(W,ca){return W.filter(function(ya){return!ca[ya]})}(x.groupIds,
t.selectedGroupIds);return H.length===x.groupIds.length?x:Fg(x,{groupIds:H})});return{appState:ei(Lc(Lc({},t),{},{selectedGroupIds:{}}),ne(e)),elements:e,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[nf]&&"KeyG"===e.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,t){return 0<Ki(t).length},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{type:"button",hidden:0===Ki(x).length,icon:Z().createElement(Ai,{appearance:x.appearance}),
onClick:function(){return H(null)},title:"".concat(Wb("labels.ungroup")," — ").concat(he("CtrlOrCmd+Shift+G")),"aria-label":Wb("labels.ungroup"),visible:Hg(ne(t),x)})}}),pl=(p(1395),function(e){var t=e.children,x=e.color,H=e.border;e=e.onClick;return Z().createElement("div",{className:"Avatar",style:{background:x,border:"1px solid ".concat(H)},onClick:e},t)});I({name:"goToCollaborator",perform:function(e,t,x){return x?{appState:gd(gd(gd({},t),ij({scenePoint:x,viewportDimensions:{width:t.width,height:t.height},
zoom:t.zoom})),{},{openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,x=e.updateData;e=e.id;if(!e)return null;var H=t.collaborators.get(e);if(!H)return null;e=Ej(e,t);t=e.background;e=e.stroke;var W=function(ca){if(!ca)return"?";ca=ca.trim().split(" ");return 2>ca.length?ca[0].substring(0,2).toUpperCase():(ca[0][0]+ca[ca.length-1][0]).toUpperCase()}(H.username);return Z().createElement(pl,{color:t,border:e,
onClick:function(){return x(H.pointer)}},W)}});var Rm=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},Fo=I({name:"addToLibrary",perform:function(e,t){var x=Lf(ne(e),t);return Yh.loadLibrary().then(function(H){Yh.saveLibrary(Rm(Rm([],H),[x.map(Vj)]))}),!1},contextItemLabel:"labels.addToLibrary"}),Gn=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},Zn=function(e){var t=new Map;return e.forEach(function(x){var H=0===x.groupIds.length?x.id:
x.groupIds[x.groupIds.length-1],W=t.get(H)||[];t.set(H,Gn(Gn([],W),[x]))}),Array.from(t.values())},$f=function(e,t,x){var H,W,ca,ya=x.axis;x=x.position;e=Wk(e);var ua="x"===ya?["minX","maxX"]:["minY","maxY"],Ga=ua[0];ua=ua[1];return Ac(Ac({},{x:0,y:0}),{},"start"===x?((H={})[ya]=t[Ga]-e[Ga],H):"end"===x?((W={})[ya]=t[ua]-e[ua],W):((ca={})[ya]=(t[Ga]+t[ua])/2-(e[Ga]+e[ua])/2,ca))},Wk=function(e){e=Ng(e);return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},Oi=function(e,t){return 1<Lf(ne(e),t).length},
vj=function(e,t,x){t=function(W,ca){var ya=Zn(W),ua=Wk(W);return ya.flatMap(function(Ga){var Ua=$f(Ga,ua,ca);return Ga.map(function(Na){return Fg(Na,{x:Na.x+Ua.x,y:Na.y+Ua.y})})})}(Lf(ne(e),t),x);var H=mj(t);return e.map(function(W){return H[W.id]||W})},qn=(I({name:"alignTop",perform:function(e,t){return{appState:t,elements:vj(e,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[nf]&&e.shiftKey&&"ArrowUp"===e.key},PanelComponent:function(e){var t=e.elements,x=e.appState,
H=e.updateData;return Z().createElement(sf,{hidden:!Oi(t,x),type:"button",icon:Z().createElement(Rg,{appearance:x.appearance}),onClick:function(){return H(null)},title:"".concat(Wb("labels.alignTop")," — ").concat(he("CtrlOrCmd+Shift+Up")),"aria-label":Wb("labels.alignTop"),visible:Hg(ne(t),x)})}}),I({name:"alignBottom",perform:function(e,t){return{appState:t,elements:vj(e,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[nf]&&e.shiftKey&&"ArrowDown"===e.key},PanelComponent:function(e){var t=
e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{hidden:!Oi(t,x),type:"button",icon:Z().createElement(bf,{appearance:x.appearance}),onClick:function(){return H(null)},title:"".concat(Wb("labels.alignBottom")," — ").concat(he("CtrlOrCmd+Shift+Down")),"aria-label":Wb("labels.alignBottom"),visible:Hg(ne(t),x)})}}),I({name:"alignLeft",perform:function(e,t){return{appState:t,elements:vj(e,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[nf]&&e.shiftKey&&
"ArrowLeft"===e.key},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{hidden:!Oi(t,x),type:"button",icon:Z().createElement(zj,{appearance:x.appearance}),onClick:function(){return H(null)},title:"".concat(Wb("labels.alignLeft")," — ").concat(he("CtrlOrCmd+Shift+Left")),"aria-label":Wb("labels.alignLeft"),visible:Hg(ne(t),x)})}}),I({name:"alignRight",perform:function(e,t){return{appState:t,elements:vj(e,t,{position:"end",axis:"x"}),commitToHistory:!0}},
keyTest:function(e){return e[nf]&&e.shiftKey&&"ArrowRight"===e.key},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{hidden:!Oi(t,x),type:"button",icon:Z().createElement(nm,{appearance:x.appearance}),onClick:function(){return H(null)},title:"".concat(Wb("labels.alignRight")," — ").concat(he("CtrlOrCmd+Shift+Right")),"aria-label":Wb("labels.alignRight"),visible:Hg(ne(t),x)})}}),I({name:"alignVerticallyCentered",perform:function(e,t){return{appState:t,
elements:vj(e,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{hidden:!Oi(t,x),type:"button",icon:Z().createElement(Uh,{appearance:x.appearance}),onClick:function(){return H(null)},title:Wb("labels.centerVertically"),"aria-label":Wb("labels.centerVertically"),visible:Hg(ne(t),x)})}}),I({name:"alignHorizontallyCentered",perform:function(e,t){return{appState:t,elements:vj(e,t,{position:"center",
axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{hidden:!Oi(t,x),type:"button",icon:Z().createElement(ld,{appearance:x.appearance}),onClick:function(){return H(null)},title:Wb("labels.centerHorizontally"),"aria-label":Wb("labels.centerHorizontally"),visible:Hg(ne(t),x)})}}),function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e}),aq=function(e){var t=new Map;return e.forEach(function(x){var H=
0===x.groupIds.length?x.id:x.groupIds[x.groupIds.length-1],W=t.get(H)||[];t.set(H,qn(qn([],W),[x]))}),Array.from(t.values())},mk=function(e){var t=Ng(e);e=t[0];var x=t[1],H=t[2];t=t[3];return{minX:e,minY:x,maxX:H,maxY:t,width:H-e,height:t-x,midX:(e+H)/2,midY:(x+t)/2}},Eo=function(e,t){return 1<Lf(ne(e),t).length},En=function(e,t,x){t=function(W,ca){var ya="x"===ca.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],ua=ya[0],Ga=ya[1],Ua=ya[2],Na=ya[3],ob=mk(W);W=aq(W).map(function(Dd){return[Dd,
mk(Dd)]}).sort(function(Dd,xe){return Dd[1][Ga]-xe[1][Ga]});for(var vb=ya=0;vb<W.length;vb++)ya+=W[vb][1][Na];var wb=(ob[Na]-ya)/(W.length-1);if(0>wb){var jc=W.findIndex(function(Dd){return Dd[1][ua]===ob[ua]}),fc=W.findIndex(function(Dd){return Dd[1][Ua]===ob[Ua]}),Fc=(W[fc][1][Ga]-W[jc][1][Ga])/(W.length-1),nd=W[jc][1][Ga];return W.flatMap(function(Dd,xe){var te=Dd[0];Dd=Dd[1];var We={x:0,y:0};return xe!==jc&&xe!==fc&&(nd+=Fc,We[ca.axis]=nd-Dd[Ga]),te.map(function(Ue){return Fg(Ue,{x:Ue.x+We.x,
y:Ue.y+We.y})})})}var td=ob[ua];return W.flatMap(function(Dd){var xe=Dd[0];Dd=Dd[1];var te={x:0,y:0};return te[ca.axis]=td-Dd[ua],td+=wb,td+=Dd[Na],xe.map(function(We){return Fg(We,{x:We.x+te.x,y:We.y+te.y})})})}(Lf(ne(e),t),x);var H=mj(t);return e.map(function(W){return H[W.id]||W})},Xn=(I({name:"distributeHorizontally",perform:function(e,t){return{appState:t,elements:En(e,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&"KeyH"===e.code},PanelComponent:function(e){var t=
e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{hidden:!Eo(t,x),type:"button",icon:Z().createElement($c,{appearance:x.appearance}),onClick:function(){return H(null)},title:"".concat(Wb("labels.distributeHorizontally")," — ").concat(he("Alt+H")),"aria-label":Wb("labels.distributeHorizontally"),visible:Hg(ne(t),x)})}}),I({name:"distributeVertically",perform:function(e,t){return{appState:t,elements:En(e,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&
"KeyV"===e.code},PanelComponent:function(e){var t=e.elements,x=e.appState,H=e.updateData;return Z().createElement(sf,{hidden:!Eo(t,x),type:"button",icon:Z().createElement(Rd,{appearance:x.appearance}),onClick:function(){return H(null)},title:"".concat(Wb("labels.distributeVertically")," — ").concat(he("Alt+V")),"aria-label":Wb("labels.distributeVertically"),visible:Hg(ne(t),x)})}}),function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===
Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya}),nn=
I({name:"copy",perform:function(e,t){return il(ne(e),t),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),$p=I({name:"cut",perform:function(e,t,x,H){return nn.perform(e,t,x,H),wa.perform(e,t,x,H)},contextItemLabel:"labels.cut",keyTest:function(e){return e[nf]&&"KeyX"===e.code}}),qp=I({name:"copyAsSvg",perform:function(){var e=Lb()(function(t,x,H,W){var ca,ya;return Xn(this,function(ua){switch(ua.label){case 0:if(!W.canvas)return[2,{commitToHistory:!1}];ca=Lf(ne(t),x);ua.label=1;case 1:return ua.trys.push([1,
3,,4]),[4,Gc("clipboard-svg",ca.length?ca:ne(t),x,W.canvas,x)];case 2:return ua.sent(),[2,{commitToHistory:!1}];case 3:return ya=ua.sent(),console.error(ya),[2,{appState:me(me({},x),{},{errorMessage:ya.message}),commitToHistory:!1}];case 4:return[2]}})});return function(t,x,H,W){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),pp=I({name:"copyAsPng",perform:function(){var e=Lb()(function(t,x,H,W){var ca,ya;return Xn(this,function(ua){switch(ua.label){case 0:if(!W.canvas)return[2,
{commitToHistory:!1}];ca=Lf(ne(t),x);ua.label=1;case 1:return ua.trys.push([1,3,,4]),[4,Gc("clipboard",ca.length?ca:ne(t),x,W.canvas,x)];case 2:return ua.sent(),[2,{appState:me(me({},x),{},{toastMessage:Wb("toast.copyToClipboardAsPng",{exportSelection:ca.length?Wb("toast.selection"):Wb("toast.canvas"),exportColorScheme:x.exportWithDarkMode?Wb("buttons.darkMode"):Wb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return ya=ua.sent(),console.error(ya),[2,{appState:me(me({},x),{},{errorMessage:ya.message}),
commitToHistory:!1}];case 4:return[2]}})});return function(t,x,H,W){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(e){return"KeyC"===e.code&&e.altKey&&e.shiftKey}}),np=I({name:"gridMode",perform:function(e,t){return th("view","mode","grid"),{appState:Wc(Wc({},t),{},{gridSize:this.checked(t)?null:Xa.k}),commitToHistory:!1}},checked:function(e){return null!==e.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[nf]&&"Quote"===e.code}}),
Ae=I({name:"zenMode",perform:function(e,t){return th("view","mode","zen"),{appState:Eb(Eb({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[nf]&&e.altKey&&"KeyZ"===e.code}}),Yn=I({name:"stats",perform:function(e,t){return{appState:bc(bc({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title"}),op=function(e,
t,x){if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){x=x();if(null===x)return{commitToHistory:!1};var H=mj(e),W=x.elements,ca=mj(W);e=e.filter(function(ya){return!ca.hasOwnProperty(ya.id)});W=W.map(function(ya){return Fg(H[ya.id]||ya,ya)}).concat(e.map(function(ya){return Fg(ya,{isDeleted:!0})}));return Cj(W,e),{elements:W,appState:ud(ud({},t),x.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},Am=function(){function e(t,x,H,W){var ca=this;this.actions=
{};this.renderAction=function(ya,ua){if(ca.actions[ya]&&"PanelComponent"in ca.actions[ya]){var Ga=ca.actions[ya];ya=Ga.PanelComponent;return Z().createElement(ya,{elements:ca.getElementsIncludingDeleted(),appState:ca.getAppState(),updateData:function(Ua){ca.updater(Ga.perform(ca.getElementsIncludingDeleted(),ca.getAppState(),Ua,ca.app))},id:ua})}return null};this.updater=function(ya){if(!(ya&&"then"in ya))return t(ya);ya.then(function(ua){return t(ua)})};this.getAppState=x;this.getElementsIncludingDeleted=
H;this.app=W}return e.prototype.registerAction=function(t){this.actions[t.name]=t},e.prototype.registerAll=function(t){var x=this;t.forEach(function(H){return x.registerAction(H)})},e.prototype.handleKeyDown=function(t){var x=this,H=Object.values(this.actions).sort(function(W,ca){return(ca.keyPriority||0)-(W.keyPriority||0)}).filter(function(W){return W.keyTest&&W.keyTest(t,x.getAppState(),x.getElementsIncludingDeleted())});return 0!==H.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Xa.EH).includes(H[0].name))&&
(t.preventDefault(),this.updater(H[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},e.prototype.executeAction=function(t){this.updater(t.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},e}(),Tm=function(e){e=Array.from(e.values());return{x:bo(e,function(t){return t.x})/e.length,y:bo(e,function(t){return t.y})/e.length}},$n=function(e){var t=e[0];e=e[1];return Math.hypot(t.x-e.x,t.y-e.y)},bo=function(e,t){return e.reduce(function(x,
H){return x+t(H)},0)},Go,bq=function(){function e(){var t=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(x,H){return t.dehydrateHistoryEntry({appState:{selectedElementIds:x.selectedElementIds,viewBackgroundColor:x.viewBackgroundColor,editingLinearElement:x.editingLinearElement,editingGroupId:x.editingGroupId,name:x.name},elements:H.reduce(function(W,ca){if(ff(ca)&&x.multiElement&&x.multiElement.id===ca.id){if(x.multiElement&&
x.multiElement.id===ca.id&&2>ca.points.length)return W;W.push(re(re({},ca),{},{points:ca.lastCommittedPoint!==ca.points[ca.points.length-1]?ca.points.slice(0,-1):ca.points}))}else W.push(ca);return W},[])})}}return e.prototype.hydrateHistoryEntry=function(t){var x=t.elements,H=this;return{appState:JSON.parse(t.appState),elements:x.map(function(W){var ca,ya=null===(ca=H.elementCache.get(W.id))||void 0===ca?void 0:ca.get(W.versionNonce);if(!ya)throw Error("Element not found: ".concat(W.id,":").concat(W.versionNonce));
return ya})}},e.prototype.dehydrateHistoryEntry=function(t){var x=t.elements,H=this;return{appState:JSON.stringify(t.appState),elements:x.map(function(W){H.elementCache.has(W.id)||H.elementCache.set(W.id,new Map);var ca=H.elementCache.get(W.id);return ca.has(W.versionNonce)||ca.set(W.versionNonce,Vj(W)),{id:W.id,versionNonce:W.versionNonce}})}},e.prototype.getSnapshotForTest=function(){var t=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(x){return t.hydrateHistoryEntry(x)}),
redoStack:this.redoStack.map(function(x){return t.hydrateHistoryEntry(x)})}},e.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},e.prototype.shouldCreateEntry=function(t){var x,H=this.lastEntry;if(!H||t.elements.length!==H.elements.length)return!0;for(var W=t.elements.length-1;-1<W;W--){var ca=t.elements[W],ya=H.elements[W];if(!ca||!ya||ca.id!==ya.id||ca.versionNonce!==ya.versionNonce)return!0}for(x in t.appState){var ua,Ga;
if(("editingLinearElement"!==x||(null===(ua=t.appState[x])||void 0===ua?void 0:ua.elementId)!==(null===(Ga=H.appState[x])||void 0===Ga?void 0:Ga.elementId))&&"selectedElementIds"!==x&&t.appState[x]!==H.appState[x])return!0}return!1},e.prototype.pushEntry=function(t,x){t=this.generateEntry(t,x);(x=this.hydrateHistoryEntry(t))&&this.shouldCreateEntry(x)&&(this.stateHistory.push(t),this.lastEntry=x,this.clearRedoStack())},e.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},
e.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var t=this.redoStack.pop();return void 0!==t?(this.stateHistory.push(t),this.hydrateHistoryEntry(t)):null},e.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var t=this.stateHistory.pop(),x=this.stateHistory[this.stateHistory.length-1];return void 0!==t?(this.redoStack.push(t),this.hydrateHistoryEntry(x)):null},e.prototype.setCurrentState=function(t,x){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(t,
x))},e.prototype.resumeRecording=function(){this.recording=!0},e.prototype.record=function(t,x){this.recording&&(this.pushEntry(t,x),this.recording=!1)},e}(),Cm=[{icon:Z().createElement("svg",{viewBox:"0 0 320 512",className:""},Z().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:Z().createElement("svg",{viewBox:"0 0 448 512"},Z().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:Z().createElement("svg",{viewBox:"0 0 223.646 223.646"},Z().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:Z().createElement("svg",{viewBox:"0 0 512 512"},Z().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:Z().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},Z().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:Z().createElement("svg",{viewBox:"0 0 6 6"},
Z().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:Z().createElement("svg",{viewBox:"0 0 512 512"},Z().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:Z().createElement("svg",{viewBox:"0 0 448 512"},Z().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Do=(p(4518),{cut:[he("CtrlOrCmd+X")],copy:[he("CtrlOrCmd+C")],
paste:[he("CtrlOrCmd+V")],copyStyles:[he("CtrlOrCmd+Alt+C")],pasteStyles:[he("CtrlOrCmd+Alt+V")],selectAll:[he("CtrlOrCmd+A")],deleteSelectedElements:[he("Del")],duplicateSelection:[he("CtrlOrCmd+D"),he("Alt+".concat(Wb("helpDialog.drag")))],sendBackward:[he("CtrlOrCmd+[")],bringForward:[he("CtrlOrCmd+]")],sendToBack:[he(ch?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[he(ch?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[he("Shift+Alt+C")],copyAsSvg:[],group:[he("CtrlOrCmd+G")],ungroup:[he("CtrlOrCmd+Shift+G")],
gridMode:[he("CtrlOrCmd+'")],zenMode:[he("Alt+Z")],stats:[],addToLibrary:[],viewMode:[he("Alt+R")]}),Zp=function(e){var t,x=e.options,H=e.onCloseRequest,W=e.top,ca=e.left,ya=e.actionManager,ua=e.appState;e=!(null===(t=document.querySelector(".excalidraw"))||void 0===t||!t.classList.contains("Appearance_dark"));return Z().createElement("div",{className:ad("excalidraw",{"Appearance_dark Appearance_dark-background-none":e})},Z().createElement(fb,{onCloseRequest:H,top:W,left:ca,fitInViewport:!0},Z().createElement("ul",
{className:"context-menu",onContextMenu:function(Ga){return Ga.preventDefault()}},x.map(function(Ga,Ua){var Na;if("separator"===Ga)return Z().createElement("hr",{key:Ua,className:"context-menu-option-separator"});var ob,vb=Ga.name,wb=Ga.contextItemLabel?Wb(Ga.contextItemLabel):"";return Z().createElement("li",{key:Ua,"data-testid":vb,onClick:H},Z().createElement("button",{className:ad("context-menu-option",{dangerous:"deleteSelectedElements"===vb,checkmark:null===(Na=Ga.checked)||void 0===Na?void 0:
Na.call(Ga,ua)}),onClick:function(){return ya.executeAction(Ga)}},Z().createElement("div",{className:"context-menu-option__label"},wb),Z().createElement("kbd",{className:"context-menu-option__shortcut"},vb?(ob=Do[vb])&&0<ob.length?ob[0]:"":"")))}))))},Co=function(){if(Go)return Go;var e=document.createElement("div");return document.body.appendChild(e),Go=e},Sm=function(){(0,ig.unmountComponentAtNode)(Co())};const Fn=function(e){var t=[];e.options.forEach(function(x){x&&t.push(x)});t.length&&(0,ig.render)(Z().createElement(Zp,
{top:e.top,left:e.left,options:t,onCloseRequest:Sm,actionManager:e.actionManager,appState:e.appState}),Co())};p(1575);const wl=function(e){var t=e.children,x=e.gap,H=e.align,W=e.justifyContent,ca=e.className;e=e.style;return Z().createElement("div",{className:ad("Stack Stack_horizontal",ca),style:ed({"--gap":x,alignItems:H,justifyContent:W},e)},t)},xl=function(e){var t=e.children,x=e.gap,H=e.align,W=e.justifyContent;e=e.className;return Z().createElement("div",{className:ad("Stack Stack_vertical",
e),style:{"--gap":x,justifyItems:H,justifyContent:W}},t)};var $q=function(e){var t=e.appState,x=e.renderAction,H=e.elementType;e=tk(ne(e.elements),t);t=!!t.editingElement;var W=Xe(),ca="rtl"===document.documentElement.getAttribute("dir"),ya=Zj(H)||e.some(function(Ga){return Zj(Ga.type)&&(Ua=Ga.backgroundColor,Na=5===Ua.length&&"0"===Ua.substr(4,1),ob=9===Ua.length&&"00"===Ua.substr(7,2),!(Na||ob||Ua===mg.elementBackground[0]));var Ua,Na,ob}),ua=Zj(H)||e.some(function(Ga){return Zj(Ga.type)});return Z().createElement("div",
{className:"panelColumn"},x("changeStrokeColor"),ua&&x("changeBackgroundColor"),ya&&x("changeFillStyle"),(jg(H)||e.some(function(Ga){return jg(Ga.type)}))&&Z().createElement(Z().Fragment,null,x("changeStrokeWidth"),x("changeStrokeStyle"),x("changeSloppiness")),(zk(H)||e.some(function(Ga){return zk(Ga.type)}))&&Z().createElement(Z().Fragment,null,x("changeSharpness")),("text"===H||e.some(function(Ga){return"text"===Ga.type}))&&Z().createElement(Z().Fragment,null,x("changeFontSize"),x("changeFontFamily"),
x("changeTextAlign")),("arrow"===H||e.some(function(Ga){return"arrow"===Ga.type}))&&Z().createElement(Z().Fragment,null,x("changeArrowhead")),x("changeOpacity"),Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.layers")),Z().createElement("div",{className:"buttonList"},x("sendToBack"),x("sendBackward"),x("bringToFront"),x("bringForward"))),1<e.length&&Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.align")),Z().createElement("div",{className:"buttonList"},
ca?Z().createElement(Z().Fragment,null,x("alignRight"),x("alignHorizontallyCentered"),x("alignLeft")):Z().createElement(Z().Fragment,null,x("alignLeft"),x("alignHorizontallyCentered"),x("alignRight")),2<e.length&&x("distributeHorizontally"),Z().createElement("div",{className:"iconRow"},x("alignTop"),x("alignVerticallyCentered"),x("alignBottom"),2<e.length&&x("distributeVertically")))),!W&&!t&&0<e.length&&Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.actions")),Z().createElement("div",
{className:"buttonList"},x("duplicateSelection"),x("deleteSelectedElements"),x("group"),x("ungroup"))))},Sr=Z().createElement("svg",{viewBox:"0 0 512 512"},Z().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
Yp=function(e){var t=e.canvas,x=e.elementType,H=e.setAppState,W=e.isLibraryOpen;return Z().createElement(Z().Fragment,null,Cm.map(function(ca,ya){var ua=ca.value,Ga=ca.icon,Ua=ca.key;ca=Wb("toolBar.".concat(ua));Ua="".concat(tj("string"==typeof Ua?Ua:Ua[0])," ").concat(Wb("helpDialog.or")," ").concat(ya+1);return Z().createElement(sf,{className:"Shape",key:ua,type:"radio",icon:Ga,checked:x===ua,name:"editor-current-shape",title:"".concat(tj(ca)," — ").concat(Ua),keyBindingLabel:"".concat(ya+1),"aria-label":tj(ca),
"aria-keyshortcuts":Ua,"data-testid":ua,onChange:function(){H({elementType:ua,multiElement:null,selectedElementIds:{}});Hi(t,ua);H({})}})}),Z().createElement(sf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Sr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(tj(Wb("toolBar.library"))," — 9"),"aria-label":tj(Wb("toolBar.library")),onClick:function(){H({isLibraryOpen:!W})}}))},Rr=function(e){var t=e.renderAction;e=e.zoom;return Z().createElement(xl,
{gap:1},Z().createElement(wl,{gap:1,align:"center"},t("zoomIn"),t("zoomOut"),t("resetZoom"),Z().createElement("div",{style:{marginInlineStart:4}},(100*e.value).toFixed(0),"%")))},Zq=function(e){var t=e.appState,x=e.setAppState;e=e.actionManager;return Z().createElement("div",{style:{display:"flex"}},e.renderAction("changeViewBackgroundColor"),Z().createElement("div",{style:{marginInlineStart:"0.25rem"}},Z().createElement($k,{value:t.appearance,onChange:function(H){x({appearance:H})}})))};p(3211);
const ar=function(e){var t=e.isCollaborating,x=e.collaboratorCount;e=e.onClick;return Z().createElement(Z().Fragment,null,Z().createElement(sf,{className:ad("CollabButton",{"is-collaborating":t}),onClick:e,icon:Ti,type:"button",title:Wb("labels.liveCollaboration"),"aria-label":Wb("labels.liveCollaboration"),showAriaLabel:Xe()},0<x&&Z().createElement("div",{className:"CollabButton-collaborators"},x)))};p(3040);p(7428);var Al=Z().forwardRef(function(e,t){var x=e.children,H=e.padding,W=e.className;e=
e.style;return Z().createElement("div",{className:ad("Island",W),style:yb({"--padding":H},e),ref:t},x)}),Tr=(p(205),function(e){var t=rp();return t?(0,ig.createPortal)(Z().createElement("div",{className:ad("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(x){"Escape"===x.key&&(x.nativeEvent.stopImmediatePropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy},Z().createElement("div",{className:"Modal__background",onClick:e.onCloseRequest}),Z().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")}},e.children)),t):null}),rp=function(){var e=(0,fa.useState)(null),t=e[0],x=e[1];return(0,fa.useLayoutEffect)(function(){var H,W=!(null===(H=document.querySelector(".excalidraw"))||void 0===H||!H.classList.contains("Appearance_dark")),ca=document.createElement("div");return ca.classList.add("excalidraw","excalidraw-modal-container"),W&&(ca.classList.add("Appearance_dark"),ca.classList.add("Appearance_dark-background-none")),
document.body.appendChild(ca),x(ca),function(){document.body.removeChild(ca)}},[]),t},F=function(e){var t=function(){var W=(0,fa.useState)(null),ca=W[1];return[W[0],(0,fa.useCallback)(function(ya){return ca(ya)},[])]}(),x=t[0];t=t[1];(0,fa.useEffect)(function(){if(x){var W=H(x);0<W.length&&!1!==e.autofocus&&(W[1]||W[0]).focus();var ca=function(ya){if("Tab"===ya.key){var ua=H(x),Ga=document.activeElement,Ua=ua.findIndex(function(Na){return Na===Ga});0===Ua&&ya.shiftKey?(ua[ua.length-1].focus(),ya.preventDefault()):
Ua!==ua.length-1||ya.shiftKey||(ua[0].focus(),ya.preventDefault())}};return x.addEventListener("keydown",ca),function(){return x.removeEventListener("keydown",ca)}}},[x,e.autofocus]);var H=function(W){return(W=W.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(W):[]};return Z().createElement(Tr,{className:ad("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:e.onCloseRequest},Z().createElement(Al,{ref:t},Z().createElement("h2",
{id:"dialog-title",className:"Dialog__title"},Z().createElement("span",{className:"Dialog__titleContent"},e.title),Z().createElement("button",{className:"Modal__close",onClick:e.onCloseRequest,"aria-label":Wb("buttons.close")},Xe()?Ui:gi)),Z().createElement("div",{className:"Dialog__content"},e.children)))},Q=function(e){var t=e.message,x=e.onClose,H=(0,fa.useState)(!!t);e=H[0];var W=H[1];H=Z().useCallback(function(){W(!1);x&&x()},[x]);return Z().createElement(Z().Fragment,null,e&&Z().createElement(F,
{small:!0,onCloseRequest:H,title:Wb("errorDialog.title")},Z().createElement("div",null,t.split("\n").map(function(ca){return Z().createElement(Z().Fragment,null,ca,Z().createElement("br",null))}))))},oa=(p(8623),[1,2,3]),La=oa.includes(devicePixelRatio)?devicePixelRatio:1,eb="filter"in document.createElement("canvas").getContext("2d"),xb=function(){return Z().createElement("div",null,Z().createElement("h3",null,Wb("canvasError.cannotShowPreview")),Z().createElement("p",null,Z().createElement("span",
null,Wb("canvasError.canvasTooBig"))),Z().createElement("em",null,"(",Wb("canvasError.canvasTooBigTip"),")"))},Nb=function(e,t){(0,ig.unmountComponentAtNode)(t);t.innerHTML="";e instanceof HTMLCanvasElement?t.appendChild(e):(0,ig.render)(Z().createElement(xb,null),t)},hc=function(e){var t=e.elements,x=e.appState,H=e.exportPadding,W=void 0===H?10:H;H=e.actionManager;var ca=e.onExportToPng,ya=e.onExportToSvg,ua=e.onExportToClipboard,Ga=e.onExportToBackend,Ua=Hg(t,x);e=(0,fa.useState)(La);var Na=e[0],
ob=e[1];e=(0,fa.useState)(Ua);var vb=e[0],wb=e[1],jc=(0,fa.useRef)(null),fc=x.exportBackground,Fc=x.viewBackgroundColor,nd=x.shouldAddWatermark,td=vb?Lf(t,x):t;return(0,fa.useEffect)(function(){wb(Ua)},[Ua]),(0,fa.useEffect)(function(){var Dd=jc.current;if(Dd)try{var xe=Bm(td,x,{exportBackground:fc,viewBackgroundColor:Fc,exportPadding:W,scale:Na,shouldAddWatermark:nd});Nm(xe).then(function(){Nb(xe,Dd)}).catch(function(te){console.error(te);Nb(new on,Dd)})}catch(te){console.error(te),Nb(new on,Dd)}},
[x,td,fc,W,Fc,Na,nd]),Z().createElement("div",{className:"ExportDialog"},Z().createElement("div",{className:"ExportDialog__preview",ref:jc}),eb&&H.renderAction("exportWithDarkMode"),Z().createElement(xl,{gap:2,align:"center"},Z().createElement("div",{className:"ExportDialog__actions"},Z().createElement(wl,{gap:2},Z().createElement(sf,{type:"button",label:"PNG",title:Wb("buttons.exportToPng"),"aria-label":Wb("buttons.exportToPng"),onClick:function(){return ca(td,Na)}}),Z().createElement(sf,{type:"button",
label:"SVG",title:Wb("buttons.exportToSvg"),"aria-label":Wb("buttons.exportToSvg"),onClick:function(){return ya(td,Na)}}),jl&&Z().createElement(sf,{type:"button",icon:Bk,title:Wb("buttons.copyPngToClipboard"),"aria-label":Wb("buttons.copyPngToClipboard"),onClick:function(){return ua(td,Na)}}),Ga&&Z().createElement(sf,{type:"button",icon:qj,title:Wb("buttons.getShareableLink"),"aria-label":Wb("buttons.getShareableLink"),onClick:function(){return Ga(td)}})),Z().createElement("div",{className:"ExportDialog__name"},
H.renderAction("changeProjectName")),Z().createElement(wl,{gap:2},oa.map(function(Dd){var xe=function(We,Ue,vf,Jd){We=Wn(We,vf);Ue=jn(We,Ue,vf).map(function(je){return Math.trunc(je*Jd)});return[Ue[2],Ue[3]]}(td,W,nd,Dd),te=xe[0];xe=xe[1];te="".concat(Wb("buttons.scale")," ").concat(Dd,"x (").concat(te,"x").concat(xe,")");return Z().createElement(sf,{key:Dd,size:"s",type:"radio",icon:"".concat(Dd,"x"),name:"export-canvas-scale",title:te,"aria-label":te,id:"export-canvas-scale",checked:Dd===Na,onChange:function(){return ob(Dd)}})}))),
H.renderAction("changeExportBackground"),Ua&&Z().createElement("div",null,Z().createElement("label",null,Z().createElement("input",{type:"checkbox",checked:vb,onChange:function(Dd){return wb(Dd.currentTarget.checked)}})," ",Wb("labels.onlySelected"))),H.renderAction("changeExportEmbedScene"),H.renderAction("changeShouldAddWatermark")))},Hc=function(e){var t=e.elements,x=e.appState,H=e.exportPadding;H=void 0===H?10:H;var W=e.actionManager,ca=e.onExportToPng,ya=e.onExportToSvg,ua=e.onExportToClipboard;
e=e.onExportToBackend;var Ga=(0,fa.useState)(!1),Ua=Ga[0],Na=Ga[1],ob=(0,fa.useRef)(null);Ga=Z().useCallback(function(){var vb;Na(!1);null===(vb=ob.current)||void 0===vb||vb.focus()},[]);return Z().createElement(Z().Fragment,null,Z().createElement(sf,{onClick:function(){Na(!0)},icon:vh,type:"button","aria-label":Wb("buttons.export"),showAriaLabel:Xe(),title:Wb("buttons.export"),ref:ob}),Ua&&Z().createElement(F,{onCloseRequest:Ga,title:Wb("buttons.export")},Z().createElement(hc,{elements:t,appState:x,
exportPadding:H,actionManager:W,onExportToPng:ca,onExportToSvg:ya,onExportToClipboard:ua,onExportToBackend:e,onCloseRequest:Ga})))},jd=(p(4193),function(e){var t=e.children,x=e.side;e=e.className;return Z().createElement("div",{className:ad("FixedSideContainer","FixedSideContainer_side_".concat(x),e)},t)}),De=Z().memo(function(e){e=e.appearance;return Z().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},Z().createElement("a",
{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},Z().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===e?Ie.MA[6]:Ie.MA[8]}),Z().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===e?Ie.ix:Ie.Sn}),Z().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===e?Ie.ix:Ie.Sn})))}),Xf=(p(9705),function(e){return(e=function(t){var x=t.appState,H=t.elements,W=x.elementType;t=x.isResizing;var ca=x.isRotating,ya=x.lastPointerDownWith,ua=null!==x.multiElement;if("arrow"===W||"line"===W)return Wb(ua?"hints.linearElementMulti":"hints.linearElement");if("draw"===W)return Wb("hints.freeDraw");if("text"===W)return Wb("hints.text");H=Lf(H,x);return t&&"mouse"===ya&&1===H.length?(x=H[0],ff(x)&&2===x.points.length?Wb("hints.lockAngle"):Wb("hints.resize")):
ca&&"mouse"===ya?Wb("hints.rotate"):1===H.length&&ff(H[0])?x.editingLinearElement?x.editingLinearElement.activePointIndex?Wb("hints.lineEditor_pointSelected"):Wb("hints.lineEditor_nothingSelected"):Wb("hints.lineEditor_info"):null}({appState:e.appState,elements:e.elements}))?(e=he(e),Z().createElement("div",{className:"HintViewer"},Z().createElement("span",null,e))):null}),Nd=(p(8465),p(8680),Z().createElement("svg",{viewBox:"0 0 1792 1792"},Z().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
Ye=function(e){var t=e.elements,x=e.pendingElements,H=e.onRemoveFromLibrary;e=e.onClick;var W=(0,fa.useRef)(null);(0,fa.useEffect)(function(){var Ua=t||x;if(Ua){var Na=Xl(Ua,{exportBackground:!1,viewBackgroundColor:Ie.ix,shouldAddWatermark:!1});Ua=0;for(var ob=W.current.children;Ua<ob.length;Ua++){var vb=ob[Ua];"svg"===vb.tagName&&W.current.removeChild(vb)}W.current.appendChild(Na);var wb=W.current;return function(){wb.removeChild(Na)}}},[t,x]);var ca=(0,fa.useState)(!1),ya=ca[0],ua=ca[1];ca=Xe();
var Ga=(ya||ca)&&x&&Z().createElement("div",{className:"library-unit__adder"},Nd);return Z().createElement("div",{className:ad("library-unit",{"library-unit__active":t||x}),onMouseEnter:function(){return ua(!0)},onMouseLeave:function(){return ua(!1)}},Z().createElement("div",{className:ad("library-unit__dragger",{"library-unit__pulse":!!x}),ref:W,draggable:!!t,onClick:t||x?e:void 0,onDragStart:function(Ua){ua(!1);Ua.dataTransfer.setData(Xa.LO.excalidrawlib,JSON.stringify(t))}}),Ga,t&&(ya||ca)&&Z().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":Wb("labels.removeFromLibrary"),onClick:H},gi))},Yf=Z().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},Z().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),Jf=Z().createElement("svg",{width:"1792",height:"1792",
viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},Z().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),bd=function(e){return Z().createElement("label",{className:ad("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(e.size||"m"),{"zen-mode-visibility--hidden":e.zenModeEnabled}),title:"".concat(e.title," — Q")},Z().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,id:e.id,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),Z().createElement("div",{className:"ToolIcon__icon"},e.checked?Yf:Jf))},Mc=function(e){var t=e.heading,x=e.children;e=li()(e,["heading","children"]);var H=Z().createElement("h2",{className:"visually-hidden",id:"".concat(t,
"-title")},Wb("headings.".concat(t)));return Z().createElement("section",Od()({},e,{"aria-labelledby":"".concat(t,"-title")}),"function"==typeof x?x(H):Z().createElement(Z().Fragment,null,H,x))},Yc=(p(3142),function(e){var t=e.children,x=e.className;e=e.mobile;return Z().createElement("div",{className:ad("UserList",x,{UserList_mobile:e})},t)}),Fd=function(e){var t=e.appState,x=e.elements,H=e.libraryMenu,W=e.actionManager,ca=e.exportButton,ya=e.setAppState,ua=e.onCollabButtonClick,Ga=e.onLockToggle,
Ua=e.canvas,Na=e.isCollaborating,ob=e.renderCustomFooter;e=e.viewModeEnabled;return Z().createElement(Z().Fragment,null,!e&&Z().createElement(jd,{side:"top",className:"App-top-bar"},Z().createElement(Mc,{heading:"shapes"},function(vb){return Z().createElement(xl,{gap:4,align:"center"},Z().createElement(wl,{gap:1},Z().createElement(Al,{padding:1},vb,Z().createElement(wl,{gap:1},Z().createElement(Yp,{canvas:Ua,elementType:t.elementType,setAppState:ya,isLibraryOpen:t.isLibraryOpen}))),Z().createElement(bd,
{checked:t.elementLocked,onChange:Ga,title:Wb("toolBar.lock")})),H)}),Z().createElement(Xf,{appState:t,elements:x})),Z().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},Z().createElement(Al,{padding:0},"canvas"===t.openMenu?Z().createElement(Mc,{className:"App-mobile-menu",heading:"canvasActions"},Z().createElement("div",{className:"panelColumn"},Z().createElement(xl,{gap:4},e?Z().createElement(Z().Fragment,null,W.renderAction("saveScene"),W.renderAction("saveAsScene"),
ca):Z().createElement(Z().Fragment,null,W.renderAction("loadScene"),W.renderAction("saveScene"),W.renderAction("saveAsScene"),ca,W.renderAction("clearCanvas"),ua&&Z().createElement(ar,{isCollaborating:Na,collaboratorCount:t.collaborators.size,onClick:ua}),Z().createElement(Zq,{actionManager:W,appState:t,setAppState:ya})),null==ob?void 0:ob(!0),0<t.collaborators.size&&Z().createElement("fieldset",null,Z().createElement("legend",null,Wb("labels.collaborators")),Z().createElement(Yc,{mobile:!0},Array.from(t.collaborators).filter(function(vb){vb[0];
return 0!==Object.keys(vb[1]).length}).map(function(vb){var wb=vb[0];vb[1];return Z().createElement(Z().Fragment,{key:wb},W.renderAction("goToCollaborator",wb))})))))):"shape"===t.openMenu&&!e&&Bh(t,x)?Z().createElement(Mc,{className:"App-mobile-menu",heading:"selectedShapeActions"},Z().createElement($q,{appState:t,elements:x,renderAction:W.renderAction,elementType:t.elementType})):null,Z().createElement("footer",{className:"App-toolbar"},e?Z().createElement("div",{className:"App-toolbar-content"},
W.renderAction("toggleCanvasMenu")):Z().createElement("div",{className:"App-toolbar-content"},W.renderAction("toggleCanvasMenu"),W.renderAction("toggleEditMenu"),W.renderAction("undo"),W.renderAction("redo"),W.renderAction(t.multiElement?"finalize":"duplicateSelection"),W.renderAction("deleteSelectedElements")),t.scrolledOutside&&!t.openMenu&&Z().createElement("button",{className:"scroll-back-to-content",onClick:function(){ya(function(vb){for(var wb=1;wb<arguments.length;wb++){var jc=null!=arguments[wb]?
arguments[wb]:{};wb%2?Id(Object(jc),!0).forEach(function(fc){Me()(vb,fc,jc[fc])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vb,Object.getOwnPropertyDescriptors(jc)):Id(Object(jc)).forEach(function(fc){Object.defineProperty(vb,fc,Object.getOwnPropertyDescriptor(jc,fc))})}return vb}({},$h(x,t)))}},Wb("buttons.scrollBackToContent"))))))},Kd=(p(8416),function(e){var t=(0,fa.useRef)(null),x=(0,fa.useState)(null),H=x[0],W=x[1];return(0,fa.useLayoutEffect)(function(){if(e.spreadsheet){var ca=
Un(e.chartType,e.spreadsheet,0,0);W(ca);var ya=Xl(ca,{exportBackground:!1,viewBackgroundColor:Ie.ix,shouldAddWatermark:!1}),ua=t.current;return ua.appendChild(ya),e.selected&&ua.parentNode.focus(),function(){ua.removeChild(ya)}}},[e.spreadsheet,e.chartType,e.selected]),Z().createElement("button",{className:"ChartPreview",onClick:function(){H&&e.onClick(e.chartType,H)}},Z().createElement("div",{ref:t}))}),fg=function(e){var t=e.setAppState,x=e.appState,H=e.onClose,W=e.onInsertChart;e=Z().useCallback(function(){H&&
H()},[H]);var ca=function(ya,ua){W(ua);th("magic","chart",ya);t({currentChartType:ya,pasteDialog:{shown:!1,data:null}})};return Z().createElement(F,{small:!0,onCloseRequest:e,title:Wb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},Z().createElement("div",{className:"container"},Z().createElement(Kd,{chartType:"bar",spreadsheet:x.pasteDialog.data,selected:"bar"===x.currentChartType,onClick:ca}),Z().createElement(Kd,{chartType:"line",spreadsheet:x.pasteDialog.data,selected:"line"===
x.currentChartType,onClick:ca})))},Qe=(p(341),function(){return Z().createElement("div",{className:"HelpDialog--header"},Z().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},Wb("helpDialog.documentation")),Z().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},Wb("helpDialog.blog")),Z().createElement("a",{className:"HelpDialog--btn",
href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},Wb("helpDialog.github")))}),gg=function(e){return Z().createElement(Z().Fragment,null,Z().createElement("h3",null,e.title),e.children)},Lg=function(e){return Z().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},e.children)},lg=function(e){return Z().createElement("div",{style:{width:"49%"}},e.children)},ym=function(e){return Z().createElement("div",
{className:"HelpDialog--island"},Z().createElement("h3",{className:"HelpDialog--island-title"},e.caption),e.children)},Tf=function(e){return Z().createElement("div",{className:"HelpDialog--shortcut"},Z().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},Z().createElement("div",{style:{lineHeight:1.4}},e.label),Z().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},e.shortcuts.map(function(t,
x){return Z().createElement(Z().Fragment,{key:x},Z().createElement(bu,null,t),e.isOr&&x!==e.shortcuts.length-1&&Wb("helpDialog.or"))}))))};Tf.defaultProps={isOr:!0};var bu=function(e){return Z().createElement("kbd",Od()({className:"HelpDialog--key"},e))},cu=function(e){var t=e.onClose;e=Z().useCallback(function(){t&&t()},[t]);return Z().createElement(Z().Fragment,null,Z().createElement(F,{onCloseRequest:e,title:Wb("helpDialog.title"),className:"HelpDialog"},Z().createElement(Qe,null),Z().createElement(gg,
{title:Wb("helpDialog.shortcuts")},Z().createElement(Lg,null,Z().createElement(lg,null,Z().createElement(ym,{caption:Wb("helpDialog.shapes")},Z().createElement(Tf,{label:Wb("toolBar.selection"),shortcuts:["V","1"]}),Z().createElement(Tf,{label:Wb("toolBar.rectangle"),shortcuts:["R","2"]}),Z().createElement(Tf,{label:Wb("toolBar.diamond"),shortcuts:["D","3"]}),Z().createElement(Tf,{label:Wb("toolBar.ellipse"),shortcuts:["E","4"]}),Z().createElement(Tf,{label:Wb("toolBar.arrow"),shortcuts:["A","5"]}),
Z().createElement(Tf,{label:Wb("toolBar.line"),shortcuts:["P","6"]}),Z().createElement(Tf,{label:Wb("toolBar.draw"),shortcuts:["Shift+P","7"]}),Z().createElement(Tf,{label:Wb("toolBar.text"),shortcuts:["T","8"]}),Z().createElement(Tf,{label:Wb("helpDialog.textNewLine"),shortcuts:[he("Enter"),he("Shift+Enter")]}),Z().createElement(Tf,{label:Wb("helpDialog.textFinish"),shortcuts:[he("Esc"),he("CtrlOrCmd+Enter")]}),Z().createElement(Tf,{label:Wb("helpDialog.curvedArrow"),shortcuts:["A",Wb("helpDialog.click"),
Wb("helpDialog.click"),Wb("helpDialog.click")],isOr:!1}),Z().createElement(Tf,{label:Wb("helpDialog.curvedLine"),shortcuts:["L",Wb("helpDialog.click"),Wb("helpDialog.click"),Wb("helpDialog.click")],isOr:!1}),Z().createElement(Tf,{label:Wb("toolBar.lock"),shortcuts:["Q"]}),Z().createElement(Tf,{label:Wb("helpDialog.preventBinding"),shortcuts:[he("CtrlOrCmd")]})),Z().createElement(ym,{caption:Wb("helpDialog.view")},Z().createElement(Tf,{label:Wb("buttons.zoomIn"),shortcuts:[he("CtrlOrCmd++")]}),Z().createElement(Tf,
{label:Wb("buttons.zoomOut"),shortcuts:[he("CtrlOrCmd+-")]}),Z().createElement(Tf,{label:Wb("buttons.resetZoom"),shortcuts:[he("CtrlOrCmd+0")]}),Z().createElement(Tf,{label:Wb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),Z().createElement(Tf,{label:Wb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),Z().createElement(Tf,{label:Wb("buttons.fullScreen"),shortcuts:["F"]}),Z().createElement(Tf,{label:Wb("buttons.zenMode"),shortcuts:[he("Alt+Z")]}),Z().createElement(Tf,{label:Wb("labels.showGrid"),
shortcuts:[he("CtrlOrCmd+'")]}),Z().createElement(Tf,{label:Wb("labels.viewMode"),shortcuts:[he("Alt+R")]}))),Z().createElement(lg,null,Z().createElement(ym,{caption:Wb("helpDialog.editor")},Z().createElement(Tf,{label:Wb("labels.selectAll"),shortcuts:[he("CtrlOrCmd+A")]}),Z().createElement(Tf,{label:Wb("labels.multiSelect"),shortcuts:[he("Shift+".concat(Wb("helpDialog.click")))]}),Z().createElement(Tf,{label:Wb("labels.moveCanvas"),shortcuts:[he("Space+".concat(Wb("helpDialog.drag"))),he("Wheel+".concat(Wb("helpDialog.drag")))],
isOr:!0}),Z().createElement(Tf,{label:Wb("labels.cut"),shortcuts:[he("CtrlOrCmd+X")]}),Z().createElement(Tf,{label:Wb("labels.copy"),shortcuts:[he("CtrlOrCmd+C")]}),Z().createElement(Tf,{label:Wb("labels.paste"),shortcuts:[he("CtrlOrCmd+V")]}),Z().createElement(Tf,{label:Wb("labels.copyAsPng"),shortcuts:[he("Shift+Alt+C")]}),Z().createElement(Tf,{label:Wb("labels.copyStyles"),shortcuts:[he("CtrlOrCmd+Alt+C")]}),Z().createElement(Tf,{label:Wb("labels.pasteStyles"),shortcuts:[he("CtrlOrCmd+Alt+V")]}),
Z().createElement(Tf,{label:Wb("labels.delete"),shortcuts:[he("Del")]}),Z().createElement(Tf,{label:Wb("labels.sendToBack"),shortcuts:[he(ch?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),Z().createElement(Tf,{label:Wb("labels.bringToFront"),shortcuts:[he(ch?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),Z().createElement(Tf,{label:Wb("labels.sendBackward"),shortcuts:[he("CtrlOrCmd+[")]}),Z().createElement(Tf,{label:Wb("labels.bringForward"),shortcuts:[he("CtrlOrCmd+]")]}),Z().createElement(Tf,{label:Wb("labels.alignTop"),
shortcuts:[he("CtrlOrCmd+Shift+Up")]}),Z().createElement(Tf,{label:Wb("labels.alignBottom"),shortcuts:[he("CtrlOrCmd+Shift+Down")]}),Z().createElement(Tf,{label:Wb("labels.alignLeft"),shortcuts:[he("CtrlOrCmd+Shift+Left")]}),Z().createElement(Tf,{label:Wb("labels.alignRight"),shortcuts:[he("CtrlOrCmd+Shift+Right")]}),Z().createElement(Tf,{label:Wb("labels.duplicateSelection"),shortcuts:[he("CtrlOrCmd+D"),he("Alt+".concat(Wb("helpDialog.drag")))]}),Z().createElement(Tf,{label:Wb("buttons.undo"),shortcuts:[he("CtrlOrCmd+Z")]}),
Z().createElement(Tf,{label:Wb("buttons.redo"),shortcuts:Fj?[he("CtrlOrCmd+Y"),he("CtrlOrCmd+Shift+Z")]:[he("CtrlOrCmd+Shift+Z")]}),Z().createElement(Tf,{label:Wb("labels.group"),shortcuts:[he("CtrlOrCmd+G")]}),Z().createElement(Tf,{label:Wb("labels.ungroup"),shortcuts:[he("CtrlOrCmd+Shift+G")]})))))))},Vr=function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=
W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&
ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Qs=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,
W++)e[W]=t[x];return e},$t=function(e){var t=e.library,x=e.onRemoveFromLibrary,H=e.onAddToLibrary,W=e.onInsertShape,ca=e.pendingElements,ya=e.setAppState,ua=e.setLibraryItems;e=Xe()?4:6;var Ga=Math.max(1,Math.ceil((t.length+(0<ca.length?1:0))/e)),Ua=[],Na=!1;Ua.push(Z().createElement("div",{className:"layer-ui__library-header"},Z().createElement(sf,{key:"import",type:"button",title:Wb("buttons.load"),"aria-label":Wb("buttons.load"),icon:Ll,onClick:function(){lp().then(function(){ya({isLibraryOpen:!1})}).catch(jk).catch(function(Fc){ya({errorMessage:Fc.message})})}}),
Z().createElement(sf,{key:"export",type:"button",title:Wb("buttons.export"),"aria-label":Wb("buttons.export"),icon:vh,onClick:function(){xm().catch(jk).catch(function(Fc){ya({errorMessage:Fc.message})})}}),Z().createElement(sf,{key:"reset",type:"button",title:Wb("buttons.resetLibrary"),"aria-label":Wb("buttons.resetLibrary"),icon:Si,onClick:function(){window.confirm(Wb("alerts.resetLibrary"))&&(Yh.resetLibrary(),ua([]))}}),Z().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
Wb("labels.libraries"))));for(var ob=0;ob<Ga;ob++){for(var vb=e*ob,wb=[],jc=0;jc<e;jc++){var fc=0<ca.length&&!Na&&vb+jc>=t.length;Na=Na||fc;wb.push(Z().createElement(xl,{key:jc},Z().createElement(Ye,{elements:t[vb+jc],pendingElements:fc?ca:void 0,onRemoveFromLibrary:x.bind(null,vb+jc),onClick:fc?H.bind(null,ca):W.bind(null,t[vb+jc])})))}Ua.push(Z().createElement(wl,{align:"center",gap:1,key:ob},wb))}return Z().createElement(xl,{align:"start",gap:1,className:"layer-ui__library-items"},Ua)},au=function(e){var t=
e.onClickOutside,x=e.onInsertShape,H=e.pendingElements,W=e.onAddToLibrary;e=e.setAppState;var ca=(0,fa.useRef)(null);!function(wb,jc){(0,fa.useEffect)(function(){var fc=function(Fc){wb.current&&(Fc.target instanceof Element&&(wb.current.contains(Fc.target)||!document.body.contains(Fc.target))||jc(Fc))};return document.addEventListener("pointerdown",fc,!1),function(){document.removeEventListener("pointerdown",fc)}},[wb,jc])}(ca,function(wb){wb.target.closest(".ToolIcon_type_button__library")||t(wb)});
var ya=(0,fa.useState)([]),ua=ya[0],Ga=ya[1],Ua=(0,fa.useState)("preloading");ya=Ua[0];var Na=Ua[1],ob=(0,fa.useRef)(null);(0,fa.useEffect)(function(){return Promise.race([new Promise(function(wb){ob.current=setTimeout(function(){wb("loading")},100)}),Yh.loadLibrary().then(function(wb){Ga(wb);Na("ready")})]).then(function(wb){"loading"===wb&&Na("loading")}),function(){clearTimeout(ob.current)}},[]);Ua=(0,fa.useCallback)(function(){var wb=Lb()(function(jc){var fc,Fc;return Vr(this,function(nd){switch(nd.label){case 0:return[4,
Yh.loadLibrary()];case 1:return fc=nd.sent(),Fc=fc.filter(function(td,Dd){return Dd!==jc}),Yh.saveLibrary(Fc),Ga(Fc),[2]}})});return function(jc){return wb.apply(this,arguments)}}(),[]);var vb=(0,fa.useCallback)(function(){var wb=Lb()(function(jc){var fc,Fc;return Vr(this,function(nd){switch(nd.label){case 0:return[4,Yh.loadLibrary()];case 1:return fc=nd.sent(),Fc=Qs(Qs([],fc),[jc]),W(),Yh.saveLibrary(Fc),Ga(Fc),[2]}})});return function(jc){return wb.apply(this,arguments)}}(),[W]);return"preloading"===
ya?null:Z().createElement(Al,{padding:1,ref:ca,className:"layer-ui__library"},"loading"===ya?Z().createElement("div",{className:"layer-ui__library-message"},Wb("labels.libraryLoadingMessage")):Z().createElement($t,{library:ua,onRemoveFromLibrary:Ua,onAddToLibrary:vb,onInsertShape:x,pendingElements:H,setAppState:e,setLibraryItems:Ga}))};const Yt=Z().memo(function(e){var t,x=e.actionManager,H=e.appState,W=e.setAppState,ca=e.canvas,ya=e.elements,ua=e.onCollabButtonClick,Ga=e.onLockToggle,Ua=e.onInsertElements,
Na=e.zenModeEnabled,ob=e.showExitZenModeBtn,vb=e.toggleZenMode,wb=e.isCollaborating,jc=e.onExportToBackend,fc=e.renderCustomFooter;e=e.viewModeEnabled;var Fc=Xe(),nd=function(){var te=function(We){return function(){var Ue=Lb()(function(vf,Jd){return Vr(this,function(je){switch(je.label){case 0:return ca?[4,Gc(We,vf,H,ca,{exportBackground:H.exportBackground,name:H.name,viewBackgroundColor:H.viewBackgroundColor,scale:Jd,shouldAddWatermark:H.shouldAddWatermark}).catch(jk).catch(function(se){console.error(se);
W({errorMessage:se.message})})]:[3,2];case 1:je.sent(),je.label=2;case 2:return[2]}})});return function(vf,Jd){return Ue.apply(this,arguments)}}()};return Z().createElement(Hc,{elements:ya,appState:H,actionManager:x,onExportToPng:te("png"),onExportToSvg:te("svg"),onExportToClipboard:te("clipboard"),onExportToBackend:jc?function(We){jc&&jc(We,H,ca)}:void 0})},td=(0,fa.useCallback)(function(te){W({isLibraryOpen:!1})},[W]),Dd=(0,fa.useCallback)(function(){W({selectedElementIds:{},selectedGroupIds:{}})},
[W]),xe=H.isLibraryOpen?Z().createElement(au,{pendingElements:Lf(ya,H),onClickOutside:td,onInsertShape:Ua,onAddToLibrary:Dd,setAppState:W}):null;Ua=Z().createElement(Z().Fragment,null,H.isLoading&&Z().createElement(sg,null),H.errorMessage&&Z().createElement(Q,{message:H.errorMessage,onClose:function(){return W({errorMessage:null})}}),H.showHelpDialog&&Z().createElement(cu,{onClose:function(){return W({showHelpDialog:!1})}}),H.pasteDialog.shown&&Z().createElement(fg,{setAppState:W,appState:H,onInsertChart:Ua,
onClose:function(){return W({pasteDialog:{shown:!1,data:null}})}}));return Fc?Z().createElement(Z().Fragment,null,Ua,Z().createElement(Fd,{appState:H,elements:ya,actionManager:x,libraryMenu:xe,exportButton:nd(),setAppState:W,onCollabButtonClick:ua,onLockToggle:Ga,canvas:ca,isCollaborating:wb,renderCustomFooter:fc,viewModeEnabled:e})):Z().createElement("div",{className:ad("layer-ui__wrapper",{"disable-pointerEvents":H.draggingElement||H.resizingElement||H.editingElement&&!le(H.editingElement)})},Ua,
(t=Bh(H,ya),Z().createElement(jd,{side:"top"},Z().createElement("div",{className:"App-menu App-menu_top"},Z().createElement(xl,{gap:4,className:ad({"disable-pointerEvents":Na})},e?Z().createElement(Mc,{heading:"canvasActions",className:ad("zen-mode-transition",{"transition-left":Na})},Z().createElement(Al,{padding:2,style:{zIndex:1}},Z().createElement(xl,{gap:4},Z().createElement(wl,{gap:1,justifyContent:"space-between"},x.renderAction("saveScene"),x.renderAction("saveAsScene"),nd())))):Z().createElement(Mc,
{heading:"canvasActions",className:ad("zen-mode-transition",{"transition-left":Na})},Z().createElement(Al,{padding:2,style:{zIndex:1}},Z().createElement(xl,{gap:4},Z().createElement(wl,{gap:1,justifyContent:"space-between"},x.renderAction("loadScene"),x.renderAction("saveScene"),x.renderAction("saveAsScene"),nd(),x.renderAction("clearCanvas"),ua&&Z().createElement(ar,{isCollaborating:wb,collaboratorCount:H.collaborators.size,onClick:ua})),Z().createElement(Zq,{actionManager:x,appState:H,setAppState:W})))),
t&&Z().createElement(Mc,{heading:"selectedShapeActions",className:ad("zen-mode-transition",{"transition-left":Na})},Z().createElement(Al,{className:Xa.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(H.height-200,"px")}},Z().createElement($q,{appState:H,elements:ya,renderAction:x.renderAction,elementType:H.elementType})))),!e&&Z().createElement(Mc,{heading:"shapes"},function(te){return Z().createElement(xl,{gap:4,align:"start"},Z().createElement(wl,{gap:1},Z().createElement(Al,{padding:1,
className:ad({"zen-mode":Na})},Z().createElement(Xf,{appState:H,elements:ya}),te,Z().createElement(wl,{gap:1},Z().createElement(Yp,{canvas:ca,elementType:H.elementType,setAppState:W,isLibraryOpen:H.isLibraryOpen}))),Z().createElement(bd,{zenModeEnabled:Na,checked:H.elementLocked,onChange:Ga,title:Wb("toolBar.lock")})),xe)}),Z().createElement(Yc,{className:ad("zen-mode-transition",{"transition-right":Na})},0<H.collaborators.size&&Array.from(H.collaborators).filter(function(te){te[0];return 0!==Object.keys(te[1]).length}).map(function(te){var We=
te[0];te=te[1];return Z().createElement(Sk,{label:te.username||"Unknown user",key:We},x.renderAction("goToCollaborator",We))}))))),Z().createElement("div",{className:ad("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Na})},Z().createElement(xl,{gap:2},Z().createElement(Mc,{heading:"canvasActions"},Z().createElement(Al,{padding:1},Z().createElement(Rr,{renderAction:x.renderAction,zoom:H.zoom})),Z().createElement("a",{className:ad("encrypted-icon tooltip zen-mode-visibility",
{"zen-mode-visibility--hidden":Na}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},Z().createElement(Sk,{label:Wb("encrypted.tooltip"),position:"above",long:!0},Sg))))),Z().createElement("aside",{className:ad("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Na})},Z().createElement(De,{appearance:H.appearance})),Z().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},Z().createElement("div",
{className:ad("zen-mode-transition",{"transition-right disable-pointerEvents":Na})},null==fc?void 0:fc(!1),x.renderAction("toggleShortcuts")),Z().createElement("button",{className:ad("disable-zen-mode",{"disable-zen-mode--visible":ob}),onClick:vb},Wb("buttons.exitZenMode"))),H.scrolledOutside&&Z().createElement("button",{className:"scroll-back-to-content",onClick:function(){W(function(te){for(var We=1;We<arguments.length;We++){var Ue=null!=arguments[We]?arguments[We]:{};We%2?tf(Object(Ue),!0).forEach(function(vf){Me()(te,
vf,Ue[vf])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(Ue)):tf(Object(Ue)).forEach(function(vf){Object.defineProperty(te,vf,Object.getOwnPropertyDescriptor(Ue,vf))})}return te}({},$h(ya,H)))}},Wb("buttons.scrollBackToContent")))},function(e,t){var x=function(ca){ca.suggestedBindings;ca.startBoundElement;return li()(ca,["suggestedBindings","startBoundElement"])},H=x(e.appState),W=x(t.appState);x=Object.keys(H);return e.renderCustomFooter===t.renderCustomFooter&&
e.langCode===t.langCode&&e.elements===t.elements&&x.every(function(ca){return H[ca]===W[ca]})});var Ps=function(){try{var e=localStorage.getItem("excalidraw");return e?JSON.stringify(e).length:0}catch(t){return console.error(t),0}},Zt=(p(7287),function(e,t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;
switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();
ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya}),Rs=ai(function(e){var t=Ps();try{var x=localStorage.getItem("excalidraw-state"),H=localStorage.getItem("excalidraw-collab"),W=localStorage.getItem(Xa.I.LOCAL_STORAGE_LIBRARY);
var ca=(x?JSON.stringify(x).length:0)+(H?JSON.stringify(H).length:0)+(W?JSON.stringify(W).length:0)+Ps()}catch(ya){ca=(console.error(ya),0)}e({scene:t,total:ca})},500),du=function(e){var t=Xe(),x=(0,fa.useState)({scene:0,total:0}),H=x[0],W=x[1];(0,fa.useEffect)(function(){Rs(function(Ua){W(Ua)})});(0,fa.useEffect)(function(){return function(){return Rs.cancel()}},[]);x=Ng(e.elements);var ca=tk(e.elements,e.appState),ya=Ng(ca);if(t&&e.appState.openMenu)return null;var ua,Ga;t=Zf();return t!==Xa.eQ?
(Ga=t.slice(0,16).replace("T"," "),ua=t.slice(21)):Ga=Wb("stats.versionNotAvailable"),Z().createElement("div",{className:"Stats"},Z().createElement(Al,{padding:2},Z().createElement("div",{className:"close",onClick:e.onClose},gi),Z().createElement("h3",null,Wb("stats.title")),Z().createElement("table",null,Z().createElement("tbody",null,Z().createElement("tr",null,Z().createElement("th",{colSpan:2},Wb("stats.scene"))),Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.elements")),Z().createElement("td",
null,e.elements.length)),Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.width")),Z().createElement("td",null,Math.round(x[2])-Math.round(x[0]))),Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.height")),Z().createElement("td",null,Math.round(x[3])-Math.round(x[1]))),Z().createElement("tr",null,Z().createElement("th",{colSpan:2},Wb("stats.storage"))),Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.scene")),Z().createElement("td",null,kl(H.scene,
1))),Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.total")),Z().createElement("td",null,kl(H.total,1))),1===ca.length&&Z().createElement("tr",null,Z().createElement("th",{colSpan:2},Wb("stats.element"))),1<ca.length&&Z().createElement(Z().Fragment,null,Z().createElement("tr",null,Z().createElement("th",{colSpan:2},Wb("stats.selected"))),Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.elements")),Z().createElement("td",null,ca.length))),0<ca.length&&Z().createElement(Z().Fragment,
null,Z().createElement("tr",null,Z().createElement("td",null,"x"),Z().createElement("td",null,Math.round(1===ca.length?ca[0].x:ya[0]))),Z().createElement("tr",null,Z().createElement("td",null,"y"),Z().createElement("td",null,Math.round(1===ca.length?ca[0].y:ya[1]))),Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.width")),Z().createElement("td",null,Math.round(1===ca.length?ca[0].width:ya[2]-ya[0]))),Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.height")),Z().createElement("td",
null,Math.round(1===ca.length?ca[0].height:ya[3]-ya[1])))),1===ca.length&&Z().createElement("tr",null,Z().createElement("td",null,Wb("stats.angle")),Z().createElement("td",null,"".concat(Math.round(180*ca[0].angle/Math.PI),"°"))),Z().createElement("tr",null,Z().createElement("th",{colSpan:2},Wb("stats.version"))),Z().createElement("tr",null,Z().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Lb()(function(){return Zt(this,function(Ua){switch(Ua.label){case 0:return Ua.trys.push([0,
2,,3]),[4,Ob(Zf())];case 1:return Ua.sent(),e.setAppState({toastMessage:Wb("toast.copyToClipboard")}),[3,3];case 2:return Ua.sent(),[3,3];case 3:return[2]}})}),title:Wb("stats.versionCopy")},Ga,Z().createElement("br",null),ua))))))},eu=(p(5849),function(e){var t=e.message,x=e.clearToast,H=(0,fa.useRef)(0),W=(0,fa.useCallback)(function(){return H.current=window.setTimeout(function(){return x()},Xa.Lg)},[x]);return(0,fa.useEffect)(function(){return W(),function(){return clearTimeout(H.current)}},[W,
t]),Z().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==H?void 0:H.current)},onMouseLeave:W},Z().createElement("p",{className:"Toast__message"},t))}),Ss=I({name:"viewMode",perform:function(e,t){return th("view","mode","view"),{appState:rg(rg({},t),{},{viewModeEnabled:!this.checked(t),selectedElementIds:{}}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[nf]&&e.altKey&&"KeyR"===
e.code}}),fu=function(){var e=function(t,x){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,W){H.__proto__=W}||function(H,W){for(var ca in W)Object.prototype.hasOwnProperty.call(W,ca)&&(H[ca]=W[ca])})(t,x)};return function(t,x){function H(){this.constructor=t}if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");e(t,x);t.prototype=null===x?Object.create(x):(H.prototype=x.prototype,new H)}}(),Xo=function(e,
t){function x(Ga){return function(Ua){return function(Na){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,W&&(ca=2&Na[0]?W.return:Na[0]?W.throw||((ca=W.return)&&ca.call(W),0):W.next)&&!(ca=ca.call(W,Na[1])).done)return ca;switch(W=0,ca&&(Na=[2&Na[0],ca.value]),Na[0]){case 0:case 1:ca=Na;break;case 4:return ua.label++,{value:Na[1],done:!1};case 5:ua.label++;W=Na[1];Na=[0];continue;case 7:Na=ua.ops.pop();ua.trys.pop();continue;default:if(!(ca=ua.trys,(ca=0<ca.length&&
ca[ca.length-1])||6!==Na[0]&&2!==Na[0])){ua=0;continue}if(3===Na[0]&&(!ca||Na[1]>ca[0]&&Na[1]<ca[3]))ua.label=Na[1];else if(6===Na[0]&&ua.label<ca[1])ua.label=ca[1],ca=Na;else if(ca&&ua.label<ca[2])ua.label=ca[2],ua.ops.push(Na);else{ca[2]&&ua.ops.pop();ua.trys.pop();continue}}Na=t.call(e,ua)}catch(ob){Na=[6,ob],W=0}finally{H=ca=0}if(5&Na[0])throw Na[1];return{value:Na[0]?Na[1]:void 0,done:!0}}([Ga,Ua])}}var H,W,ca,ya,ua={label:0,sent:function(){if(1&ca[0])throw ca[1];return ca[1]},trys:[],ops:[]};
return ya={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Gh=function(e,t){for(var x=0,H=t.length,W=e.length;x<H;x++,W++)e[W]=t[x];return e},dl=new bq,qq=!1,Xr=0,Cp=0,Dp=0,Yo=!1,rq=!1,Yr=!1,Zr={horizontal:null,vertical:null},go=0,cq=!1,fo=null,Ql=new Map,sp=null,cr=null,tp=null,Wr=function(e){function t(x){var H=this;var W=H=e.call(this,x)||this;Ut.call(H);var ca,ya,ua,Ga=Lh(),Ua=x.width,Na=void 0===Ua?window.innerWidth:Ua;Ua=x.height;
var ob=void 0===Ua?window.innerHeight:Ua,vb=x.offsetLeft,wb=x.offsetTop;Ua=x.excalidrawRef;var jc=x.viewModeEnabled;jc=void 0!==jc&&jc;var fc=x.zenModeEnabled;fc=void 0!==fc&&fc;x=x.gridModeEnabled;x=void 0!==x&&x;if(H.state=$a($a($a({},Ga),{},{isLoading:!0,width:Na,height:ob},H.getCanvasOffsets({offsetLeft:vb,offsetTop:wb})),{},{viewModeEnabled:jc,zenModeEnabled:fc,gridSize:x?Xa.k:null}),Ua){var Fc;Ga="current"in Ua&&(null===(Fc=Ua.current)||void 0===Fc?void 0:Fc.readyPromise)||((ua=new Promise(function(nd,
td){ca=nd;ya=td})).resolve=ca,ua.reject=ya,ua);ua={ready:!0,readyPromise:Ga,updateScene:H.updateScene,resetScene:H.resetScene,getSceneElementsIncludingDeleted:H.getSceneElementsIncludingDeleted,history:{clear:H.resetHistory},setScrollToCenter:H.setScrollToCenter,getSceneElements:H.getSceneElements,getAppState:function(){return W.state}};"function"==typeof Ua?Ua(ua):Ua.current=ua;Ga.resolve(ua)}return H.scene=new Ph,H.actionManager=new Am(H.syncActionResult,function(){return W.state},function(){return W.scene.getElementsIncludingDeleted()},
H),H.actionManager.registerAll(q),H.actionManager.registerAction({name:"undo",perform:function(nd,td){return op(nd,td,function(){return dl.undoOnce()})},keyTest:function(nd){return nd[nf]&&"z"===nd.key.toLowerCase()&&!nd.shiftKey},PanelComponent:function(nd){nd=nd.updateData;return Z().createElement(sf,{type:"button",icon:Bd,"aria-label":Wb("buttons.undo"),onClick:nd})},commitToHistory:function(){return!1}}),H.actionManager.registerAction(function(nd){return{name:"redo",perform:function(td,Dd){return op(td,
Dd,function(){return nd.redoOnce()})},keyTest:function(td){return td[nf]&&td.shiftKey&&"z"===td.key.toLowerCase()||Fj&&td.ctrlKey&&!td.shiftKey&&"y"===td.key},PanelComponent:function(td){td=td.updateData;return Z().createElement(sf,{type:"button",icon:Pj,"aria-label":Wb("buttons.redo"),onClick:td})},commitToHistory:function(){return!1}}}(dl)),H}return fu(t,e),t.prototype.renderCanvas=function(){var x=window.devicePixelRatio,H=this.state,W=H.width,ca=H.height,ya=W*x;x*=ca;return H.viewModeEnabled?
Z().createElement("canvas",{id:"canvas",style:{width:W,height:ca,cursor:"grabbing"},width:ya,height:x,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},Wb("labels.drawingCanvas")):Z().createElement("canvas",{id:"canvas",style:{width:W,height:ca},width:ya,height:x,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},Wb("labels.drawingCanvas"))},t.prototype.render=function(){var x,H=this,W=this.state,ca=W.zenModeEnabled,ya=W.width,ua=W.height;W=W.viewModeEnabled;var Ga=this.props,Ua=Ga.onCollabButtonClick,Na=Ga.onExportToBackend;Ga=Ga.renderFooter;var ob=
ya/2,vb=ua/2;return Z().createElement("div",{className:ad("excalidraw",{"excalidraw--view-mode":W}),ref:this.excalidrawContainerRef,style:{width:ya,height:ua}},Z().createElement(Yt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Ua,onLockToggle:this.toggleLock,onInsertElements:function(wb){return H.addElementsFromPasteOrLibrary(wb,ob,vb)},zenModeEnabled:ca,toggleZenMode:this.toggleZenMode,langCode:xf.code,
isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Na,renderCustomFooter:Ga,viewModeEnabled:W,showExitZenModeBtn:void 0===(null===(x=this.props)||void 0===x?void 0:x.zenModeEnabled)&&ca}),Z().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&Z().createElement(du,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&Z().createElement(eu,{message:this.state.toastMessage,
clearToast:this.clearToast}),Z().createElement("main",null,this.renderCanvas()))},t.prototype.componentDidMount=function(){var x=this;return Lb()(function(){return Xo(this,function(H){return"production"!==Xa.Vi.TEST&&"production"!==Xa.Vi.DEVELOPMENT||(x.setState.bind(x),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return x.state}},setState:{configurable:!0,value:function(){for(var W=[],ca=0;ca<arguments.length;ca++)W[ca]=arguments[ca];return x.setState.apply(x,W)}},app:{configurable:!0,
value:x}})),x.scene.addCallback(x.onSceneUpdated),x.addEventListeners(),"number"==typeof x.props.offsetLeft&&"number"==typeof x.props.offsetTop?x.initializeScene():x.setState(x.getCanvasOffsets(x.props),function(){x.initializeScene()}),[2]})})()},t.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},t.prototype.removeEventListeners=function(){document.removeEventListener(Xa.Ks.COPY,this.onCopy);document.removeEventListener(Xa.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(Xa.Ks.CUT,this.onCut);document.removeEventListener(Xa.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Xa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(Xa.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Xa.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Xa.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Xa.Ks.BLUR,this.onBlur,!1);window.removeEventListener(Xa.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(Xa.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Xa.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Xa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(Xa.Ks.GESTURE_END,this.onGestureEnd,!1)},t.prototype.addEventListeners=function(){var x,H;this.removeEventListeners();document.addEventListener(Xa.Ks.COPY,this.onCopy);document.addEventListener(Xa.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(Xa.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(Xa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(x=document.fonts)||void 0===x||null===(H=x.addEventListener)||void 0===H||H.call(x,"loadingdone",this.onFontLoaded);document.addEventListener(Xa.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Xa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Xa.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(Xa.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(Xa.Ks.CUT,this.onCut),document.addEventListener(Xa.Ks.SCROLL,this.onScroll),window.addEventListener(Xa.Ks.RESIZE,this.onResize,!1),window.addEventListener(Xa.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Xa.Ks.BLUR,this.onBlur,!1),window.addEventListener(Xa.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Xa.Ks.DROP,this.disableEvent,!1))},t.prototype.componentDidUpdate=function(x,H){var W,ca,ya,ua,Ga=this;(x.langCode!==this.props.langCode&&
this.updateLanguage(),x.width!==this.props.width||x.height!==this.props.height||"number"==typeof this.props.offsetLeft&&x.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&x.offsetTop!==this.props.offsetTop)&&this.setState($a({width:null!==(ya=this.props.width)&&void 0!==ya?ya:window.innerWidth,height:null!==(ua=this.props.height)&&void 0!==ua?ua:window.innerHeight},this.getCanvasOffsets(this.props)));x.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);H.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();x.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});x.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Xa.k:null});null===(W=document.querySelector(".excalidraw"))||void 0===W||W.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){Ga.actionManager.executeAction(Cg)});x=H.multiElement;H.elementType!==this.state.elementType&&null!=x&&this.state.isBindingEnabled&&vg(x)&&Jj(x,this.state,this.scene,Pg(yg.getPointAtIndexGlobalCoordinates(x,-1)));var Ua={},Na={},ob={},vb={},wb={};this.state.collaborators.forEach(function(Fc,nd){if(Fc.selectedElementIds)for(var td=0,Dd=Object.keys(Fc.selectedElementIds);td<Dd.length;td++){var xe=Dd[td];xe in ob||(ob[xe]=[]);ob[xe].push(nd)}Fc.pointer&&(Fc.username&&(vb[nd]=Fc.username),
Fc.userState&&(wb[nd]=Fc.userState),Na[nd]=lh({sceneX:Fc.pointer.x,sceneY:Fc.pointer.y},Ga.state),Ua[nd]=Fc.button)});H=this.scene.getElements();W=hn(H.filter(function(Fc){return!Ga.state.editingElement||"text"!==Ga.state.editingElement.type||Fc.id!==Ga.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Na,
remotePointerButton:Ua,remoteSelectedElementIds:ob,remotePointerUsernames:vb,remotePointerUserStates:wb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!Of().matches});x=W.atLeastOneVisibleElement;(W=W.scrollBars)&&(Zr=W);var jc,fc;H="text"!==(null===(ca=this.state.editingElement)||void 0===ca?void 0:ca.type)&&!x&&0<H.length;(this.state.scrolledOutside!==H&&this.setState({scrolledOutside:H}),dl.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(jc=(fc=this.props).onChange)||void 0===jc||jc.call(fc,this.scene.getElementsIncludingDeleted(),this.state)},t.resetTapTwice=function(){qq=!1},t.prototype.addTextFromPaste=function(x){var H,W=xg({clientX:Cp,clientY:Dp},this.state);x=Hj({x:W.x,y:W.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:x,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Xa.hs});this.scene.replaceAllElements(Gh(Gh([],this.scene.getElementsIncludingDeleted()),[x]));this.setState({selectedElementIds:(H={},H[x.id]=!0,H)});dl.resumeRecording()},t.prototype.selectShapeTool=function(x){var H;Yo||
Hi(this.canvas,x);(H=document.activeElement)instanceof HTMLElement&&H.className.includes("ToolIcon")&&document.activeElement.blur();rj(x)||this.setState({suggestedBindings:[]});"selection"!==x?this.setState({elementType:x,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:x})},t.prototype.handleTextWysiwyg=function(x,H){H=H.isExistingElement;var W=void 0!==H&&H,ca=this,ya=function(ua,Ga){void 0===Ga&&(Ga=!1);ca.scene.replaceAllElements(Gh([],ca.scene.getElementsIncludingDeleted().map(function(Ua){if(Ua.id===
x.id&&le(Ua)){var Na=Ga;Na={text:ua,isDeleted:null!=Na?Na:Ua.isDeleted};var ob=hj(ua,gj(Ua));var vb=ob.width;var wb=ob.height;ob=ob.baseline;var jc=Ua.textAlign;var fc=Ua.verticalAlign;if("center"===jc&&"middle"===fc)jc=hj(Ua.text,gj(Ua)),fc=mi(Ua,{width:vb-jc.width,height:wb-jc.height}),jc=Ua.x-fc.x,fc=Ua.y-fc.y;else{var Fc=wg(Ua);fc=Fc[0];var nd=Fc[1],td=Fc[2];Fc=Fc[3];var Dd=hh(Ua,vb,wb);jc=(fc=kg({s:!0,e:"center"===jc||"left"===jc,w:"center"===jc||"right"===jc},Ua.x,Ua.y,Ua.angle,(fc-Dd[0])/2,
(nd-Dd[1])/2,(td-Dd[2])/2,(Fc-Dd[3])/2))[0];fc=fc[1]}vb={width:vb,height:wb,x:Number.isFinite(jc)?jc:Ua.x,y:Number.isFinite(fc)?fc:Ua.y,baseline:ob};Ua=Fg(Ua,Ia(Na,vb))}return Ua})))};!function(ua){var Ga=ua.id,Ua=ua.appState,Na=ua.onChange,ob=ua.onSubmit,vb=ua.getViewportCoords,wb=ua.element;ua=ua.canvas;var jc=function(){var Ue,vf=null===(Ue=Ph.getScene(wb))||void 0===Ue?void 0:Ue.getElement(Ga);if(vf&&le(vf)){Ue=vb(vf.x,vf.y);var Jd=Ue[0],je=Ue[1];Ue=vf.textAlign;var se=vf.angle;fc.value=vf.text;
var lf=vf.text.replace(/\r\n?/g,"\n").split("\n"),ni=vf.height/lf.length;lf=(Ua.offsetLeft+Ua.width-Jd-8)/Ua.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var Qi=Object,vk=Qi.assign,Mj=fc.style,bm=gj(vf);ni="".concat(ni,"px");var sn="".concat(vf.width,"px"),om="".concat(vf.height,"px");Jd="".concat(Jd,"px");je="".concat(je,"px");var tn=vf.width;var Um=Ua.zoom,eo=180*se/Math.PI;se=(tn-2*Ua.offsetLeft)*(Um.value-1)/2;var Vm=(vf.height-
2*Ua.offsetTop)*(Um.value-1)/2;tn=(tn>lf&&1!==Um.value&&(se=lf/2*(Um.value-1)),"translate(".concat(se,"px, ").concat(Vm,"px) scale(").concat(Um.value,") rotate(").concat(eo,"deg)"));vk.call(Qi,Mj,{font:bm,lineHeight:ni,width:sn,height:om,left:Jd,top:je,transform:tn,textAlign:Ue,color:vf.strokeColor,opacity:vf.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(lf,"px")})}},fc=document.createElement("textarea");fc.dir="auto";fc.tabIndex=0;fc.dataset.type="wysiwyg";fc.wrap="off";Object.assign(fc.style,
{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});jc();Na&&(fc.oninput=function(){Na(Qk(fc.value))});fc.onkeydown=function(Ue){"Escape"===Ue.key?(Ue.preventDefault(),nd()):"Enter"===Ue.key&&Ue[nf]?(Ue.preventDefault(),Ue.isComposing||229===Ue.keyCode)||nd():"Enter"!==Ue.key||Ue.altKey||Ue.stopPropagation()};var Fc=function(Ue){Ue.preventDefault();
Ue.stopPropagation()},nd=function(){ob(Qk(fc.value));te||(te=!0,fc.onblur=null,fc.oninput=null,fc.onkeydown=null,We&&We.disconnect(),window.removeEventListener("resize",jc),window.removeEventListener("wheel",Fc,!0),window.removeEventListener("pointerdown",Dd),window.removeEventListener("pointerup",td),window.removeEventListener("blur",nd),xe(),fc.remove())},td=function(){window.removeEventListener("pointerup",td);setTimeout(function(){fc.onblur=nd;fc.focus()})},Dd=function(Ue){Ue.target instanceof
HTMLElement&&Ue.target.closest(".".concat(Xa.$C.SHAPE_ACTIONS_MENU))&&!Og(Ue.target)&&(fc.onblur=null,window.addEventListener("pointerup",td),window.addEventListener("blur",nd))},xe=Ph.getScene(wb).addCallback(function(){jc();fc.focus()}),te=!1;fc.onblur=nd;var We=null;ua&&"ResizeObserver"in window?(We=new window.ResizeObserver(function(){jc()})).observe(ua):window.addEventListener("resize",jc);window.addEventListener("pointerdown",Dd);window.addEventListener("wheel",Fc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(fc);
fc.focus();fc.select()}({id:x.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(ua,Ga){ua=lh({sceneX:ua,sceneY:Ga},ca.state);return[ua.x-ca.state.offsetLeft,ua.y-ca.state.offsetTop]},onChange:og(function(ua){ya(ua);!x.isDeleted&&zi(x)}),onSubmit:og(function(ua){var Ga=!ua.trim();ya(ua,Ga);Ga?Cj(ca.scene.getElements(),[x]):ca.setState(function(Ua){var Na;return{selectedElementIds:$a($a({},Ua.selectedElementIds),{},(Na={},Na[x.id]=!0,Na))}});Ga&&!W||dl.resumeRecording();ca.setState({draggingElement:null,
editingElement:null});ca.state.elementLocked&&Hi(ca.canvas,ca.state.elementType)}),element:x});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});ya(x.text)},t.prototype.getTextElementAtPosition=function(x,H){return(x=this.getElementAtPosition(x,H))&&le(x)&&!x.isDeleted?x:null},t.prototype.getElementAtPosition=function(x,H){var W=this.getElementsAtPosition(x,H);if(1<W.length){var ca=W[W.length-1];return Ij(ca,this.state,x,H)?W[W.length-2]:ca}return 1===W.length?W[0]:null},
t.prototype.getElementsAtPosition=function(x,H){var W,ca,ya=this;return W=this.scene.getElements(),ca=function(ua){var Ga=ya.state,Ua=10/Ga.zoom.value,Na=[x,H];return Ga.selectedElementIds[ua.id]?Yj(ua,Na,Ua):Wj(ua,Ga,Na)},W.filter(function(ua){return!ua.isDeleted&&ca(ua)})},t.prototype.maybeCleanupAfterMissingPointerUp=function(x){null!==fo&&fo(x)},t.prototype.updateGestureOnPointerDown=function(x){Ql.set(x.pointerId,{x:x.clientX,y:x.clientY});2===Ql.size&&(sp=Tm(Ql),tp=this.state.zoom.value,cr=
$n(Array.from(Ql.values())))},t.prototype.initialPointerDownState=function(x){var H=xg(x,this.state),W=Lf(this.scene.getElements(),this.state),ca=Ng(W),ya=ca[0],ua=ca[1],Ga=ca[2];ca=ca[3];return{origin:H,originInGrid:Pg(sh(H.x,H.y,this.state.gridSize)),scrollbars:Di(Zr,x.clientX-this.state.offsetLeft,x.clientY-this.state.offsetTop),lastCoords:$a({},H),originalElements:this.scene.getElements().reduce(function(Ua,Na){return Ua.set(Na.id,Vj(Na)),Ua},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,
y:0},arrowDirection:"origin",center:{x:(Ga+ya)/2,y:(ca+ua)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(H,W)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},t.prototype.handleDraggingScrollBar=function(x,H){var W=this;if(!H.scrollbars.isOverEither||this.state.multiElement)return!1;Yr=!0;H.lastCoords.x=x.clientX;H.lastCoords.y=
x.clientY;var ca=og(function(ua){ua.target instanceof HTMLElement&&W.handlePointerMoveOverScrollbars(ua,H)}),ya=og(function(){Yr=!1;Hi(W.canvas,W.state.elementType);fo=null;W.setState({cursorButton:"up"});W.savePointer(x.clientX,x.clientY,"up");window.removeEventListener(Xa.Ks.POINTER_MOVE,ca);window.removeEventListener(Xa.Ks.POINTER_UP,ya)});return fo=ya,window.addEventListener(Xa.Ks.POINTER_MOVE,ca),window.addEventListener(Xa.Ks.POINTER_UP,ya),!0},t.prototype.isASelectedElement=function(x){return null!=
x&&this.state.selectedElementIds[x.id]},t.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(x,H){if(2>H.length)return!1;var W=10/this.state.zoom.value;H=Ng(H);var ca=H[1],ya=H[2],ua=H[3];return x.x>H[0]-W&&x.x<ya+W&&x.y>ca-W&&x.y<ua+W},t.prototype.onKeyDownFromPointerDownHandler=function(x){var H=this;return og(function(W){H.maybeHandleResize(x,W)||H.maybeDragNewGenericElement(x,W)})},t.prototype.onKeyUpFromPointerDownHandler=function(x){var H=this;return og(function(W){"Alt"===W.key&&
W.preventDefault();H.maybeHandleResize(x,W)||H.maybeDragNewGenericElement(x,W)})},t.prototype.onPointerMoveFromPointerDownHandler=function(x){var H=this;return og(function(W){if(null===x.drag.offset&&(x.drag.offset=Pg(function(td,Dd,xe){td=Ng(td);return[Dd-td[0],xe-td[1]]}(Lf(H.scene.getElements(),H.state),x.origin.x,x.origin.y))),W.target instanceof HTMLElement&&!H.handlePointerMoveOverScrollbars(W,x)){var ca=xg(W,H.state),ya=sh(ca.x,ca.y,H.state.gridSize),ua=ya[0];ya=ya[1];if(x.drag.hasOccurred||
"arrow"!==H.state.elementType&&"line"!==H.state.elementType||!(Math.hypot(x.origin.x-ca.x,x.origin.y-ca.y)<Xa.f)){if(x.resize.isResizing&&(x.lastCoords.x=ca.x,x.lastCoords.y=ca.y,H.maybeHandleResize(x,W)))return!0;if(H.state.editingLinearElement&&yg.handlePointDragging(H.state,function(td){return H.setState(td)},ca.x,ca.y,function(td,Dd){H.maybeSuggestBindingForLinearElementAtCursor(td,Dd,ca)}))return x.lastCoords.x=ca.x,void(x.lastCoords.y=ca.y);if(x.hit.allHitElements.some(function(td){return H.isASelectedElement(td)})||
x.hit.hasHitCommonBoundingBoxOfSelectedElements){x.drag.hasOccurred=!0;var Ga=Lf(H.scene.getElements(),H.state);if(0<Ga.length){ua=sh(ca.x-x.drag.offset.x,ca.y-x.drag.offset.y,H.state.gridSize);var Ua=ua[0];ua=ua[1];ya=[Math.abs(ca.x-x.origin.x),Math.abs(ca.y-x.origin.y)];if(function(td,Dd,xe,te,We,Ue,vf,Jd){void 0===Ue&&(Ue=!1);void 0===vf&&(vf=0);void 0===Jd&&(Jd=0);We=Ng(Dd);var je=xe-We[0],se=te-We[1];Dd.forEach(function(lf){if(Ue){var ni=Ue&&vf<Jd;var Qi=Ue&&vf>Jd;var vk=td.originalElements.get(lf.id);
ni=ni&&vk?vk.x:lf.x+je;Qi=Qi&&vk?vk.y:lf.y+se}else ni=lf.x+je,Qi=lf.y+se;of(lf,{x:ni,y:Qi});zi(lf,{simultaneouslyUpdated:Dd})})}(x,Ga,Ua,ua,H.scene,W.shiftKey,ya[0],ya[1]),H.maybeSuggestBindingForAll(Ga),W.altKey&&!x.hit.hasBeenDuplicated){x.hit.hasBeenDuplicated=!0;Ga=[];W=[];var Na=new Map;ya=new Map;for(var ob=x.hit.element,vb=0,wb=H.scene.getElementsIncludingDeleted();vb<wb.length;vb++){var jc=wb[vb];if(H.state.selectedElementIds[jc.id]||jc.id===(null==ob?void 0:ob.id)&&x.hit.wasAddedToSelection){var fc=
yi(H.state.editingGroupId,Na,jc),Fc=sh(x.origin.x-x.drag.offset.x,x.origin.y-x.drag.offset.y,H.state.gridSize);of(fc,{x:fc.x+(Fc[0]-Ua),y:fc.y+(Fc[1]-ua)});Ga.push(fc);W.push(jc);ya.set(jc.id,fc.id)}else Ga.push(jc)}Ua=Gh(Gh([],Ga),W);hk(Ua,W,ya,"duplicatesServeAsOld");H.scene.replaceAllElements(Ua)}return}}if(Ga=H.state.draggingElement)if(ff(Ga)?(x.drag.hasOccurred=!0,Na=Ga.points,vb=ob=void 0,"draw"===Ga.type?(ob=ca.x-Ga.x,vb=ca.y-Ga.y):(ob=ua-Ga.x,vb=ya-Ga.y),W.shiftKey&&2===Na.length&&(ob=(Ua=
Ze(H.state.elementType,ob,vb)).width,vb=Ua.height),1===Na.length?of(Ga,{points:Gh(Gh([],Na),[[ob,vb]])}):1<Na.length&&("draw"===Ga.type?of(Ga,{points:U(Gh(Gh([],Na),[[ob,vb]]),.7/H.state.zoom.value)}):of(Ga,{points:Gh(Gh([],Na.slice(0,-1)),[[ob,vb]])})),vg(Ga)&&H.maybeSuggestBindingForLinearElementAtCursor(Ga,"end",ca,H.state.startBoundElement)):(x.lastCoords.x=ca.x,x.lastCoords.y=ca.y,H.maybeDragNewGenericElement(x,W)),"selection"===H.state.elementType){Ua=H.scene.getElements();!W.shiftKey&&Hg(Ua,
H.state)&&H.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var nd=function(td,Dd){Dd=wg(Dd);var xe=Dd[0],te=Dd[1],We=Dd[2],Ue=Dd[3];return td.filter(function(vf){var Jd=vi(vf),je=Jd[0],se=Jd[1],lf=Jd[2];Jd=Jd[3];return"selection"!==vf.type&&xe<=je&&te<=se&&We>=lf&&Ue>=Jd})}(Ua,Ga);H.setState(function(td){return ei($a($a({},td),{},{selectedElementIds:$a($a({},td.selectedElementIds),nd.reduce(function(Dd,xe){return Dd[xe.id]=!0,Dd},{}))}),H.scene.getElements())})}}}})},t.prototype.handlePointerMoveOverScrollbars=
function(x,H){return H.scrollbars.isOverHorizontal?(x=x.clientX,this.setState({scrollX:this.state.scrollX-(x-H.lastCoords.x)/this.state.zoom.value}),H.lastCoords.x=x,!0):H.scrollbars.isOverVertical?(x=x.clientY,this.setState({scrollY:this.state.scrollY-(x-H.lastCoords.y)/this.state.zoom.value}),H.lastCoords.y=x,!0):!1},t.prototype.onPointerUpFromPointerDownHandler=function(x){var H=this;return og(function(W){var ca=H.state,ya=ca.draggingElement,ua=ca.resizingElement,Ga=ca.multiElement,Ua=ca.elementType,
Na=ca.elementLocked,ob=ca.isResizing;ca=ca.isRotating;if(H.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ga||le(H.state.editingElement)?H.state.editingElement:null}),H.savePointer(W.clientX,W.clientY,"up"),H.state.editingLinearElement){var vb=yg.handlePointerUp(W,H.state.editingLinearElement,H.state);vb!==H.state.editingLinearElement&&H.setState({editingLinearElement:vb,suggestedBindings:[]})}if(fo=null,window.removeEventListener(Xa.Ks.POINTER_MOVE,
x.eventListeners.onMove),window.removeEventListener(Xa.Ks.POINTER_UP,x.eventListeners.onUp),window.removeEventListener(Xa.Ks.KEYDOWN,x.eventListeners.onKeyDown),window.removeEventListener(Xa.Ks.KEYUP,x.eventListeners.onKeyUp),"draw"!==(null==ya?void 0:ya.type))if(ff(ya))1<ya.points.length&&dl.resumeRecording(),W=xg(W,H.state),x.drag.hasOccurred||!ya||Ga?x.drag.hasOccurred&&!Ga&&(H.state.isBindingEnabled&&vg(ya)&&Jj(ya,H.state,H.scene,W),H.setState({suggestedBindings:[],startBoundElement:null}),Na||
"draw"===Ua?H.setState(function(fc){var Fc;return{draggingElement:null,selectedElementIds:$a($a({},fc.selectedElementIds),{},(Fc={},Fc[H.state.draggingElement.id]=!0,Fc))}}):(Wi(H.canvas),H.setState(function(fc){var Fc;return{draggingElement:null,elementType:"selection",selectedElementIds:$a($a({},fc.selectedElementIds),{},(Fc={},Fc[H.state.draggingElement.id]=!0,Fc))}}))):(of(ya,{points:Gh(Gh([],ya.points),[[W.x-ya.x,W.y-ya.y]])}),H.setState({multiElement:ya,editingElement:H.state.draggingElement}));
else{if("selection"!==Ua&&ya&&Mh(ya))return H.scene.replaceAllElements(H.scene.getElementsIncludingDeleted().slice(0,-1)),void H.setState({draggingElement:null});ya&&of(ya,ll(ya));ua&&dl.resumeRecording();ua&&Mh(ua)&&H.scene.replaceAllElements(H.scene.getElementsIncludingDeleted().filter(function(fc){return fc.id!==ua.id}));var wb=x.hit.element;if(wb&&!x.drag.hasOccurred&&!x.hit.wasAddedToSelection)if(W.shiftKey)if(H.state.selectedElementIds[wb.id])if(null!=Fh(H.state,wb)){var jc=wb.groupIds.flatMap(function(fc){return Li(H.scene.getElements(),
fc)}).map(function(fc){var Fc;return(Fc={})[fc.id]=!1,Fc}).reduce(function(fc,Fc){return $a($a({},fc),Fc)},{});H.setState(function(fc){return{selectedGroupIds:$a($a({},fc.selectedElementIds),wb.groupIds.map(function(Fc){var nd;return(nd={})[Fc]=!1,nd}).reduce(function(Fc,nd){return $a($a({},Fc),nd)},{})),selectedElementIds:$a($a({},fc.selectedElementIds),jc)}})}else H.setState(function(fc){var Fc;return{selectedElementIds:$a($a({},fc.selectedElementIds),{},(Fc={},Fc[wb.id]=!1,Fc))}});else H.setState(function(fc){var Fc;
return{selectedElementIds:$a($a({},fc.selectedElementIds),{},(Fc={},Fc[wb.id]=!0,Fc))}});else H.setState(function(fc){var Fc;return $a({},ei($a($a({},fc),{},{selectedElementIds:(Fc={},Fc[wb.id]=!0,Fc)}),H.scene.getElements()))});H.state.editingLinearElement||x.drag.hasOccurred||H.state.isResizing||!(wb&&Ij(wb,H.state,x.origin.x,x.origin.y)||!wb&&x.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Na&&"draw"!==Ua&&ya&&H.setState(function(fc){var Fc;return{selectedElementIds:$a($a({},fc.selectedElementIds),
{},(Fc={},Fc[ya.id]=!0,Fc))}}),("selection"!==Ua||Hg(H.scene.getElements(),H.state))&&dl.resumeRecording(),(x.drag.hasOccurred||ob||ca)&&(H.state.isBindingEnabled?zg:qh)(Lf(H.scene.getElements(),H.state)),Na||"draw"===Ua?H.setState({draggingElement:null,suggestedBindings:[]}):(Wi(H.canvas),H.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):H.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else H.actionManager.executeAction(Cg)})},t.prototype.maybeSuggestBindingForAll=
function(x){var H;x=(H=new Set(x.map(function(W){return W.id})),x.flatMap(function(W){return vg(W)?xk(W).filter(function(ca){return!H.has(ca.id)}):gk(W)?xh(W).filter(function(ca){return!H.has(ca[0].id)}):[]}));this.setState({suggestedBindings:x})},t.prototype.clearSelection=function(x){this.setState(function(H){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:H.editingGroupId&&null!=x&&x.groupIds.includes(H.editingGroupId)?H.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},t.prototype.getTextWysiwygSnappedToCenterPosition=function(x,H,W,ca,ya){if(ya=function(ua,Ga,Ua){for(var Na=null,ob=ua.length-1;0<=ob;--ob)if(!ua[ob].isDeleted){var vb=wg(ua[ob]),wb=vb[1],jc=vb[2],fc=vb[3];if(vb[0]<Ga&&Ga<jc&&wb<Ua&&Ua<fc){Na=ua[ob];break}}return Na}(this.scene.getElementsIncludingDeleted().filter(function(ua){return!le(ua)}),x,H))if(ca=ya.x+ya.width/2,ya=ya.y+ya.height/2,Math.hypot(x-ca,H-ya)<Xa.wZ)return x=lh({sceneX:ca,
sceneY:ya},W),{viewportX:x.x,viewportY:x.y,elementCenterX:ca,elementCenterY:ya}},t.prototype.getCanvasOffsets=function(x){var H,W;return"number"==typeof(null==x?void 0:x.offsetLeft)&&"number"==typeof(null==x?void 0:x.offsetTop)?{offsetLeft:x.offsetLeft,offsetTop:x.offsetTop}:null!==(H=this.excalidrawContainerRef)&&void 0!==H&&null!==(W=H.current)&&void 0!==W&&W.parentElement?(W=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),H=W.left,W=W.top,{offsetLeft:"number"==typeof(null==
x?void 0:x.offsetLeft)?x.offsetLeft:H,offsetTop:"number"==typeof(null==x?void 0:x.offsetTop)?x.offsetTop:W}):{offsetLeft:"number"==typeof(null==x?void 0:x.offsetLeft)?x.offsetLeft:0,offsetTop:"number"==typeof(null==x?void 0:x.offsetTop)?x.offsetTop:0}},t.prototype.updateLanguage=function(){var x=this;return Lb()(function(){var H;return Xo(this,function(W){switch(W.label){case 0:return H=hd.find(function(ca){return ca.code===x.props.langCode})||ae,[4,Ve(H)];case 1:return W.sent(),x.setAppState({}),
[2]}})})()},t}(Z().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Ut=function(){var e=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=Z().createRef();this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return e.scene.getElements()};this.syncActionResult=og(function(t){if(!e.unmounted&&!1!==t){var x=null;if(t.elements&&(t.elements.forEach(function(Ua){var Na;(null===
(Na=e.state.editingElement)||void 0===Na?void 0:Na.id)===Ua.id&&e.state.editingElement!==Ua&&!Ua.isDeleted&&(x=Ua)}),e.scene.replaceAllElements(t.elements),t.commitToHistory&&dl.resumeRecording()),t.appState||x){var H,W,ca;t.commitToHistory&&dl.resumeRecording();var ya=(null==t||null===(H=t.appState)||void 0===H?void 0:H.viewModeEnabled)||!1,ua=(null==t||null===(W=t.appState)||void 0===W?void 0:W.zenModeEnabled)||!1,Ga=(null==t||null===(ca=t.appState)||void 0===ca?void 0:ca.gridSize)||null;void 0!==
e.props.viewModeEnabled&&(ya=e.props.viewModeEnabled);void 0!==e.props.zenModeEnabled&&(ua=e.props.zenModeEnabled);void 0!==e.props.gridModeEnabled&&(Ga=e.props.gridModeEnabled?Xa.k:null);e.setState(function(Ua){var Na;return Object.assign(t.appState||{},{editingElement:x||(null===(Na=t.appState)||void 0===Na?void 0:Na.editingElement)||null,width:Ua.width,height:Ua.height,offsetTop:Ua.offsetTop,offsetLeft:Ua.offsetLeft,viewModeEnabled:ya,zenModeEnabled:ua,gridSize:Ga})},function(){t.syncHistory&&
dl.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())})}}});this.onBlur=og(function(){Yo=!1;e.setState({isBindingEnabled:!0})});this.onUnload=function(){e.onBlur()};this.disableEvent=function(t){t.preventDefault()};this.onFontLoaded=function(){e.scene.getElementsIncludingDeleted().forEach(function(t){le(t)&&bi.delete(t)});e.onSceneUpdated()};this.importLibraryFromUrl=function(){var t=Lb()(function(x){var H,W,ca,ya,ua;return Xo(this,function(Ga){switch(Ga.label){case 0:window.history.replaceState({},
Xa.iC,window.location.origin),Ga.label=1;case 1:return Ga.trys.push([1,7,,8]),[4,fetch(x)];case 2:return[4,Ga.sent().blob()];case 3:return H=Ga.sent(),ya=(ca=JSON).parse,[4,H.text()];case 4:Ga=W=ya.apply(ca,[Ga.sent()]);if("object"!=typeof Ga||!Ga||"excalidrawlib"!==Ga.type||1!==Ga.version)throw Error();return window.confirm(Wb("alerts.confirmAddLibrary",{numShapes:W.library.length}))?[4,Yh.importLibrary(H)]:[3,6];case 5:Ga.sent(),e.setState({isLibraryOpen:!0}),Ga.label=6;case 6:return[3,8];case 7:return ua=
Ga.sent(),window.alert(Wb("alerts.errorLoadingLibrary")),console.error(ua),[3,8];case 8:return[2]}})});return function(x){return t.apply(this,arguments)}}();this.resetHistory=function(){dl.clear()};this.resetScene=og(function(t){e.scene.replaceAllElements([]);e.setState(function(x){return $a($a({},Lh()),{},{isLoading:(null==t||!t.resetLoadingState)&&x.isLoading,appearance:e.state.appearance})});e.resetHistory()});this.initializeScene=Lb()(function(){var t,x,H,W,ca;return Xo(this,function(ya){switch(ya.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ua=Lb()(function(Ga){var Ua,Na;return Xo(this,function(ob){switch(ob.label){case 0:return Ga.files.length?[4,(Ua=Ga.files[0]).getFile()]:[2];case 1:return(Na=ob.sent()).handle=Ua,Qm(Na,e.state).then(function(vb){return e.syncActionResult({elements:vb.elements,appState:$a($a({},vb.appState||e.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(vb){e.setState({isLoading:!1,errorMessage:vb.message})}),[2]}})});
return function(Ga){return ua.apply(this,arguments)}}()),e.state.isLoading||e.setState({isLoading:!0}),x=null,ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,e.props.initialData];case 2:return x=ya.sent()||null,[3,4];case 3:return H=ya.sent(),console.error(H),[3,4];case 4:return(W=ln(x,null)).appState=$a($a({},W.appState),{},{isLoading:!1}),null!==(t=x)&&void 0!==t&&t.scrollToCenter&&(W.appState=$a($a({},W.appState),$h(W.elements,$a($a({},W.appState),{},{width:e.state.width,height:e.state.height,
offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft})))),e.resetHistory(),e.syncActionResult($a($a({},W),{},{commitToHistory:!0})),(ca=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,e.importLibraryFromUrl(ca)]:[3,6];case 5:ya.sent(),ya.label=6;case 6:return[2]}})});this.onResize=og(function(){e.scene.getElementsIncludingDeleted().forEach(function(t){return bi.delete(t)});e.setState({})});this.onScroll=ai(function(){var t=e.getCanvasOffsets(),x=t.offsetTop,H=t.offsetLeft;
e.setState(function(W){return W.offsetLeft===H&&W.offsetTop===x?null:{offsetTop:x,offsetLeft:H}})},Xa.HM);this.onCut=og(function(t){Og(t.target)||(e.cutAll(),t.preventDefault())});this.onCopy=og(function(t){var x=document.getSelection();null!=x&&x.anchorNode&&!e.excalidrawContainerRef.current.contains(x.anchorNode)||Og(t.target)||(e.copyAll(),t.preventDefault())});this.cutAll=function(){e.copyAll();e.actionManager.executeAction(wa)};this.copyAll=function(){il(e.scene.getElements(),e.state)};this.onTapStart=
function(t){if(!qq)return qq=!0,clearTimeout(Xr),void(Xr=window.setTimeout(Wr.resetTapTwice,Xa.Gj));if(qq&&1===t.touches.length){var x=t.touches[0];e.handleCanvasDoubleClick({clientX:x.clientX,clientY:x.clientY});qq=!1;clearTimeout(Xr)}t.preventDefault();2===t.touches.length&&e.setState({selectedElementIds:{}})};this.onTapEnd=function(t){t.preventDefault();0<t.touches.length&&e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds})};this.pasteFromClipboard=
og(function(){var t=Lb()(function(x){var H,W,ca;return Xo(this,function(ya){switch(ya.label){case 0:return H=document.activeElement,W=document.elementFromPoint(Cp,Dp),!x||W instanceof HTMLCanvasElement&&!Og(H)?[4,ib(x)]:[2];case 1:return(ca=ya.sent()).errorMessage?e.setState({errorMessage:ca.errorMessage}):ca.spreadsheet?e.setState({pasteDialog:{data:ca.spreadsheet,shown:!0}}):ca.elements?e.addElementsFromPasteOrLibrary(ca.elements):ca.text&&e.addTextFromPaste(ca.text),e.selectShapeTool("selection"),
null==x||x.preventDefault(),[2]}})});return function(x){return t.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(t,x,H){void 0===x&&(x=Cp);void 0===H&&(H=Dp);var W=Ng(t),ca=W[0],ya=W[1],ua=Math.abs(ca-W[2])/2;W=Math.abs(ya-W[3])/2;x=xg({clientX:x,clientY:H},e.state);ua=x.x-ua;W=x.y-W;var Ga=new Map;ua=sh(ua,W,e.state.gridSize);var Ua=ua[0],Na=ua[1],ob=new Map;ua=t.map(function(vb){var wb=yi(e.state.editingGroupId,Ga,vb,{x:vb.x+Ua-ca,y:vb.y+Na-ya});return ob.set(vb.id,wb.id),
wb});W=Gh(Gh([],e.scene.getElementsIncludingDeleted()),ua);hk(W,t,ob);e.scene.replaceAllElements(W);dl.resumeRecording();e.setState(ei($a($a({},e.state),{},{isLibraryOpen:!1,selectedElementIds:ua.reduce(function(vb,wb){return vb[wb.id]=!0,vb},{}),selectedGroupIds:{}}),e.scene.getElements()))};this.setAppState=function(t){e.setState(t)};this.removePointer=function(t){"touch"===t.pointerType&&go&&(clearTimeout(go),go=0,cq=!1);Ql.delete(t.pointerId)};this.toggleLock=function(){e.setState(function(t){return{elementLocked:!t.elementLocked,
elementType:t.elementLocked?"selection":t.elementType}})};this.toggleZenMode=function(){e.actionManager.executeAction(Ae)};this.toggleStats=function(){e.state.showStats||th("dialog","stats");e.actionManager.executeAction(Yn)};this.setScrollToCenter=function(t){e.setState($a({},$h(ne(t),e.state,e.canvas)))};this.clearToast=function(){e.setState({toastMessage:null})};this.updateScene=og(function(t){var x;t.commitToHistory&&dl.resumeRecording();null!==(x=t.appState)&&void 0!==x&&x.viewBackgroundColor&&
e.setState({viewBackgroundColor:t.appState.viewBackgroundColor});t.elements&&e.scene.replaceAllElements(t.elements);t.collaborators&&e.setState({collaborators:t.collaborators})});this.onSceneUpdated=function(){e.setState({})};this.updateCurrentCursorPosition=og(function(t){Cp=t.x;Dp=t.y});this.onKeyDown=og(function(t){var x;if(!(("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(ya,ua){var Ga=ya[ua];return"function"==typeof Ga?
Ga.bind(ya):"key"===ua?t.shiftKey?ya.key.toUpperCase():ya.key.toLowerCase():Ga}})),Og(t.target)&&"Escape"!==t.key||zf(t.key)&&(x=t.target,x instanceof HTMLElement&&"wysiwyg"===x.dataset.type||x instanceof HTMLBRElement||x instanceof HTMLInputElement||x instanceof HTMLTextAreaElement||x instanceof HTMLSelectElement))||("?"===t.key&&e.setState({showHelpDialog:!0}),e.actionManager.handleKeyDown(t)||e.state.viewModeEnabled))){if(t[nf]&&e.setState({isBindingEnabled:!1}),"Digit9"===t.code&&e.setState({isLibraryOpen:!e.state.isLibraryOpen}),
zf(t.key)){x=e.state.gridSize&&(t.shiftKey?Xa.$e:e.state.gridSize)||(t.shiftKey?Xa.Iw:Xa.$e);var H=e.scene.getElements().filter(function(ya){return e.state.selectedElementIds[ya.id]}),W=0,ca=0;"ArrowLeft"===t.key?W=-x:"ArrowRight"===t.key?W=x:"ArrowUp"===t.key?ca=-x:"ArrowDown"===t.key&&(ca=x);H.forEach(function(ya){of(ya,{x:ya.x+W,y:ya.y+ca});zi(ya,{simultaneouslyUpdated:H})});e.maybeSuggestBindingForAll(H);t.preventDefault()}else if("Enter"===t.key)if(x=Lf(e.scene.getElements(),e.state),1===x.length&&
ff(x[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===x[0].id||(dl.resumeRecording(),e.setState({editingLinearElement:new yg(x[0],e.scene)}));else{if(1===x.length&&!ff(x[0]))return x=x[0],e.startTextEditing({sceneX:x.x+x.width/2,sceneY:x.y+x.height/2}),void t.preventDefault()}else t.ctrlKey||t.altKey||t.metaKey||null!==e.state.draggingElement||((x=function(ya){var ua=Cm.find(function(Ga,Ua){return ya===(Ua+1).toString()||("string"==typeof Ga.key?Ga.key===ya:Ga.key.includes(ya))});
return(null==ua?void 0:ua.value)||null}(t.key))?e.selectShapeTool(x):"q"===t.key&&e.toggleLock());" "===t.key&&0===Ql.size&&(Yo=!0,Xi(e.canvas,Xa.oc.GRABBING))}});this.onKeyUp=og(function(t){if(" "===t.key&&("selection"===e.state.elementType?Wi(e.canvas):(Hi(e.canvas,e.state.elementType),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Yo=!1),t[nf]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),zf(t.key))t=Lf(e.scene.getElements(),e.state),e.state.isBindingEnabled?
zg(t):qh(t),e.setState({suggestedBindings:[]})});this.onGestureStart=og(function(t){t.preventDefault();e.setState({selectedElementIds:{}});tp=e.state.zoom.value});this.onGestureChange=og(function(t){if(t.preventDefault(),2!==Ql.size){var x=tp;x&&e.setState(function(H){var W=H.zoom,ca=H.offsetLeft;H=H.offsetTop;return{zoom:oi(ek(x*t.scale),W,{left:ca,top:H},{x:Cp,y:Dp})}})}});this.onGestureEnd=og(function(t){t.preventDefault();e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds});
tp=null});this.startTextEditing=function(t){var x=t.sceneX,H=t.sceneY;t=t.insertAtParentCenter;var W=void 0===t||t;t=e.getTextElementAtPosition(x,H);W=W&&e.getTextWysiwygSnappedToCenterPosition(x,H,e.state,e.canvas,window.devicePixelRatio);x=t||Hj({x:W?W.elementCenterX:x,y:W?W.elementCenterY:H,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,
roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:W?"center":e.state.currentItemTextAlign,verticalAlign:W?"middle":Xa.hs});e.setState({editingElement:x});t?W&&"center"===x.textAlign||of(x,{verticalAlign:Xa.hs}):(e.scene.replaceAllElements(Gh(Gh([],e.scene.getElementsIncludingDeleted()),[x])),W||of(x,{y:x.y-x.baseline/2}));e.setState({editingElement:x});
e.handleTextWysiwyg(x,{isExistingElement:!!t})};this.handleCanvasDoubleClick=function(t){if(!e.state.multiElement&&"selection"===e.state.elementType){var x=Lf(e.scene.getElements(),e.state);if(1===x.length&&ff(x[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===x[0].id||(dl.resumeRecording(),e.setState({editingLinearElement:new yg(x[0],e.scene)}));else{Wi(e.canvas);var H=xg(t,e.state);x=H.x;H=H.y;if(0<Ki(e.state).length){var W=e.getElementAtPosition(x,H),ca=W&&function(ya,
ua){return ya.groupIds.find(function(Ga){return ua[Ga]})}(W,e.state.selectedGroupIds);if(ca)return void e.setState(function(ya){var ua;return ei($a($a({},ya),{},{editingGroupId:ca,selectedElementIds:(ua={},ua[W.id]=!0,ua),selectedGroupIds:{}}),e.scene.getElements())})}Wi(e.canvas);t[nf]||e.startTextEditing({sceneX:x,sceneY:H,insertAtParentCenter:!t.altKey})}}};this.handleCanvasPointerMove=function(t){e.savePointer(t.clientX,t.clientY,e.state.cursorButton);Ql.has(t.pointerId)&&Ql.set(t.pointerId,{x:t.clientX,
y:t.clientY});var x=tp;if(2===Ql.size&&sp&&x&&cr){var H=Tm(Ql),W=H.x-sp.x,ca=H.y-sp.y;sp=H;var ya=$n(Array.from(Ql.values()))/cr;e.setState(function(jc){var fc=jc.zoom,Fc=jc.offsetLeft,nd=jc.offsetTop;return{scrollX:jc.scrollX+W/fc.value,scrollY:jc.scrollY+ca/fc.value,zoom:oi(ek(x*ya),fc,{left:Fc,top:nd},H),shouldCacheIgnoreZoom:!0}});e.resetShouldCacheIgnoreZoomDebounced()}else sp=cr=tp=null;if(!(Yo||rq||Yr)){var ua=Di(Zr,t.clientX-e.state.offsetLeft,t.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||
e.state.multiElement||(ua?Wi(e.canvas):Hi(e.canvas,e.state.elementType));var Ga=xg(t,e.state),Ua=Ga.x,Na=Ga.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var ob=yg.handlePointerMove(t,Ua,Na,e.state.editingLinearElement,e.state.gridSize);ob!==e.state.editingLinearElement&&e.setState({editingLinearElement:ob});null!=ob.lastUncommittedPoint?e.maybeSuggestBindingAtCursor(Ga):e.setState({suggestedBindings:[]})}"arrow"===e.state.elementType&&(ob=e.state.draggingElement,vg(ob)?
e.maybeSuggestBindingForLinearElementAtCursor(ob,"end",Ga,e.state.startBoundElement):e.maybeSuggestBindingAtCursor(Ga));if(e.state.multiElement){ua=e.state.multiElement;Ga=ua.x;ob=ua.y;t=ua.points;var vb=ua.lastCommittedPoint,wb=t[t.length-1];return Hi(e.canvas,e.state.elementType),void(wb===vb?Math.hypot(wb[0]-(Ua-Ga),wb[1]-(Na-ob))>=Xa.qx?of(ua,{points:Gh(Gh([],t),[[Ua-Ga,Na-ob]])}):Xi(e.canvas,Xa.oc.POINTER):2<t.length&&vb&&Math.hypot(vb[0]-(Ua-Ga),vb[1]-(Na-ob))<Xa.qx?(Xi(e.canvas,Xa.oc.POINTER),
of(ua,{points:t.slice(0,-1)})):(si(t,e.state.zoom.value)&&Xi(e.canvas,Xa.oc.POINTER),of(ua,{points:Gh(Gh([],t.slice(0,-1)),[[Ua-Ga,Na-ob]])})))}if(!(t.buttons||"selection"!==e.state.elementType&&"text"!==e.state.elementType)){vb=e.scene.getElements();ob=Lf(vb,e.state);if(1!==ob.length||ua||e.state.editingLinearElement){if(1<ob.length&&!ua&&(Ua=Ef(Ng(ob),Ua,Na,e.state.zoom,t.pointerType)))return void Xi(e.canvas,Le({transformHandleType:Ua}))}else if((Ua=Yg(vb,e.state,Ua,Na,e.state.zoom,t.pointerType))&&
Ua.transformHandleType)return void Xi(e.canvas,Le(Ua));Ua=e.getElementAtPosition(Ga.x,Ga.y);"text"===e.state.elementType?Xi(e.canvas,le(Ua)?Xa.oc.TEXT:Xa.oc.CROSSHAIR):ua?Xi(e.canvas,Xa.oc.AUTO):Ua||e.isHittingCommonBoundingBoxOfSelectedElements(Ga,ob)?Xi(e.canvas,Xa.oc.MOVE):Xi(e.canvas,Xa.oc.AUTO)}}};this.handleTouchMove=function(t){cq=!0};this.handleCanvasPointerDown=function(t){if(t.persist(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),e.maybeCleanupAfterMissingPointerUp(t),!(rq||
(e.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),e.savePointer(t.clientX,t.clientY,"down"),e.handleCanvasPanUsingWheelOrSpaceDrag(t)||t.button!==Xa.Oh.MAIN&&t.button!==Xa.Oh.TOUCH||(e.updateGestureOnPointerDown(t),t.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<Ql.size)))){var x=e.initialPointerDownState(t);if(!e.handleDraggingScrollBar(t,x)&&(e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(t),!e.handleSelectionOnPointerDown(t,
x)))if("text"!==e.state.elementType){"arrow"===e.state.elementType||"draw"===e.state.elementType||"line"===e.state.elementType?e.handleLinearElementOnPointerDown(t,e.state.elementType,x):e.createGenericElementOnPointerDown(e.state.elementType,x);t=e.onPointerMoveFromPointerDownHandler(x);var H=e.onPointerUpFromPointerDownHandler(x),W=e.onKeyDownFromPointerDownHandler(x),ca=e.onKeyUpFromPointerDownHandler(x);fo=H;e.state.viewModeEnabled||(window.addEventListener(Xa.Ks.POINTER_MOVE,t),window.addEventListener(Xa.Ks.POINTER_UP,
H),window.addEventListener(Xa.Ks.KEYDOWN,W),window.addEventListener(Xa.Ks.KEYUP,ca),x.eventListeners.onMove=t,x.eventListeners.onUp=H,x.eventListeners.onKeyUp=ca,x.eventListeners.onKeyDown=W)}else e.handleTextOnPointerDown(t,x)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){"touch"===t.pointerType&&(cq=!1,go?cq=!0:go=window.setTimeout(function(){go=0;cq||e.openContextMenu({clientX:t.clientX,clientY:t.clientY})},Xa.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if(0!==
Ql.size||!(t.button===Xa.Oh.WHEEL||t.button===Xa.Oh.MAIN&&Yo||e.state.viewModeEnabled))return!1;rq=!0;var x=!1,H=/Linux/.test(window.navigator.platform);Xi(e.canvas,Xa.oc.GRABBING);var W=t.clientX,ca=t.clientY,ya=og(function(Ga){var Ua=W-Ga.clientX,Na=ca-Ga.clientY;if(W=Ga.clientX,ca=Ga.clientY,H&&!x&&(1<Math.abs(Ua)||1<Math.abs(Na))){x=!0;var ob=function(wb){document.body.removeEventListener(Xa.Ks.PASTE,ob);wb.stopPropagation()},vb=function(){setTimeout(function(){document.body.removeEventListener(Xa.Ks.PASTE,
ob);window.removeEventListener(Xa.Ks.POINTER_UP,vb)},100)};document.body.addEventListener(Xa.Ks.PASTE,ob);window.addEventListener(Xa.Ks.POINTER_UP,vb)}e.setState({scrollX:e.state.scrollX-Ua/e.state.zoom.value,scrollY:e.state.scrollY-Na/e.state.zoom.value})}),ua=og(fo=function(){fo=null;rq=!1;Yo||Hi(e.canvas,e.state.elementType);e.setState({cursorButton:"up"});e.savePointer(t.clientX,t.clientY,"up");window.removeEventListener(Xa.Ks.POINTER_MOVE,ya);window.removeEventListener(Xa.Ks.POINTER_UP,ua);window.removeEventListener(Xa.Ks.BLUR,
ua)});return window.addEventListener(Xa.Ks.BLUR,ua),window.addEventListener(Xa.Ks.POINTER_MOVE,ya,{passive:!0}),window.addEventListener(Xa.Ks.POINTER_UP,ua),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==e.state.elementType&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(t,x){if("selection"===e.state.elementType){var H=e.scene.getElements(),W=Lf(H,e.state);1!==W.length||e.state.editingLinearElement?1<W.length&&
(x.resize.handleType=Ef(Ng(W),x.origin.x,x.origin.y,e.state.zoom,t.pointerType)):(H=Yg(H,e.state,x.origin.x,x.origin.y,e.state.zoom,t.pointerType),null!=H&&(e.setState({resizingElement:H.element}),x.resize.handleType=H.transformHandleType));if(x.resize.handleType)Xi(e.canvas,Le({transformHandleType:x.resize.handleType})),x.resize.isResizing=!0,x.resize.offset=Pg(function(vb,wb,jc,fc){var Fc,nd=1===wb.length?wg(wb[0]):Ng(wb),td=nd[0],Dd=nd[1],xe=nd[2];nd=nd[3];wb=1===wb.length?wb[0].angle:0;switch(jc=
(Fc=Pf(jc,fc,(td+xe)/2,(Dd+nd)/2,-wb))[0],fc=Fc[1],vb){case "n":return Pf(jc-(td+xe)/2,fc-Dd,0,0,wb);case "s":return Pf(jc-(td+xe)/2,fc-nd,0,0,wb);case "w":return Pf(jc-td,fc-(Dd+nd)/2,0,0,wb);case "e":return Pf(jc-xe,fc-(Dd+nd)/2,0,0,wb);case "nw":return Pf(jc-td,fc-Dd,0,0,wb);case "ne":return Pf(jc-xe,fc-Dd,0,0,wb);case "sw":return Pf(jc-td,fc-nd,0,0,wb);case "se":return Pf(jc-xe,fc-nd,0,0,wb);default:return[0,0]}}(x.resize.handleType,W,x.origin.x,x.origin.y)),1===W.length&&ff(W[0])&&2===W[0].points.length&&
(x.resize.arrowDirection=(ua=x.resize.handleType,Ga=W[0],Ua=Ga.points[1],Na=Ua[0],ob=Ua[1],"nw"===ua&&(0>Na||0>ob)||"ne"===ua&&0<=Na||"sw"===ua&&0>=Na||"se"===ua&&(0<Na||0<ob)?"end":"origin"));else{var ca;if(e.state.editingLinearElement&&(W=yg.handlePointerDown(t,e.state,function(vb){return e.setState(vb)},dl,x.origin),W.hitElement&&(x.hit.element=W.hitElement),W.didAddPoint))return!0;x.hit.element=null!==(ca=x.hit.element)&&void 0!==ca?ca:e.getElementAtPosition(x.origin.x,x.origin.y);x.hit.allHitElements=
e.getElementsAtPosition(x.origin.x,x.origin.y);var ya=x.hit.element;ca=x.hit.allHitElements.some(function(vb){return e.isASelectedElement(vb)});if(null!==ya&&ca||t.shiftKey||x.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(ya),null!=ya){if(t[nf])return e.setState(function(vb){var wb;vb=Wa(Wa({},vb),{},{editingGroupId:ya.groupIds.length?ya.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(wb={},wb[ya.id]=!0,wb)});return $a($a({},vb),{},{previousSelectedElementIds:e.state.selectedElementIds})}),
!1;e.state.selectedElementIds[ya.id]||(e.state.editingGroupId&&!ya.groupIds.includes(e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),ca||x.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState(function(vb){var wb;return ei($a($a({},vb),{},{selectedElementIds:$a($a({},vb.selectedElementIds),{},(wb={},wb[ya.id]=!0,wb))}),e.scene.getElements())}),x.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}var ua,
Ga,Ua,Na,ob;return!1};this.handleTextOnPointerDown=function(t,x){var H;"text"!==(null===(H=e.state.editingElement)||void 0===H?void 0:H.type)&&(e.startTextEditing({sceneX:x.origin.x,sceneY:x.origin.y,insertAtParentCenter:!t.altKey}),Wi(e.canvas),e.state.elementLocked||e.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(t,x,H){if(e.state.multiElement){var W=e.state.multiElement;if("line"===W.type&&si(W.points,e.state.zoom.value))return of(W,{lastCommittedPoint:W.points[W.points.length-
1]}),void e.actionManager.executeAction(Cg);x=W.x;t=W.y;var ca=W.lastCommittedPoint;if(1<W.points.length&&ca&&Math.hypot(ca[0]-(H.origin.x-x),ca[1]-(H.origin.y-t))<Xa.qx)return void e.actionManager.executeAction(Cg);e.setState(function(Ga){var Ua;return{selectedElementIds:$a($a({},Ga.selectedElementIds),{},(Ua={},Ua[W.id]=!0,Ua))}});of(W,{lastCommittedPoint:W.points[W.points.length-1]});Xi(e.canvas,Xa.oc.POINTER)}else{t=sh(H.origin.x,H.origin.y,"draw"===x?null:e.state.gridSize);var ya=e.state;ca=
ya.currentItemStartArrowhead;ya=ya.currentItemEndArrowhead;ca="arrow"===x?[ca,ya]:[null,null];var ua=$e({type:x,x:t[0],y:t[1],strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,startArrowhead:ca[0],endArrowhead:ca[1]});
e.setState(function(Ga){var Ua;return{selectedElementIds:$a($a({},Ga.selectedElementIds),{},(Ua={},Ua[ua.id]=!1,Ua))}});of(ua,{points:Gh(Gh([],ua.points),[[0,0]])});H=Hh(H.origin,e.scene);e.scene.replaceAllElements(Gh(Gh([],e.scene.getElementsIncludingDeleted()),[ua]));e.setState({draggingElement:ua,editingElement:ua,startBoundElement:H,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(t,x){x=sh(x.origin.x,x.origin.y,e.state.gridSize);t=nl({type:t,x:x[0],y:x[1],strokeColor:e.state.currentItemStrokeColor,
backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness});"selection"===t.type?e.setState({selectionElement:t,draggingElement:t}):(e.scene.replaceAllElements(Gh(Gh([],e.scene.getElementsIncludingDeleted()),[t])),e.setState({multiElement:null,draggingElement:t,
editingElement:t}))};this.updateBindingEnabledOnPointerMove=function(t){t=!t[nf];e.state.isBindingEnabled!==t&&e.setState({isBindingEnabled:t})};this.maybeSuggestBindingAtCursor=function(t){t=Hh(t,e.scene);e.setState({suggestedBindings:null!=t?[t]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(t,x,H,W){x=Hh(H,e.scene);e.setState({suggestedBindings:null==x||(null==W?void 0:W.id)===x.id&&3>t.points.length?[]:[x]})};this.handleCanvasRef=function(t){var x,H,W;null!==t?(e.canvas=t,e.rc=
Vh.canvas(e.canvas),e.canvas.addEventListener(Xa.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(Xa.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(Xa.Ks.TOUCH_END,e.onTapEnd)):(null===(x=e.canvas)||void 0===x||x.removeEventListener(Xa.Ks.WHEEL,e.handleWheel),null===(H=e.canvas)||void 0===H||H.removeEventListener(Xa.Ks.TOUCH_START,e.onTapStart),null===(W=e.canvas)||void 0===W||W.removeEventListener(Xa.Ks.TOUCH_END,e.onTapEnd))};this.handleCanvasOnDrop=function(){var t=Lb()(function(x){var H,
W,ca,ya,ua,Ga,Ua,Na,ob,vb,wb;return Xo(this,function(jc){switch(jc.label){case 0:return jc.trys.push([0,3,,4]),"image/png"!==(null==(W=x.dataTransfer.files[0])?void 0:W.type)&&"image/svg+xml"!==(null==W?void 0:W.type)?[3,2]:[4,Qm(W,e.state)];case 1:return ca=jc.sent(),ya=ca.elements,ua=ca.appState,e.syncActionResult({elements:ya,appState:$a($a({},ua||e.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ga=jc.sent(),[2,e.setState({isLoading:!1,errorMessage:Ga.message})];
case 4:if(""!==(Ua=x.dataTransfer.getData(Xa.LO.excalidrawlib)))return e.addElementsFromPasteOrLibrary(JSON.parse(Ua),x.clientX,x.clientY),[2];if(!("application/json"===(null==(Na=null===(H=x.dataTransfer)||void 0===H?void 0:H.files[0])?void 0:Na.type)||null!=Na&&Na.name.endsWith(".excalidraw")))return[3,9];if(e.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];jc.label=5;case 5:return jc.trys.push([5,7,,8]),ob=x.dataTransfer.items[0],vb=Na,
[4,ob.getAsFileSystemHandle()];case 6:return vb.handle=jc.sent(),[3,8];case 7:return wb=jc.sent(),console.warn(wb.name,wb.message),[3,8];case 8:return Qm(Na,e.state).then(function(fc){return e.syncActionResult({elements:fc.elements,appState:$a($a({},fc.appState||e.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(fc){e.setState({isLoading:!1,errorMessage:fc.message})}),[3,10];case 9:(null==Na?void 0:Na.type)===Xa.LO.excalidrawlib||null!=Na&&Na.name.endsWith(".excalidrawlib")?Yh.importLibrary(Na).then(function(){e.setState({isLibraryOpen:!1})}).catch(function(fc){return e.setState({isLoading:!1,
errorMessage:fc.message})}):e.setState({isLoading:!1,errorMessage:Wb("alerts.couldNotLoadInvalidFile")}),jc.label=10;case 10:return[2]}})});return function(x){return t.apply(this,arguments)}}();this.handleCanvasContextMenu=function(t){t.preventDefault();e.openContextMenu(t)};this.maybeDragNewGenericElement=function(t,x){var H=e.state.draggingElement,W=t.lastCoords;if(H)if("selection"===H.type)Ei(H,e.state.elementType,t.origin.x,t.origin.y,W.x,W.y,Math.abs(t.origin.x-W.x),Math.abs(t.origin.y-W.y),
x.shiftKey,x.altKey);else{var ca=sh(W.x,W.y,e.state.gridSize);W=ca[0];ca=ca[1];Ei(H,e.state.elementType,t.originInGrid.x,t.originInGrid.y,W,ca,Math.abs(t.originInGrid.x-W),Math.abs(t.originInGrid.y-ca),x.shiftKey,x.altKey);e.maybeSuggestBindingForAll([H])}};this.maybeHandleResize=function(t,x){var H=Lf(e.scene.getElements(),e.state),W=t.resize.handleType;e.setState({isResizing:W&&"rotation"!==W,isRotating:"rotation"===W});var ca=t.lastCoords;ca=sh(ca.x-t.resize.offset.x,ca.y-t.resize.offset.y,e.state.gridSize);
a:{var ya=t.resize.arrowDirection,ua=x.shiftKey,Ga=x.altKey;x=x.shiftKey;var Ua=ca[0],Na=ca[1];ca=t.resize.center.x;var ob=t.resize.center.y;if(1===H.length){ca=H[0];if("rotation"===W)W=wg(ca),W=5*Math.PI/2+Math.atan2(Na-(W[1]+W[3])/2,Ua-(W[0]+W[2])/2),ua&&(W+=Xa.ay/2,W-=W%Xa.ay),W=Vf(W),of(ca,{angle:W}),zi(ca);else if(!ff(ca)||2!==ca.points.length||"nw"!==W&&"ne"!==W&&"sw"!==W&&"se"!==W)if(!le(ca)||"nw"!==W&&"ne"!==W&&"sw"!==W&&"se"!==W){if(W){ya=t.originalElements.get(ca.id);var vb=hh(ya,ya.width,
ya.height);ua=[vb[0],vb[1]];t=[vb[2],vb[3]];vb=[(ua[0]+t[0])/2,(ua[1]+t[1])/2];ob=ji([Ua,Na],vb,-ya.angle);Ua=hh(ca,ca.width,ca.height);var wb=Ua[2]-Ua[0],jc=Ua[3]-Ua[1];Ua=(t[0]-ua[0])/wb;Na=(t[1]-ua[1])/jc;W.includes("e")&&(Ua=(ob[0]-ua[0])/wb);W.includes("s")&&(Na=(ob[1]-ua[1])/jc);W.includes("w")&&(Ua=(t[0]-ob[0])/wb);W.includes("n")&&(Na=(t[1]-ob[1])/jc);ob=ya.width;wb=ya.height;Ua*=ca.width;Na*=ca.height;if(Ga&&(Ua=2*Ua-ob,Na=2*Na-wb),x){jc=Math.abs(Ua)/ob;var fc=Math.abs(Na)/wb;if(1===W.length&&
(Na*=jc,Ua*=fc),2===W.length)jc=Math.max(jc,fc),Ua=ob*jc*Math.sign(Ua),Na=wb*jc*Math.sign(Na)}fc=hh(ya,Ua,Na);ob=fc[0];wb=fc[1];jc=fc[2]-ob;fc=fc[3]-wb;var Fc=Dj([],ua);if(["n","w","nw"].includes(W)&&(Fc=[t[0]-Math.abs(jc),t[1]-Math.abs(fc)]),"ne"===W)Fc=[ua[0],t[1]],Fc=[Fc[0],Fc[1]-Math.abs(fc)];"sw"===W&&(ua=[t[0],ua[1]],Fc=[ua[0]-Math.abs(jc),ua[1]]);x&&(["s","n"].includes(W)&&(Fc[0]=vb[0]-jc/2),["e","w"].includes(W)&&(Fc[1]=vb[1]-fc/2));0>Ua&&(W.includes("e")&&(Fc[0]-=Math.abs(jc)),W.includes("w")&&
(Fc[0]+=Math.abs(jc)));0>Na&&(W.includes("s")&&(Fc[1]-=Math.abs(fc)),W.includes("n")&&(Fc[1]+=Math.abs(fc)));Ga&&(Fc[0]=vb[0]-Math.abs(jc)/2,Fc[1]=vb[1]-Math.abs(fc)/2);W=ya.angle;Ga=ji(Fc,vb,W);x=ji([Fc[0]+Math.abs(jc)/2,Fc[1]+Math.abs(fc)/2],vb,W);Fc=ji(Ga,x,-W);W=Oe(ya,Ua,Na);Ga=Dj([],Fc);Ga[0]+=ya.x-ob;Ga[1]+=ya.y-wb;W=Dc({width:Math.abs(Ua),height:Math.abs(Na),x:Ga[0],y:Ga[1]},W);0!==W.width&&0!==W.height&&Number.isFinite(W.x)&&Number.isFinite(W.y)&&(zi(ca,{newSize:{width:W.width,height:W.height}}),
of(ca,W))}}else{ya=wg(ca);t=ya[0];ua=ya[1];x=ya[2];ya=ya[3];Na=Pf(Ua,Na,(t+x)/2,(ua+ya)/2,-ca.angle);Ua=Na[0];Na=Na[1];switch(W){case "se":vb=Math.max((Ua-t)/(x-t),(Na-ua)/(ya-ua));break;case "nw":vb=Math.max((x-Ua)/(x-t),(ya-Na)/(ya-ua));break;case "ne":vb=Math.max((Ua-t)/(x-t),(ya-Na)/(ya-ua));break;case "sw":vb=Math.max((x-Ua)/(x-t),(Na-ua)/(ya-ua))}0<vb&&(Ua=ca.width*vb,vb*=ca.height,Na=eh(ca,Ua,vb),null!==Na&&(ob=hh(ca,Ua,vb),t=(t-ob[0])/2,ua=(ua-ob[1])/2,x=(x-ob[2])/2,ya=(ya-ob[3])/2,W={n:/^(n|ne|nw)$/.test(W)||
Ga&&/^(s|se|sw)$/.test(W),s:/^(s|se|sw)$/.test(W)||Ga&&/^(n|ne|nw)$/.test(W),w:/^(w|nw|sw)$/.test(W)||Ga&&/^(e|ne|se)$/.test(W),e:/^(e|ne|se)$/.test(W)||Ga&&/^(w|nw|sw)$/.test(W)},W=kg(W,ca.x,ca.y,ca.angle,t,ua,x,ya),of(ca,{fontSize:Na.size,width:Ua,height:vb,baseline:Na.baseline,x:W[0],y:W[1]})));zi(ca)}else W=wg(ca),Ga=Pf(Ua,Na,(W[0]+W[2])/2,(W[1]+W[3])/2,-ca.angle),W=Ga[0],Ga=Ga[1],Ga="end"===ya?[W-ca.x,Ga-ca.y]:[ca.x+ca.points[1][0]-W,ca.y+ca.points[1][1]-Ga],W=Ga[0],Ga=Ga[1],ua&&(x=ca.angle,
W=Ze.apply(void 0,Dj([ca.type],Pf(W,Ga,0,0,x))),Ga=Pf(W.width,W.height,0,0,-x),W=Ga[0],Ga=Ga[1]),x=kg("end"===ya?{s:!0,e:!0}:{n:!0,w:!0},ca.x,ca.y,ca.angle,0,0,(ca.points[1][0]-W)/2,(ca.points[1][1]-Ga)/2),of(ca,{x:x[0],y:x[1],points:[[0,0],[W,Ga]]});ca=!0}else{if(1<H.length){if("rotation"===W){ca=(gl(t,H,Ua,Na,ua,ca,ob),!0);break a}if("nw"===W||"ne"===W||"sw"===W||"se"===W){ca=(pj(H,W,Ua,Na),!0);break a}}ca=!1}}return!!ca&&(e.maybeSuggestBindingForAll(H),!0)};this.openContextMenu=function(t){var x,
H=t.clientX;t=t.clientY;var W=xg({clientX:H,clientY:t},e.state),ca=W.x,ya=W.y,ua=Gg.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),Ga=jj.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState());W=Of().matches;var Ua=e.scene.getElements();ca=e.getElementAtPosition(ca,ya);ya=[];(jl&&0<Ua.length&&ya.push(pp),Vk&&0<Ua.length&&ya.push(qp),ca)?(e.state.selectedElementIds[ca.id]||e.setState({selectedElementIds:(x=
{},x[ca.id]=!0,x)}),e.state.viewModeEnabled?Fn({options:Gh([navigator.clipboard&&nn],ya),top:t,left:H,actionManager:e.actionManager,appState:e.state}):Fn({options:Gh(Gh([W&&$p,W&&navigator.clipboard&&nn,W&&navigator.clipboard&&{name:"paste",perform:function(Na,ob){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},W&&"separator"],ya),["separator",Qf,Df,"separator",ua&&Gg,Ga&&jj,(ua||Ga)&&"separator",Fo,"separator",lc,nc,l,C,"separator",ma,wa]),top:t,left:H,actionManager:e.actionManager,
appState:e.state})):(x=Gh(Gh([],ya),[void 0===e.props.gridModeEnabled&&np,void 0===e.props.zenModeEnabled&&Ae,void 0===e.props.viewModeEnabled&&Ss,Yn]),(Fn({options:x,top:t,left:H,actionManager:e.actionManager,appState:e.state}),e.state.viewModeEnabled)||Fn({options:[W&&navigator.clipboard&&{name:"paste",perform:function(Na,ob){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},W&&navigator.clipboard&&"separator",jl&&0<Ua.length&&pp,Vk&&0<Ua.length&&qp,(jl&&0<
Ua.length||Vk&&0<Ua.length)&&"separator",Y,"separator",void 0===e.props.gridModeEnabled&&np,void 0===e.props.zenModeEnabled&&Ae,void 0===e.props.viewModeEnabled&&Ss,Yn],top:t,left:H,actionManager:e.actionManager,appState:e.state}))};this.handleWheel=og(function(t){if(t.preventDefault(),!rq){var x=t.deltaX,H=t.deltaY,W=e.state,ca=W.selectedElementIds,ya=W.previousSelectedElementIds;if(t.metaKey||t.ctrlKey){t=Math.sign(H);W=Math.abs(H);10<W&&(W=10);W*=t;0!==Object.keys(ya).length&&setTimeout(function(){e.setState({selectedElementIds:ya,
previousSelectedElementIds:{}})},1E3);var ua=e.state.zoom.value-W/100;return ua+=Math.log10(Math.max(1,e.state.zoom.value))*-t,ua=Math.round(ua*Xa.V4*100)/(100*Xa.V4),e.setState(function(Ga){var Ua=Ga.zoom,Na=Ga.offsetLeft;Ga=Ga.offsetTop;return{zoom:oi(ek(ua),Ua,{left:Na,top:Ga},{x:Cp,y:Dp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(ca).length?ca:ya,shouldCacheIgnoreZoom:!0}}),void e.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?e.setState(function(Ga){return{scrollX:Ga.scrollX-
(H||x)/Ga.zoom.value}}):e.setState(function(Ga){var Ua=Ga.zoom;return{scrollX:Ga.scrollX-x/Ua.value,scrollY:Ga.scrollY-H/Ua.value}})}});this.savePointer=function(t,x,H){var W,ca;t&&x&&(t=xg({clientX:t,clientY:x},e.state),isNaN(t.x)||isNaN(t.y),null===(W=(ca=e.props).onPointerUpdate)||void 0===W||W.call(ca,{pointer:t,button:H,pointersMap:Ql}))};this.resetShouldCacheIgnoreZoomDebounced=ai(function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Xa.Vi.TEST&&"production"!==
Xa.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(e){return this.app.scene.replaceAllElements(e)}},history:{configurable:!0,get:function(){return dl}},library:{configurable:!0,value:Yh}}));p(8234);p(4651);var Os=function(e){var t=e.width,x=e.height,H=e.offsetLeft,W=e.offsetTop,ca=e.onChange,ya=e.initialData,ua=e.excalidrawRef,Ga=e.onCollabButtonClick,Ua=e.isCollaborating,
Na=e.onPointerUpdate,ob=e.onExportToBackend,vb=e.renderFooter,wb=e.langCode;wb=void 0===wb?ae.code:wb;var jc=e.viewModeEnabled,fc=e.zenModeEnabled;e=e.gridModeEnabled;return(0,fa.useEffect)(function(){var Fc=function(nd){"number"==typeof nd.scale&&1!==nd.scale&&nd.preventDefault()};return document.addEventListener("touchmove",Fc,{passive:!1}),function(){document.removeEventListener("touchmove",Fc)}},[]),Z().createElement(Kh,{langCode:wb},Z().createElement(Bf,null,Z().createElement(Wr,{width:t,height:x,
offsetLeft:H,offsetTop:W,onChange:ca,initialData:ya,excalidrawRef:ua,onCollabButtonClick:Ga,isCollaborating:Ua,onPointerUpdate:Na,onExportToBackend:ob,renderFooter:vb,langCode:wb,viewModeEnabled:jc,zenModeEnabled:fc,gridModeEnabled:e})))};Os.defaultProps={lanCode:ae.code};var Vt=(0,fa.forwardRef)(function(e,t){return Z().createElement(Os,Da()({},e,{excalidrawRef:t}))});const Wt=Z().memo(Vt,function(e,t){e.initialData;var x=S()(e,["initialData"]),H=(t.initialData,S()(t,["initialData"]));e=Object.keys(e);
t=Object.keys(t);return e.length===t.length&&e.every(function(W){return x[W]===H[W]})});p(6009);const Xt=Wt},4698:B=>{B.exports=y},6207:B=>{B.exports=A}},a={};return u.m=v,u.n=B=>{var r=B&&B.__esModule?()=>B.default:()=>B;return u.d(r,{a:r}),r},h=Object.getPrototypeOf?B=>Object.getPrototypeOf(B):B=>B.__proto__,u.t=function(B,r){if((1&r&&(B=this(B)),8&r)||"object"==typeof B&&B&&(4&r&&B.__esModule||16&r&&"function"==typeof B.then))return B;var p=Object.create(null);u.r(p);var G={};k=k||[null,h({}),
h([]),h(h)];for(r=2&r&&B;"object"==typeof r&&!~k.indexOf(r);r=h(r))Object.getOwnPropertyNames(r).forEach(E=>G[E]=()=>B[E]);return G.default=()=>B,u.d(p,G),p},u.d=(B,r)=>{for(var p in r)u.o(r,p)&&!u.o(B,p)&&Object.defineProperty(B,p,{enumerable:!0,get:r[p]})},u.f={},u.e=B=>Promise.all(Object.keys(u.f).reduce((r,p)=>(u.f[p](B,r),r),[])),u.u=B=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",
196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",
736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[B]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",
317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",
869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[B]+".js",u.o=(B,r)=>Object.prototype.hasOwnProperty.call(B,r),m={},u.l=(B,r,p,G)=>{if(m[B])m[B].push(r);else{var E;if(void 0!==p){G=document.getElementsByTagName("script");for(var K=0;K<G.length;K++){var U=G[K];if(U.getAttribute("src")==B||U.getAttribute("data-webpack")=="Excalidraw:"+p){var ba=U;break}}}ba||(E=!0,(ba=document.createElement("script")).charset="utf-8",ba.timeout=120,u.nc&&ba.setAttribute("nonce",u.nc),
ba.setAttribute("data-webpack","Excalidraw:"+p),ba.src=B);m[B]=[r];r=(L,M)=>{ba.onerror=ba.onload=null;clearTimeout(P);var R=m[B];if(delete m[B],ba.parentNode&&ba.parentNode.removeChild(ba),R&&R.forEach(ra=>ra(M)),L)return L(M)};var P=setTimeout(r.bind(null,void 0,{type:"timeout",target:ba}),12E4);ba.onerror=r.bind(null,ba.onerror);ba.onload=r.bind(null,ba.onload);E&&document.head.appendChild(ba)}},u.r=B=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(B,"__esModule",{value:!0})},u.p="",(()=>{var B={163:0};u.f.j=(G,E)=>{var K=u.o(B,G)?B[G]:void 0;if(0!==K)if(K)E.push(K[2]);else{var U=new Promise((P,L)=>{K=B[G]=[P,L]});E.push(K[2]=U);E=u.p+u.u(G);var ba=Error();u.l(E,P=>{if(u.o(B,G)&&(0!==(K=B[G])&&(B[G]=void 0),K)){var L=P&&("load"===P.type?"missing":P.type);P=P&&P.target&&P.target.src;ba.message="Loading chunk "+G+" failed.\n("+L+": "+P+")";ba.name="ChunkLoadError";ba.type=L;ba.request=P;K[1](ba)}},"chunk-"+
G,G)}};var r=(G,E)=>{for(var K,U,[ba,P,L]=E,M=0,R=[];M<ba.length;M++)U=ba[M],u.o(B,U)&&B[U]&&R.push(B[U][0]),B[U]=0;for(K in P)u.o(P,K)&&(u.m[K]=P[K]);L&&L(u);for(G&&G(E);R.length;)R.shift()()},p=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];p.forEach(r.bind(null,0));p.push=r.bind(null,p.push.bind(p))})(),u(3956)})()})};
'use strict';var s7b=function(a,b){var c=$APP.CA();$APP.l(c)&&$APP.gz($APP.TYa(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Mk($APP.E(["Error loading ",a,": ",d]))})},u7b=function(a){var b=$APP.Vv(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Ki(t7b.F(a),b);return a},v7b=new $APP.J(null,"view-mode-enabled","view-mode-enabled",-588220561),w7b=new $APP.J("frontend.extensions.excalidraw","view-mode?","frontend.extensions.excalidraw/view-mode?",
525380621),x7b=new $APP.J(null,"viewBackgroundColor","viewBackgroundColor",1889137994),y7b=new $APP.J(null,"grid-mode-enabled","grid-mode-enabled",584978327),z7b=new $APP.J(null,"gridSize","gridSize",843108791),A7b=new $APP.J("frontend.extensions.excalidraw","elements","frontend.extensions.excalidraw/elements",1745667967),B7b=new $APP.J("frontend.extensions.excalidraw","loading?","frontend.extensions.excalidraw/loading?",-1335058663),C7b=new $APP.J("frontend.extensions.excalidraw","data","frontend.extensions.excalidraw/data",
-1371036113),D7b=new $APP.J(null,"zen-mode-enabled","zen-mode-enabled",-955634269),E7b=new $APP.J("frontend.extensions.excalidraw","zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),F7b=new $APP.J(null,"appState","appState",-1920687968),G7b=new $APP.J(null,"initial-data","initial-data",-1315709804),t7b=new $APP.J("frontend.extensions.excalidraw","draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.Oca("excalidraw");var H7b=$APP.vv(532);var I7b,J7b,K7b,L7b;$APP.t_b={};I7b=$APP.AK($APP.Ka(H7b,"default"));J7b=$APP.Yk.F(null);
K7b=$APP.Pv($APP.Tv,function(a,b,c){$APP.rA($APP.BA);$APP.Yv(J7b);var d=$APP.G.B(a,t7b),e=$APP.G.B(a,E7b),f=$APP.G.B(a,w7b),g=$APP.rA($APP.dPa),m=$APP.G.B(a,A7b),n=$APP.Hm.F(c);return $APP.l(b)?$APP.V("div",{onMouseDown:function(q){return $APP.tz(q)},className:"overflow-hidden"},[$APP.V("div",{style:{fontSize:10},className:"my-1"},[$APP.V("a",{onClick:$APP.ePa,className:"mr-2"},[$APP.Bv($APP.ez("Wide Mode (%s)",$APP.E([$APP.l(g)?"ON":"OFF"])))]),$APP.V("a",{onClick:function(){return $APP.Zk.B(e,$APP.jd)},
className:"mr-2"},[$APP.Bv($APP.ez("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.V("a",{onClick:function(){return $APP.Zk.B(f,$APP.jd)},className:"mr-2"},[$APP.Bv($APP.ez("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.V("div",{onMouseDown:function(q){$APP.tz(q);return $APP.zA($APP.CY,!0)},onBlur:function(){return $APP.zA($APP.CY,!1)},className:"draw-wrap"},[$APP.Bv(function(){var q=$APP.en.K($APP.E([new $APP.k(null,6,[$APP.gT,function(t,v){var y=$APP.Lt(t);return $APP.w(y)&&
$APP.gk.B(t,$APP.r(m))?(v=$APP.Lt(v),$APP.A0a(n,JSON.stringify($APP.Mt(new $APP.k(null,5,[$APP.Fm,"excalidraw",$APP.oR,2,$APP.Eq,$APP.o0a,$APP.K2,t,F7b,$APP.hk(v,new $APP.N(null,2,5,$APP.O,[z7b,x7b],null))],null)))),$APP.Ki(m,t)):null},D7b,$APP.r(e),v7b,$APP.r(f),y7b,!1,G7b,b,$APP.Wz,$APP.r(d)],null),$APP.l(g)?new $APP.k(null,1,[$APP.Xz,650],null):new $APP.k(null,1,[$APP.Xz,500],null)]));return I7b.F?I7b.F(q):I7b.call(null,q)}())])]):null},new $APP.N(null,7,5,$APP.O,[$APP.o6,$APP.Wv(800,t7b),$APP.Wv(!0,
E7b),$APP.Wv(!1,w7b),$APP.Wv(null,A7b),new $APP.k(null,1,[$APP.Lv,u7b],null),new $APP.k(null,1,[$APP.Nv,u7b],null)],null),"frontend.extensions.excalidraw/draw-inner");
L7b=$APP.Pv($APP.Tv,function(a,b){var c=$APP.G.B(a,C7b);a=$APP.G.B(a,B7b);a=$APP.Yv(a);c=$APP.Yv(c);var d=$APP.rA($APP.FPb);return $APP.l($APP.Hm.F(b))?$APP.l(d)?(b=$APP.kT("Loading"),$APP.V("div",$APP.Cf(b)?$APP.Av($APP.yv($APP.E([new $APP.k(null,1,[$APP.xv,new $APP.N(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.Cf(b)?null:[$APP.Bv(b)])):!1===a?K7b(c,b):null:null},new $APP.N(null,2,5,$APP.O,[$APP.o6,new $APP.k(null,1,[$APP.Jv,function(a){var b=$APP.Qv.F(a);b=$APP.D.G(b,
0,null);b=$APP.Hm.F(b);var c=$APP.Yk.F(null),d=$APP.Yk.F(!0);$APP.l(b)&&s7b(b,function(e){if($APP.em(e))var f=null;else try{f=JSON.parse(e)}catch(g){if(g instanceof Error)e=g,$APP.Mk($APP.E(["from json error:"])),console.dir(e),f=$APP.$J($APP.pwa("Could not load this invalid excalidraw file"),$APP.Lo);else throw g;}$APP.Ki(c,f);return $APP.Ki(d,!1)});return $APP.P.K(a,C7b,c,$APP.E([B7b,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.u_b=$APP.Pv($APP.Sv,function(a){var b=$APP.CA(),c=$APP.rA(new $APP.N(null,2,5,$APP.O,[$APP.dK,b],null));return $APP.YB(b)&&$APP.jd(c)&&$APP.jd($APP.dz())?null:L7b(a)},new $APP.N(null,1,5,$APP.O,[$APP.o6],null),"frontend.extensions.excalidraw/draw");$APP.Rb.Ki();
}).call(this);